<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title>selection 对象 - Keep It Simple</title>
    <meta name="keywords" content="博客,思考,读书,笔记,技术,分享">
    
    <meta property="og:title" content="selection 对象">
    <meta property="og:site_name" content="Keep It Simple">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content="selection 对象 - Keep It Simple" />
    <meta name="description" content="Swift | Go | C&#43;&#43; "> 
    <link rel="shortcut icon" href="https://iihui.github.io/img/favicon.ico" />
    <link rel="apple-touch-icon" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link href="https://iihui.github.io/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/main.css" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/syntax.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>

    <link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/objectivec.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/clojure.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/kotlin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/yaml.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="https://iihui.github.io/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Keep It Simple</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">靡不有初，鲜克有终</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/tags/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-tag"></i> <br />标签
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E7%BE%8E%E9%A3%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />美食
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E5%90%8E%E6%9C%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-edit"></i> <br />后期
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E6%97%85%E8%A1%8C/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-leaf"></i> <br />旅行
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于
          </a>
        </li>
      
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger"> <i class="menu-item-icon fa fa-search fa-fw"></i> <br /> 搜索</a>
      </li>
    </ul>
    <div class="site-search">
      <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
</nav>
<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		<!-- src = "http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> <\!--  -\-> -->
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
</head>
<body>

</body>
</html>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="https://iihui.github.io/post/js-selection/" itemprop="url">
        selection 对象
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">创建: </span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="2018-12-17">
    2018-12-17
</time>
</span>
&nbsp; | &nbsp;
<span class="post-updated-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-check-o"></i>
</span>
<span class="post-meta-item-text">更新: </span>
<time itemprop="dateUpdated" content="2018-12-17">
    2018-12-17
</time>
</span> 
      

  <span class="post-category" >
  &nbsp; | &nbsp;
  <span class="post-meta-item-icon">
    <i class="fa fa-folder-o"></i>
  </span>
  <span class="post-meta-item-text">分类: </span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="https://iihui.github.io/categories/code" itemprop="url" rel="index">
        <span itemprop="name">code</span>
      </a>
      &nbsp; 
    </span>
  
</span>


      <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-file-word-o"></i>
</span>
<span class="post-meta-item-text">字数: </span>
<span class="leancloud-visitors-count">7574</span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-coffee"></i>
</span>
<span class="post-meta-item-text">阅读: </span>
<span class="leancloud-visitors-count">16 分钟</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    <blockquote>
<p>在富文本编辑器中，需要控制光标的各种状态信息，位置信息。浏览器提供了<code>selection</code>对象和<code>range</code>对象来操作光标。</p>
</blockquote>
<h2 id="selection">selection</h2>
<p><code>Selection</code>对象表示<font color=red>用户选择的文本范围或插入符号的当前位置</font>。它代表页面中的<font color=red>文本选区</font>，<font color=Blue>可能横跨多个元素<code>(element)</code></font>，文本选区由用户<font color=Blue>拖拽鼠标</font>而产生。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">selection</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">getSelection</span>();
</span></span></code></pre></div><p>通常需要操作<code>selection</code>对象所对应的用户选择区<code>(range)</code>(俗称<font color=Blue>拖蓝</font>)，获取方式为:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">rangeCount</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">range</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">getRangeAt</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//或者
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">rangeCount</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">range</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">getRangeAt</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h2 id="range对象">range对象</h2>
<p><code>range</code>对象代表页面上<font color=red>一段连续的区域</font>，通过<code>range</code>对象可以<font color=Blue>获取或者修改</font>页面上的任何区域，也可以通过<code>Range</code>的方法进行<font color=Blue>复制和移动</font>页面上的任何区域。</p>
<p><img src="https://i.loli.net/2018/12/18/5c18b8dbd9942.jpg" alt="-c600"></p>
<ul>
<li>
<p><code>startContainer</code>: <code>range</code>范围的起始节点。</p>
</li>
<li>
<p><code>endContainer</code>:<code>range</code> 范围的结束节点。</p>
</li>
<li>
<p><code>startOffset</code>: 如果<code>startContainer</code>是<font color=Blue>文本节点、注释节点、或者<code>CDATA</code>节点</font>，则返回起点在<code>startContainer</code>中的字符偏移量，如果<code>startContainer</code>是<font color=red>元素节点</font>，则返回起点在<code>startContainer.childNodes</code>中的次序。</p>
</li>
<li>
<p><code>endOffset</code>: 表示终点，含义与<code>startOffset</code>类似。</p>
</li>
<li>
<p><code>commonAncestorContainer</code>: 返回包含<code>startContainer</code>和<code>endContainer</code>的最近祖先节点。</p>
</li>
<li>
<p><code>collapsed</code>:返回一个用于判断<code>range</code>起始位置和终止位置<font color=LightSeaGreen>是否相同的布尔值</font>。</p>
</li>
</ul>
<p><img src="https://i.loli.net/2018/12/18/5c18ba277dc61.jpg" alt="-c600"></p>
<hr>
<h2 id="range常用方法">range常用方法</h2>
<ul>
<li>
<p><code>setStart(node,offset)</code>:设置起点的位置，<code>node</code>是对<code>startContainer</code>的引用，偏移则是<code>startOffset</code>。</p>
</li>
<li>
<p><code>setEnd(node,offset)</code>: 设置的终点的位置，<code>node</code>是对<code>endContainer</code>的引用，偏移则是<code>endOffset</code>。</p>
</li>
<li>
<p><code>selectNode(referenceNode)</code>：设置<code>Range</code>的范围，包括<code>referenceNode</code>和它的所有子孙节点。</p>
</li>
<li>
<p><code>selectNodeContents(referenceNode)</code>设置<code>Range</code>的范围，包括它的<font color=Blue>所有后代节点</font>，但<font color=red>不包含</font><code>referenceNode</code>节点。与<code>selectNode</code>区别较大。</p>
</li>
<li>
<p><code>collapse(bool)</code>: 向起点<code>start</code>折叠。</p>
</li>
<li>
<p><code>insertNode(node)</code>: 在<code>range</code>的<font color=Blue>起始处</font>插入节点。</p>
</li>
<li>
<p><code>cloneRange()</code>: 返回一个当前<code>Range</code>的副本</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">resetRange</span>(<span style="color:#a6e22e">startContainer</span>, <span style="color:#a6e22e">startOffset</span>, <span style="color:#a6e22e">endContainer</span>, <span style="color:#a6e22e">endOffset</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">selection</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">getSelection</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">removeAllRanges</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">range</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createRange</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">setStart</span>(<span style="color:#a6e22e">startContainer</span>, <span style="color:#a6e22e">startOffset</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">setEnd</span>(<span style="color:#a6e22e">endContainer</span>, <span style="color:#a6e22e">endOffset</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">selection</span>.<span style="color:#a6e22e">addRange</span>(<span style="color:#a6e22e">range</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><a href="https://www.jianshu.com/p/ad2f818cc3b0">参考资料</a></p>
<h1 id="chapter-1">Chapter 1</h1>
<p>在ES6及更高版本中，有一种定义函数的简洁语法。这种简洁的语法使用<code>=&gt;</code>来分隔参数列表和函数体，以这种方式定义的函数被称为箭头函数。箭头函数最常用于将一个未命名的函数作为参数传递给另一个函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">plus1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">square</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">x</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">plus1</span>(<span style="color:#ae81ff">12</span>))
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">square</span>(<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><h1 id="chapter-2">Chapter 2</h1>
<p>JavaScript是一种<font color=red>区分大小写的语言</font>，会忽略程序中标记之间的空格。在大多数情况下，JavaScript也会忽略换行符（也有例外情况）。由于可以在程序中自由使用空格和换行符，因此可以以整齐一致的方式格式化和缩进程序，使代码易于阅读和理解。</p>
<p>像其他语言一样，JavaScript使用分号分隔不同的语句，如果两条语句分别写在不同的行上，通常可以省略它们之间的分号。</p>
<p>需要注意的是，JavaScript并不是将每一个换行符都视为分号：通常只有在不添加隐式分号就无法解析代码的情况下，JavaScript 才会将换行符视为分号。更正式地说（除了稍后描述的三种例外情况），如果下一个非空格字符不能被解释为当前语句的继续，JavaScript 就会将换行符视为分号。</p>
<h1 id="chapter-3">Chapter 3</h1>
<p><code>JavaScript</code>的类型被分为两大类，基础类型和对象类型。<code>JavaScript</code>中的特殊值<code>null</code>和<code>undefined</code>也是基础类型值，但它们不是数值，字符串或布尔值。<font color=red>这两个值通常认为是各自特殊类型的唯一成员</font>。</p>
<p>任何<code>JavaScript</code>值，只要不是数字、字符串、布尔值、<code>Symbol</code>、<code>null</code>或<code>undefined</code>，都是对象。对象是属性的集合，每个属性都有一个名称和一个值。普通的<code>JavaScript</code>对象是<font color=Blue>无序的名字和值的集合</font>。函数和类也是特殊的对象。</p>
<p><code>JavaScript</code>中的算术运算在<font color=red>溢出、下溢或除以零的情况下都不会产生错误</font>。当数值运算的结果大于最大可表示的数（溢出）时，其结果是一个特殊的无穷大值，即<code>Infinity</code>。同样，当负值的绝对值大于最大可表示负数的绝对值时，结果就是负无穷大，即<code>-Infinity</code>。无穷大数值的行为与我们所期望的一样：与任何数值相加、相减、相乘或相除的结果都是无穷大数值（可能符号相反）。</p>
<p>当数值运算的结果<font color=red>比可表示的最小数字更接近零时，就会出现下溢</font>。在这种情况下，<code>JavaScript</code>返回0。如果负数出现下溢，<code>JavaScript</code>会返回一个称为<code>negative zero</code>的特殊值。这个值与普通的0几乎完全没有区别，<code>JavaScript</code> 程序员很少需要检测它。</p>
<p>在<code>JavaScript</code>中，除以0并不会产生一个错误，它只是简单的返回正无穷和负无穷。但也有一个例外，<font color=red>0除以0并不会返回一个明确定义的值，而是返回<code>NaN</code></font>。如果尝试用无穷大除以无穷大、取负数的平方根或使用不能转换为数字的非数字操作数的算术运算符，也会出现<code>NaN</code>。</p>
<p><code>JavaScript</code>预定义了全局常量<code>Infinity</code>和<code>NaN</code>，用于保存正无穷大和非数字值，这些值也可以作为<code>Number</code>对象的属性使用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">Infinity</span>, Number.<span style="color:#a6e22e">POSITIVE_INFINITY</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>, Number.<span style="color:#a6e22e">MAX_VALUE</span> <span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#f92672">-</span><span style="color:#66d9ef">Infinity</span>, Number.<span style="color:#a6e22e">NEGATIVE_INFINITY</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">0</span>, <span style="color:#f92672">-</span>Number.<span style="color:#a6e22e">MAX_VALUE</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">NaN</span>, Number.<span style="color:#66d9ef">NaN</span>, <span style="color:#ae81ff">0</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">Infinity</span> <span style="color:#f92672">/</span> <span style="color:#66d9ef">Infinity</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(Number.<span style="color:#a6e22e">MIN_VALUE</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, <span style="color:#f92672">-</span>Number.<span style="color:#a6e22e">MIN_VALUE</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> <span style="color:#66d9ef">Infinity</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><p><code>NaN</code>的值有一个不同寻常的特性：<font color=red>它不会与任何其他值（包括它自己）进行比较</font>。这意味着不能使用<code>x === NAN</code>来判断x的值是否为<code>NaN</code>。相反，必须写成<code>x != x</code>或<code>Number.isNaN(x)</code>。当且仅当<code>x</code>的值与全局常量<code>NaN</code>相同时，这些表达式才会为真。</p>
<p>全局函数<code>isNaN()</code>和<code>Number.isNaN()</code>是相似的。如果参数为<code>NaN</code>，或者参数为无法转换为数字的非数值，则返回 <code>true</code>。如果函数<code>Number.isFinite()</code>的参数是<code>NaN、Infinity</code>或<code>-Infinity</code>以外的数字，则相关函数 <code>Number.isFinite()</code>返回<code>true</code>。如果全局函数<code>isFinite()</code>的参数是或可以转换为有限数值，该函数将返回<code>true</code>。</p>
<p>负零值也有些不同寻常。它与正零比较是相等的（即使是使用<code>JavaScript</code>的严格相等测试），这意味着这两个值几乎没有区别，除非用作除数时：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> zero = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> negz = <span style="color:#f92672">-</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>console.log(zero === negz)
</span></span><span style="display:flex;"><span>console.log(<span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> zero === <span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> negz)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印的结果</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">false</span>
</span></span></code></pre></div><h3 id="binary-floating-point-and-rounding-errors">Binary Floating-Point and Rounding Errors</h3>
<p>实数有无限多个，但<code>JavaScript</code>的浮点格式只能表示其中有限个数据。也就是说，在 <code>JavaScript</code> 中处理实数时，数字的表示往往是实际数字的近似值。</p>
<p><code>JavaScript</code>使用的<code>IEEE-754</code>浮点表示法是一种二进制表示法。这种表示法可以精确地表示<code>1/2</code>,<code>1/8</code>和<code>1/1024</code>等分数，但不能精确的表示<code>0.1</code>。虽然<code>JavaScript</code>有足够高的精度，能够让数值非常近似地表示<code>0.1</code>，但无法精确地表示，这可能导致一些问题：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> x = .<span style="color:#ae81ff">3</span> <span style="color:#f92672">-</span> .<span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> y = .<span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span> .<span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>console.log(x === y)
</span></span><span style="display:flex;"><span>console.log(x === .<span style="color:#ae81ff">1</span>, y === .<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印的结果</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">false</span> <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>上面代码中，由于舍入误差，<code>.3</code>和<code>.2</code>近似值之差与<code>.2</code>和<code>.1</code>近似值之差并不相等。但这并不是JavaScript独有的问题，而是所有使用二进制浮点数的编程语言共有的问题。</p>
<p>此外，请注意上面代码中的x和y值非常接近，也极其接近正确值。计算出来的值几乎可以满足任何需要，但当我们试图比较值是否相等时才会出现问题。</p>
<p>如果使用浮点近似值对你的程序有问题，<font color=red>可以考虑使用缩放整数</font>。例如，可以使用整数值而不是小数值来处理货币。</p>
<h3 id="arbitrary-precision-integers-with-bigint">Arbitrary Precision Integers with BigInt</h3>
<p>在ES2020中定义的JavaScript最新特性之一是一种名为BigInt的新的数值类型。顾名思义，BigInt是一种数值类型，其值为整数。</p>
<p>将BigInt添加到JavaScript中主要是为了允许表示64位整数，这是与许多其他编程语言和API兼容所必需的。如果需要处理比较大的数字，BigInt值以有数千甚至数百万位。但请注意，<font color=red>BigInt并不适合用于加密，因为它实现时没有考虑防止时序攻击</font>。</p>
<p>BigInt字面量是一串数字后面跟小写字母n。默认情况下，它的基数是10，但可以通过前置0b,0o和0x来表示二进制、八进制和十六进制BigInt。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#ae81ff">1234</span><span style="color:#a6e22e">n</span>, <span style="color:#ae81ff">0b11111</span>, <span style="color:#ae81ff">0o7777</span><span style="color:#a6e22e">n</span>, <span style="color:#ae81ff">0x8000000</span>)
</span></span></code></pre></div><p>可以使用BigInt()函数把普通的数值或字符串转换为BigInt值:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">BigInt</span>(Number.<span style="color:#a6e22e">MAX_SAFE_INTEGER</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;0&#34;</span>.<span style="color:#a6e22e">repeat</span>(<span style="color:#ae81ff">100</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">BigInt</span>(<span style="color:#a6e22e">string</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">9007199254740991</span><span style="color:#a6e22e">n</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">6410000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</span><span style="color:#a6e22e">n</span>
</span></span></code></pre></div><p>BigInt的算术运算与JavaScript常规数值的算术运算类似，只不过除法会丢弃余数，并向下取整。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#ae81ff">1000</span><span style="color:#a6e22e">n</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2000</span><span style="color:#a6e22e">n</span>, <span style="color:#ae81ff">2000</span><span style="color:#a6e22e">n</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">3000</span><span style="color:#a6e22e">n</span>, <span style="color:#ae81ff">3000</span><span style="color:#a6e22e">n</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">997</span><span style="color:#a6e22e">n</span>, <span style="color:#ae81ff">3000</span><span style="color:#a6e22e">n</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">997</span><span style="color:#a6e22e">n</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印的值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#ae81ff">3000</span><span style="color:#a6e22e">n</span> <span style="color:#ae81ff">6000000</span><span style="color:#a6e22e">n</span> <span style="color:#ae81ff">3</span><span style="color:#a6e22e">n</span> <span style="color:#ae81ff">9</span><span style="color:#a6e22e">n</span>
</span></span></code></pre></div><p>虽然+, -, *, /, %, 和**运算符号可以用于BigInt，但必须注意的是，不能将BigInt类型的操作数与普通数字操作数混合使用。但是，比较运算符可以处理混合数值类型。位操作数通常可以用于BigInt操作数，但Math对象的任何函数都不接收BigInt操作数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">timestamp</span> <span style="color:#f92672">=</span> Date.<span style="color:#a6e22e">now</span>(); <span style="color:#75715e">// The current time as a timestamp (a number).
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">now</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date(); <span style="color:#75715e">// The current time as a Date object.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">ms</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">getTime</span>(); <span style="color:#75715e">// Convert to a millisecond timestamp.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">iso</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">toISOString</span>(); <span style="color:#75715e">// Convert to a string in standard format.
</span></span></span></code></pre></div><h2 id="text">Text</h2>
<p>表示文本的JavaScript类型是字符串。字符串是由16bit值组成的不可变的有序序列，每个数值通常代表一个 Unicode字符。字符串的长度就是它所包含的16bit值的个数。JavaScript的字符串（及其数组）使用基于0的索引：第一个16bit值位于0位置，第二个位于1位置，以此类推。</p>
<p>空字符串就是长度为 0 的字符串。 JavaScript没有表示字符串中单个元素的特殊类型。要表示单个16 bit值，只需使用长度为1的字符串即可。</p>
<p>JavaScript使用UTF-16编码Unicode 字符集 ，JavaScript字符串是无符号16 bit值序列。最常见的Unicode字符的码点适合16bit，可以用字符串的一个元素来表示。Unicode字符的码点不适合用16bit表示的 Unicode 字符则使用 UTF-16规则编码为两16bit值的序列（称为 &ldquo;surrogate pair&rdquo;）。这意味着长度为2（两个16bit值）的 JavaScript 字符串可能只代表一个 Unicode 字符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> euro = <span style="color:#e6db74">&#34;€&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> love = <span style="color:#e6db74">&#34;❤&#34;</span>;
</span></span><span style="display:flex;"><span>console.log(euro.length, love.length)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印的值</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>JavaScript 定义的大多数字符串操作方法都是对16bit值而非字符进行操作。它们不会特殊处理surrogate pair，不会对字符串进行归一化处理，甚至不会确保字符串是格式良好的 UTF-16 字符串。</p>
<p>但在ES6中，字符串是可迭代的，如果对字符串使用for/of循环或&hellip;操作符，迭代的是字符串而不是16bit值。</p>
<h3 id="string-literals">String Literals</h3>
<p>要在JavaScript程序中使用字符串字面量，可以把字符串放到一对匹配的单引号，双引号或者反引号中。双引号字符和反引号可以出现在由单引号包含的字符串，反引号和单引号类似。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#75715e">// The empty string: it has zero characters 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#39;testing&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;3.14&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;name=&#34;myform&#34;&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Wouldn&#39;t you prefer O&#39;Reilly&#39;s book?&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;τ is the ratio of a circle&#39;s circumference to its radius&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`&#34;She said &#39;hi&#39;&#34;, he said.`</span>
</span></span></code></pre></div><p>使用反引号包含字符串是ES6的一大特色，它允许将JavaScript表达式嵌入（或插值到）字符串字面中。最初版本的JavaScript要求字符串字面量写在一行上，因此经常可以看到 JavaScript 代码通过使用+运算符连接单行字符串来创建长字符串。</p>
<p>但是，从ES5开始，可以通过在每一行（最后一行除外）的结尾使用反斜线，将字符串字面量分成多行。<font color=red>反斜线和它后面的行结束符都不是字符串字面量的一部分</font>。如果需要在单引号或双引号字符串字面量中包含换行符，需要使用字符<code>\n</code>。ES6的回车键语法允许将字符串分成多行，在这种情况下，行结束符是字符串字面量的一部分：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#e6db74">&#39;two\nlines&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;one\
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">long\
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">line&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// A two-line string written on two lines:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`the newline character at the end of this line 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">is included literally in this string`</span>
</span></span></code></pre></div><p>需要注意的是，在使用单引号定界字符串时，必须注意英文中的缩写和所有格，比如can&rsquo;t和O&rsquo;Reilly中的单引号，此时需要使用转义：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#e6db74">&#39;You\&#39;re right, it can\&#39;t be a quote&#39;</span>
</span></span></code></pre></div><p>拼接字符串是JavaScript的一个内置特性，如果对字符串使用+操作符，那么字符串就会拼接起来。可以使用标准的<code>===</code>或<code>!==</code>操作符比较字符串。只有当这两个字符串具有完全相同的16bit序列值才相等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">msg</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello,&#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;world&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">greeting</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Welcome to my blog&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">greeting</span>)
</span></span></code></pre></div><p>字符串也可以使用<code>&lt;,&lt;=,&gt;,&gt;=</code>操作符，字符串比较都是通过比较16bit值来完成的。要确定一个字符串的长度可以使用<code>length</code>属性：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">length</span>
</span></span></code></pre></div><p>字符串还有其他API：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hello,&#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;world&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Obtaining portions of a string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>) <span style="color:#75715e">// ell
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>)  <span style="color:#75715e">// ell
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">slice</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>)  <span style="color:#75715e">// rld
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;, &#34;</span>) <span style="color:#75715e">// [&#34;Hello&#34;,&#34;world&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Searching a string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;l&#34;</span>) <span style="color:#75715e">// 2: position of first letter l
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;l&#34;</span>, <span style="color:#ae81ff">3</span>) <span style="color:#75715e">// 3: position of first &#34;l&#34; at or after 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;zz&#34;</span>)  <span style="color:#75715e">// -1: s does not include the substring &#34;zz&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">lastIndexOf</span>(<span style="color:#e6db74">&#34;l&#34;</span>) <span style="color:#75715e">// 10: position of last letter l
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Boolean searching functions in ES6 and later 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#34;Hell&#34;</span>) <span style="color:#75715e">// =&gt; true: the string starts with these 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">endsWith</span>(<span style="color:#e6db74">&#34;!&#34;</span>) <span style="color:#75715e">// =&gt; false: s does not end with that 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#34;or&#34;</span>) <span style="color:#75715e">// =&gt; true: s includes substring &#34;or&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Creating modified versions of a string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#34;llo&#34;</span>, <span style="color:#e6db74">&#34;ya&#34;</span>) <span style="color:#75715e">// =&gt; &#34;Heya, world&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">toLowerCase</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">toUpperCase</span>()
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">normalize</span>()   <span style="color:#75715e">// Unicode NFC normalization: ES6
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">normalize</span>(<span style="color:#e6db74">&#34;NFD&#34;</span>) <span style="color:#75715e">// NFD normalization. Also &#34;NFKC&#34;, &#34;NFKD&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Inspecting individual (16-bit) characters of a string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">charAt</span>(<span style="color:#ae81ff">0</span>) <span style="color:#75715e">// =&gt; &#34;H&#34;: the first character
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">charAt</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">length</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#75715e">// =&gt; &#34;d&#34;: the last character 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">charCodeAt</span>(<span style="color:#ae81ff">0</span>) <span style="color:#75715e">// =&gt; 72: 16-bit number at the specified position 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">codePointAt</span>(<span style="color:#ae81ff">0</span>) <span style="color:#75715e">// =&gt; 72: ES6, works for codepoints &gt; 16 bits
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// String padding functions in ES2017
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;x&#34;</span>.<span style="color:#a6e22e">padStart</span>(<span style="color:#ae81ff">3</span>) <span style="color:#75715e">// =&gt; &#34;  x&#34;: add spaces on the left to a length of 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;x&#34;</span>.<span style="color:#a6e22e">padEnd</span>(<span style="color:#ae81ff">3</span>) <span style="color:#75715e">// =&gt; &#34;x  &#34;: add spaces on the right to a length of 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;x&#34;</span>.<span style="color:#a6e22e">padStart</span>(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;*&#34;</span>) <span style="color:#75715e">// =&gt; &#34;**x&#34;: add stars on the left to a length of 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;x&#34;</span>.<span style="color:#a6e22e">padEnd</span>(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;-&#34;</span>) <span style="color:#75715e">// =&gt; &#34;x--&#34;: add dashes on the right to a length of 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Space trimming functions. trim() is ES5; others ES2019 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34; test &#34;</span>.<span style="color:#a6e22e">trim</span>() <span style="color:#75715e">// =&gt; &#34;test&#34;: remove spaces at start and end 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34; test &#34;</span>.<span style="color:#a6e22e">trimStart</span>() <span style="color:#75715e">// =&gt; &#34;test &#34;: remove spaces on left. Also trimLeft 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34; test &#34;</span>.<span style="color:#a6e22e">trimEnd</span>() <span style="color:#75715e">// =&gt; &#34; test&#34;: remove spaces at right. Also trimRight
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Miscellaneous string methods
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">concat</span>(<span style="color:#e6db74">&#34;!&#34;</span>) <span style="color:#75715e">// =&gt; &#34;Hello, world!&#34;: just use + operator instead 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;&lt;&gt;&#34;</span>.<span style="color:#a6e22e">repeat</span>(<span style="color:#ae81ff">5</span>) <span style="color:#75715e">// =&gt; &#34;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&#34;: concatenate n copies. ES6
</span></span></span></code></pre></div><p>需要注意的是，字符串在 JavaScript 中是不可变的。<code>replace()</code>和<code>toUpperCase()</code>等方法会返回新字符串，它们不会修改被调用的字符串。</p>
<p>字符串能够被当作只读数组，使用方括号而不是charAt()方法可以访问字符串中的单个字符（16 bit值）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;hello, world&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>[<span style="color:#ae81ff">0</span>], <span style="color:#a6e22e">s</span>[<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><h3 id="template-literals">Template Literals</h3>
<p>在 ES6 及更高版本中，字符串字面量可以用反引号分隔：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`hello world`</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>)
</span></span></code></pre></div><p>这不止是另一种表示字面的方式，这是因为template literals能够包含任意的JavaScript表达式。<font color=red>反引号字符串字面的最终值是通过计算包含的表达式、将这些表达式的值转换为字符串并将这些计算出的字符串与反引号字符串内的字面量相结合而得出的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Bill&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">greeting</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`Hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.`</span>;<span style="color:#75715e">// greeting == &#34;Hello Bill.&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">greeting</span>)
</span></span></code></pre></div><p>在<code>${ }</code>中的内容被解释成表达式，而在大括号外的内容是普通的字符串字面量。模板字面量可能包含很多表达式，可以包含任何普通字符串中可以出现的转义字符，也可以跨越多行而无需转义字符。</p>
<p>下面的模板字面量包含四个 JavaScript 表达式、一个 Unicode 转义序列和至少四个换行符（表达式值也可能包含换行符）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">errorMessage</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`\ 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">\u2718 Test failure at </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">filename</span><span style="color:#e6db74">}</span><span style="color:#e6db74">:</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">linenumber</span><span style="color:#e6db74">}</span><span style="color:#e6db74">: 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"></span><span style="color:#e6db74">${</span><span style="color:#a6e22e">exception</span>.<span style="color:#a6e22e">message</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> Stack trace:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"></span><span style="color:#e6db74">${</span><span style="color:#a6e22e">exception</span>.<span style="color:#a6e22e">stack</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">errorMessage</span>)
</span></span></code></pre></div><p>上面字符串第一行末尾的反斜线转义了第一个换行符，因此生成的字符串以Unicode ✘ 字符（\u2718）而不是换行符开始。</p>
<p>模板字面量的一个强大但不常用的功能是，如果函数名（或&quot;标签&quot;）出现在开头的反引号之前，<font color=red>那么模板字面量的文本和表达式的值就会传递给该函数</font>。这个<code>tagged template literal</code>的值就是函数的返回值。这个特性可以用于先对某些值进行HTML和SQL转义，然后再把它们插入文本。</p>
<p>ES6有一个内置的标签函数<code>String.raw()</code>，这个函数返回反引号中未经处理的文本，即不会处理任何反斜杠转义字符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(String.<span style="color:#a6e22e">raw</span><span style="color:#e6db74">`\n`</span>.<span style="color:#a6e22e">length</span>);
</span></span></code></pre></div><p>自定义模板标签函数是JavaScript的一个非常强大的特性，这些函数不需要返回字符串，并且可以被当成构造函数使用，就像为语言本身定义了一种新的字面量语法一样。</p>
<h3 id="pattern-matching">Pattern Matching</h3>
<p>JavaScript定义了一种称为正则表达式（或 RegExp）的数据类型，用于描述和匹配文本字符串中的模式。RegExp 并不是 JavaScript 中的基本数据类型之一，但它们拥有像数字和字符串一样的字面语法，因此有时看起来像是基本数据类型。正则表达式字面的语法很复杂，而且它们定义的 API 也不简单。</p>
<p>一对斜杠之间的文本构成了正则表达式字母量，其中第二个斜杠后面可以跟着一个或多个字母，用于修改模式的含义：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#e6db74">/^HTML/</span>; <span style="color:#75715e">// Match the letters H T M L at the start of a string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">/[1-9][0-9]*/</span>; <span style="color:#75715e">// Match a nonzero digit, followed by any # of digits
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">/\bjavascript\b/i</span>; <span style="color:#75715e">// Match &#34;javascript&#34; as a word, case-insensitive
</span></span></span></code></pre></div><p>RegExp对象定义了一系列有用的方法，字符串也有方法接收RegExp参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">text</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;testing: 1, 2, 3&#34;</span>; <span style="color:#75715e">// Sample text
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">pattern</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/\d+/g</span>; <span style="color:#75715e">// Matches all instances of one or more digits
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pattern</span>.<span style="color:#a6e22e">test</span>(<span style="color:#a6e22e">text</span>)  <span style="color:#75715e">// =&gt; true: a match exists
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">text</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">pattern</span>) <span style="color:#75715e">// =&gt; 9: position of first match
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">text</span>.<span style="color:#a6e22e">match</span>(<span style="color:#a6e22e">pattern</span>) <span style="color:#75715e">// =&gt; [&#34;1&#34;, &#34;2&#34;, &#34;3&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">text</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#a6e22e">pattern</span>, <span style="color:#e6db74">&#34;#&#34;</span>) <span style="color:#75715e">// &#34;testing: #,#,#&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">text</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">/\D+/</span>) <span style="color:#75715e">// [&#34;&#34;, &#34;1&#34;, &#34;2&#34;, &#34;3&#34;]  split on nondigits
</span></span></span></code></pre></div><h2 id="boolean-values">Boolean Values</h2>
<p>JavaScript的任何值都可以转换为布尔值，下面的值都会转为false。false和下面能转换为false的6个值，被称为falsy值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">undefined</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">NaN</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;</span> <span style="color:#75715e">// the empty string
</span></span></span></code></pre></div><p>其它的值，包括所有对象都能转换为true，true和这些能转换为true的值被称为truthy值。假设一个变量保持一个对象，要么值是null，要么保存真正的对象，可以使用下面方式判断：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">o</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">null</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;o is not null&#34;</span>)
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;o is null&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">o</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;o is not null&#34;</span>)
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;o is null&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>布尔值有一个toString()方法，可用于将自己转换为字符串&quot;true&quot;或&quot;false&quot;。除此之外，布尔值再没有其他有用的方法。</p>
<h2 id="null与undefined">null与undefined</h2>
<p>null是一个语言的关键词，用于表示某个值不存在。使用typeof操作符作用于null，将会返回字符串object。这表明null可以认为是一种特殊的对象，表示没有对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">typeof</span> <span style="color:#66d9ef">null</span>)
</span></span></code></pre></div><p>实际上，null通常被视为其自身类型的唯一成员，可以用来表示数字、字符串和对象的 &ldquo;no object&rdquo;。大多数编程语言都有与 JavaScript 的 null 相对应的值，如 NULL、nil 或 None。</p>
<p>undefined也表示值不存在，但它表示一种更深层次的不存在。具体地说，以下场景都是undefined</p>
<ul>
<li>变量的值未初始化时就是undefined。</li>
<li>在查询对象不存在的属性或数组元素时也会得到undefined。</li>
<li>没有传值的函数参数的值是undefined。</li>
</ul>
<p>undefined是一个预定义的全局常量，而非像null那样是语言关键字。这个常量的初始化值就是undefined。对undefined应用typeof操作符会返回字符串undefined，表示这个值是该特殊类型的唯一成员。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">typeof</span> <span style="color:#66d9ef">undefined</span>) <span style="color:#75715e">// undefined
</span></span></span></code></pre></div><p>null和undefine都可以表示某个值不存在，经常被混用。相等操作<code>==</code>认为它们相等，要区分它们必须使用全等操作符<code>===</code>。</p>
<h2 id="symbols">Symbols</h2>
<p>Symbols是ES6引入的，用作非字符串属性名。要了解Symbols，需要知道基本的Object类型是一个无序的属性集合，其中的每个属性都有一个名称和一个值。属性名通常是字符串，但在ES6及之后，Symbols也可以实现这个目的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">strname</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;string name&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">symname</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Symbol</span>(<span style="color:#e6db74">&#34;propname&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">strname</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">symname</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">o</span> <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">o</span>[<span style="color:#a6e22e">strname</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">o</span>[<span style="color:#a6e22e">symname</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span></code></pre></div><p>Symbol没有字面量语法，要获取一个Symbol值，需要调用Symbol()函数。这个函数永远不会返回相同的值，即使调用时传入相同的参数。</p>
<p>这意味着，可以调用Symbol()取得的Symbol值，可以安全地作为属性名以添加对象新的属性，无需担心覆盖原有的属性。类似地，可以使用那些未被共享的符号属性名，可以确信程序中的其他代码不会意外的重写这个属性。</p>
<p>实践中，符号通常用作一种语言扩展机制。ES6新增了for/of循环和可迭代对象，为此需要定义一种标准的机制让类变成可迭代的。但选择任何字符串作为迭代器方法，都可能破坏已有的代码，因此Symbol应运而生。</p>
<p>Symbol()函数可选地接受一个字符串参数，返回唯一的符号值。如果在调用的时候传递一个字符串参数，那么调用Symbol的toString()方法得到的结果中会包含该字符串。但传入两个相同的字符串，调用Symbol两次获取到的符号值是不同的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"></code></pre></div>
    </div>
    <footer class="post-footer">
        
 
<div class="post-tags">     
     
    <a href="https://iihui.github.io/tags/ios" rel="tag" title="iOS">#iOS#</a>
    
</div>



        <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="https://iihui.github.io/post/js-this/" rel="next" title="javascript中this指针">
        <i class="fa fa-chevron-left"></i> javascript中this指针
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="https://iihui.github.io/post/ios-kvo/" rel="prev" title="KVO 介绍">
        KVO 介绍 <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
        <div class="post-nav">
    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
        <div style="float:left;margin-top:0px;">
            <img src="https://i.loli.net/2020/02/09/SvhUdz4XJsOr9Vk.jpg" width="128px" height="128px"/>
            <div style="text-align:center;">谢谢支持!</div>
        </div>
        <div>
            <p style="margin-top:10px;">
                标题：selection 对象
                <br />作者：阿呆<a target="_blank" href="https://iihui.github.io/"></a>
                
                <br />地址：https://iihui.github.io/post/js-selection/
                <br />声明：自由转载-非商用-保持署名（创作共享4.0许可证）
            </p>
        </div>
    </div>
    <div class="clear"></div>
</div>
        
        
        




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

  <ul class="sidebar-nav motion-element">
    <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
      文章目录
    </li>
    <li class="sidebar-nav-overview" data-target="site-overview">
      站点概览
    </li>
  </ul>

    <section class="site-overview sidebar-panel ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="https://i.loli.net/2020/02/07/dVFzrvZkHRNq2lL.jpg"
        alt="" />
    <p class="site-author-name" itemprop="name"></p>
    <p class="site-description motion-element" itemprop="description"> 
        coder &amp; cook</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="https://iihui.github.io/post/">
        <span class="site-state-item-count">140</span>
        <span class="site-state-item-name">日志</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="https://iihui.github.io/categories/">      
         
        <span class="site-state-item-count">18</span>
        
        <span class="site-state-item-name">分类</span>
        
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="https://iihui.github.io/tags/">
         
        <span class="site-state-item-count">29</span>
        
        <span class="site-state-item-name">标签</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://coolshell.cn" target="_blank" title="皓 大">
            <i class="fa fa-fw fa-globe"></i>
            皓 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ruanyifeng.com" target="_blank" title="阮 大">
            <i class="fa fa-fw fa-globe"></i>
            阮 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://juejin.im/" target="_blank" title="掘 金">
            <i class="fa fa-fw fa-globe"></i>
            掘 金
        </a>
        </span>
    
</div>


      

      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
    <div class="post-toc">
        <div class="post-toc-content"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#selection">selection</a></li>
        <li><a href="#range对象">range对象</a></li>
        <li><a href="#range常用方法">range常用方法</a></li>
      </ul>
    </li>
    <li><a href="#chapter-1">Chapter 1</a></li>
    <li><a href="#chapter-2">Chapter 2</a></li>
    <li><a href="#chapter-3">Chapter 3</a>
      <ul>
        <li>
          <ul>
            <li><a href="#binary-floating-point-and-rounding-errors">Binary Floating-Point and Rounding Errors</a></li>
            <li><a href="#arbitrary-precision-integers-with-bigint">Arbitrary Precision Integers with BigInt</a></li>
          </ul>
        </li>
        <li><a href="#text">Text</a>
          <ul>
            <li><a href="#string-literals">String Literals</a></li>
            <li><a href="#template-literals">Template Literals</a></li>
            <li><a href="#pattern-matching">Pattern Matching</a></li>
          </ul>
        </li>
        <li><a href="#boolean-values">Boolean Values</a></li>
        <li><a href="#null与undefined">null与undefined</a></li>
        <li><a href="#symbols">Symbols</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>

  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
  2017 - 2023</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">Keep It Simple</span>
</div>




      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span id="scrollpercent"><span>0</span>%</span>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="https://iihui.github.io/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="https://iihui.github.io/js/utils.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/motion.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/affix.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/schemes/pisces.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/scrollspy.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/post-details.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/toc.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/bootstrap.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
</body>
</html>