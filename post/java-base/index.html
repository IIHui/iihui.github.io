<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title>Java 基础 - Keep It Simple</title>
    <meta name="keywords" content="博客,思考,读书,笔记,技术,分享">
    
    <meta property="og:title" content="Java 基础">
    <meta property="og:site_name" content="Keep It Simple">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content="Java 基础 - Keep It Simple" />
    <meta name="description" content="Swift | Go | C&#43;&#43; "> 
    <link rel="shortcut icon" href="https://iihui.github.io/img/favicon.ico" />
    <link rel="apple-touch-icon" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link href="https://iihui.github.io/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/main.css" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/syntax.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>

    <link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/objectivec.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/clojure.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/kotlin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/yaml.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="https://iihui.github.io/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Keep It Simple</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">靡不有初，鲜克有终</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/tags/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-tag"></i> <br />标签
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E7%BE%8E%E9%A3%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />美食
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E5%90%8E%E6%9C%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-edit"></i> <br />后期
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E6%97%85%E8%A1%8C/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-leaf"></i> <br />旅行
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于
          </a>
        </li>
      
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger"> <i class="menu-item-icon fa fa-search fa-fw"></i> <br /> 搜索</a>
      </li>
    </ul>
    <div class="site-search">
      <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
</nav>
<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		<!-- src = "http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> <\!--  -\-> -->
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
</head>
<body>

</body>
</html>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="https://iihui.github.io/post/java-base/" itemprop="url">
        Java 基础
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">创建: </span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="2021-02-12">
    2021-02-12
</time>
</span>
&nbsp; | &nbsp;
<span class="post-updated-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-check-o"></i>
</span>
<span class="post-meta-item-text">更新: </span>
<time itemprop="dateUpdated" content="2021-02-12">
    2021-02-12
</time>
</span> 
      

  <span class="post-category" >
  &nbsp; | &nbsp;
  <span class="post-meta-item-icon">
    <i class="fa fa-folder-o"></i>
  </span>
  <span class="post-meta-item-text">分类: </span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="https://iihui.github.io/categories/java" itemprop="url" rel="index">
        <span itemprop="name">java</span>
      </a>
      &nbsp; 
    </span>
  
</span>


      <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-file-word-o"></i>
</span>
<span class="post-meta-item-text">字数: </span>
<span class="leancloud-visitors-count">12127</span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-coffee"></i>
</span>
<span class="post-meta-item-text">阅读: </span>
<span class="leancloud-visitors-count">25 分钟</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    <h1 id="数据类型">数据类型</h1>
<p>在<code>Java</code>中数据分为两大类，一类是基本数据类型<code>primitive type</code>，另一类是引用类型<code>reference types</code>。基本类型的数据<font color=red>所占的内存大小是固定</font>的，在内存中存放的是数据值本身。引用类型在内存中存放的是<font color=red>指向该数据的地址</font>，不是数值本身，它往往由多个基本数据组成。</p>
<h2 id="基本数据类型">基本数据类型</h2>
<p><code>Java</code>中共定义了<code>4</code>类<code>8</code>种基本类型，其中<code>4</code>种整型：<code>byte,short,int,long</code>，<font color=Blue>每种类型都是带符号</font>的；<code>2</code>种浮点型：<code>float，double</code>；<code>1</code>种逻辑型:<code>boolean</code>；<code>1</code>种字符型:<code>char</code>。</p>
<p>整数有<code>3</code>种进制表示形式。八进制：以<code>0</code>开头，<font color=red>后跟多个</font><code>0～7</code>之间的数字。十六进制：以<code>0x</code>或<code>0X</code>开头，后跟多个<code>0～9</code>或者<code>a～f</code>之间的小写字母，或<code>A-F</code>之间的大写字母，<font color=red>字母大小写可以混输</font>。十进制：用多个<code>0～9</code>之间的数字表示，如果有两位及两位以上数字，首位不能为<code>0</code>。</p>
<p>一个整数常量<font color=red>隐含「默认」为<code>int</code>型</font>，当要将一个整数强制转换为长整数时，需要在后面添加字母<code>l</code>或<code>L</code>。一个浮点数常量隐含为<code>double</code>型，若在一个浮点数后面添加<code>f</code>或者<code>F</code>，可以将其强制转换为<code>float</code>型。</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>关键字</th>
<th>占用字节数</th>
<th>默认数值</th>
</tr>
</thead>
<tbody>
<tr>
<td>布尔型</td>
<td>boolean</td>
<td>1</td>
<td>false</td>
</tr>
<tr>
<td>字节型</td>
<td>byte</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>短整型</td>
<td>short</td>
<td>2</td>
<td>0</td>
</tr>
<tr>
<td>整型</td>
<td>int</td>
<td>4</td>
<td>0</td>
</tr>
<tr>
<td>长整型</td>
<td>long</td>
<td>8</td>
<td>0</td>
</tr>
<tr>
<td>单精度浮点型</td>
<td>float</td>
<td>4</td>
<td>0.0F</td>
</tr>
<tr>
<td>双精度浮点型</td>
<td>double</td>
<td>8</td>
<td>0.0D</td>
</tr>
<tr>
<td>字符型</td>
<td>chart</td>
<td>2</td>
<td>‘\u000'</td>
</tr>
</tbody>
</table>
<h2 id="数据类型转换">数据类型转换</h2>
<p>由于数值型也分为不同的类型，所以数值型数据也有类型转换问题。数值型数据的类型转换分为自动类型转换和强制类型转换。</p>
<ul>
<li>
<p>凡是把<font color=red>占用位数少的数据转换为占用位数较多</font>的数据，都使用自动类型转换，即类型转换由编译系统自动转换完成。</p>
</li>
<li>
<p>把较长的数据转换较短的数据时，就要使用强制类型转换，否则会产生编译错误。</p>
</li>
</ul>
<h3 id="自动类型转换">自动类型转换</h3>
<p>已经定义好的数值型变量，若是想以另一种数值类型表示，在以下条件同时成立时，将自动进行数据类型的转换：</p>
<ul>
<li>
<p>转换前的数据类型与转换后的类型兼容。</p>
</li>
<li>
<p>转换后的数据类型的表示范围<font color=red>比转换前的类型大</font>。转换从短到长的优先关系为<code>byte→short→char→int→long→float→double</code>。</p>
</li>
</ul>
<p>在一个表达式中若有整数类型为<code>short</code>或<code>byte</code>的数据参加运算，为了避免溢出，<code>Java</code>会将表达式中的<code>short</code>或<code>byte</code>类型自动转换为<code>int</code>。</p>
<h3 id="强制类型转换">强制类型转换</h3>
<p>如果要<font color=red>将较长的数据转换为较短的数据</font>时，就要进行强制类型转换。强制类型转换的格式为：<code>(预转换的数据类型) 变量名</code>。在下例中，<code>a/b</code>是整数相除，得到的还是整数，但赋值给<code>g</code>的时候，因为<code>g</code>的类型为浮点，所以<code>a/b</code>的结果会自动转换为浮点型。而在<code>(float)a/b</code>中，因为先将<code>a</code>强制转换为浮点数了，接着<code>b</code>会<font color=Blue>自动转换为浮点数然后再进行计算</font>，当然最后<code>(float)a/b</code>计算的结果也为浮点数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Convert</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 155<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> 9<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">float</span> g<span style="color:#f92672">,</span>h<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        g <span style="color:#f92672">=</span> a<span style="color:#f92672">/</span>b<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>g<span style="color:#f92672">);</span> <span style="color:#75715e">//17.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        h <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">float</span><span style="color:#f92672">)</span> a<span style="color:#f92672">/</span>b<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>h<span style="color:#f92672">);</span> <span style="color:#75715e">//17.222221
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="字符串数值转换">字符串数值转换</h2>
<p>数值字符串转为<code>byte，short，int，long，float，double</code>等数据类型，或将逻辑字符串转换为相应的逻辑类型，均可以使用<code>XXX.parseXXX()</code>，其中<code>XXX</code>代表<code>Byte,Short,Integer,Long,Float,Double,Boolean</code>类型:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> c <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">short</span> d <span style="color:#f92672">=</span> Short<span style="color:#f92672">.</span><span style="color:#a6e22e">parseShort</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;34&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">long</span> e <span style="color:#f92672">=</span> Long<span style="color:#f92672">.</span><span style="color:#a6e22e">parseLong</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;345&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>c<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>d<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">boolean</span> f <span style="color:#f92672">=</span> Boolean<span style="color:#f92672">.</span><span style="color:#a6e22e">parseBoolean</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>f<span style="color:#f92672">);</span>
</span></span></code></pre></div><p>字符串可用加号<code>+</code>进行，所以若其中某个操作数不是字符串，该操作在连接之前会自动将其转换为字符串，所以可用<code>+</code>来实现数值到字符串的自动转换：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> myInt <span style="color:#f92672">=</span> 234<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>String myStr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> myInt<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>myStr<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>String testStr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;test&#34;</span> <span style="color:#f92672">+</span> 12<span style="color:#f92672">.</span><span style="color:#a6e22e">34</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>testStr<span style="color:#f92672">);</span> <span style="color:#75715e">//test12.34
</span></span></span></code></pre></div><h1 id="流程控制">流程控制</h1>
<h2 id="语句">语句</h2>
<p>在<code>Java</code>中语句可以是以分号<code>;</code>结尾的简单语句，也可以是用一对花括号<code>{}</code>括起来的复合语句。复合语句也称为语句块，是指由花括号括起来的若干简单语句。复合语句<font color=Blue>定义变量的作用域</font>，复合语句中可以嵌套复合语句，但是<font color=red>不允许在两个嵌套的复合语句内声明两个同名的变量</font>。如下代码编译的时候会报错<code>Variable 'dd' is already defined in the scope</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>myStr<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> dd <span style="color:#f92672">=</span> 34<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>dd<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> dd <span style="color:#f92672">=</span> 45<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>dd<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="文件注释">文件注释</h2>
<p>文件注释以<code>/**</code>开头，以<code>*/</code>结尾，这种注释主要用于描述类、数据和方法。它是使用<code>JDK</code>提供的<code>javadoc</code>命令所产生的扩展名为<code>.HTML</code>的文件，从而为程序提供文档说明。</p>
<h2 id="条件语句">条件语句</h2>
<h3 id="if语句">if语句</h3>
<p>在<code>Java</code>中，<code>if()</code>和<code>else if()</code>括号中的<font color=red>条件表达式的结果必须为布尔值</font>，即<code>true</code>或者<code>false</code>，这与<code>C</code>或者<code>C++</code>截然不同：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>a <span style="color:#f92672">&gt;</span> 122<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;a&gt;122&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>a <span style="color:#f92672">&gt;</span> 100<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;100 &lt; a &lt;= 122&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;a&lt;=100&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h3 id="switch语句">switch语句</h3>
<p><code>switch</code>多分支选择语句在执行时，首先计算圆括号中表达式的值，这个值<font color=red>必须是整型或字符型</font>，同时应与各个<code>case</code>后面的常量表达式值的类型相一致。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> op <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>op<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p><code>switch</code>语句的每一个<code>case</code>判断，在一般情况下都应该有<code>break</code>语句，以指明这个分支执行完后，就跳出该<code>switch</code>语句。在某些特定的场合下可能不需要<code>break</code>语句，例如，要若干判读值<font color=Blue>共享一个分支时</font>，就可以实现由不同的判断语句流入相同的分支。</p>
<h3 id="循环结构">循环结构</h3>
<p><code>Java</code>中循环语句共有三种，分别为<code>while</code>语句，<code>do-while</code>语句和<code>for</code>语句。<code>while</code>语句先计算表达式的值，若表达式的值为真，则执行循环体。而<code>do-while</code>则是<font color=Blue>先执行一遍循环体</font>，再判断条件表达式的值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fibonacci</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>n <span style="color:#f92672">==</span> 0 <span style="color:#f92672">||</span> n <span style="color:#f92672">==</span> 1 <span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> n<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> 2<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span><span style="color:#f92672">(</span> k <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        result <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> j<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> j<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        j <span style="color:#f92672">=</span> result<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        k<span style="color:#f92672">++;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>对于<code>for</code>循环，首先计算<code>表达式1</code>的值，完成必要的初始化工作；再判断<code>条件表达式</code>的值，若为假，则退出循环；若为真，则执行循环体，执行完循环体后再返回<code>表达式2</code>，计算并修改循环条件，这样一轮循环就结束了。下一轮的循环从计算并判断<code>条件表达式</code>开始，若表达式的值仍为真，则继续循环，否则终止。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>表达式1<span style="color:#f92672">;</span> 条件表达式<span style="color:#f92672">;</span> 表达式2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">//循环体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p><code>for</code>循环语句的三个表达式都可以为空。但若条件表达式也为空，则表示当前循环是一个无限循环，需要在循环体中使用其他跳转语句来终止循环。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">sum</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        sum <span style="color:#f92672">+=</span> i<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sum<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h1 id="数组">数组</h1>
<h2 id="栈与堆内存">栈与堆内存</h2>
<p><code>Java</code>把内存分为栈内存和堆内存。在方法中定义的一些基本类型变量和<font color=Blue>对象的引用变量</font>都在方法的栈内存中分配。堆内存用来存放<font color=red>由new运算符创建的对象和数组</font>，在堆中分配的内存，由<code>Java</code>虚拟机的垃圾回收器来管理。</p>
<p>在堆中创建了一个对象或数组后，同时在栈中定义一个特殊的变量，让栈中这个变量的取值等于数组或对象在堆内存中的首地址，栈中这个变量就成为数组或对象的引用变量。引用变量<font color=red>实际上保存的是数组或对象在堆内存中的地址</font>（也称为对象的句柄）以后就可以在程序中使用栈的引用变量来访问堆中的数组或对象。</p>
<h2 id="一维数组">一维数组</h2>
<p>一维数组的使用要经过三个步骤：①声明数组；②创建空间；③创建数组元素并赋值。前两个步骤的语法如下所示。在声明的时候可以不给出数组的长度：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型<span style="color:#f92672">[]</span> 数组名<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>个数<span style="color:#f92672">];</span>
</span></span></code></pre></div><p>数组用<code>new</code>分配内存空间的同时，每个元素<font color=red>都会自动赋一个默认值</font>，整数为<code>0</code>，浮点为<code>0.0</code>，字符为<code>&quot;\0&quot;</code>，布尔型号为<code>false</code>，引用型为<code>null</code>。在声明数组时，也可以将前面的两个步骤合并为一行，格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>个数<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>一维数组定义时也可以分配空间和赋值，称为数组的初始化。使用这种方式时，不需要将数组的元素个数给出，编译器会根据所给的初始值个数来设置数组的长度：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>初始值1<span style="color:#f92672">,</span>初始值2<span style="color:#f92672">,...,</span>初始值n<span style="color:#f92672">}</span>
</span></span></code></pre></div><p>无论用哪种方式定义数组，都不能在声明的时候「<font color=Blue>即在数组名前的方括号内</font>」，都不能指定长度，否则会出现编译错误。对于一维数组，可以使用<code>foreach</code>语句：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">array</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>     
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> a <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>10<span style="color:#f92672">];</span>       
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">[</span>3<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 45<span style="color:#f92672">;</span>                   
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> item <span style="color:#f92672">:</span> a<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>         
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>item<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>                            
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>                                
</span></span></code></pre></div><h2 id="二维数组">二维数组</h2>
<p>在<code>Java</code>中没有真正的多维数组，<font color=Blue>多维数组只是数组的数组</font>。二维数组的声明方式与一维数组类似，内存的分配也是使用<code>new</code>运算符。其声明与分配内存的格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[][]</span> 数组名<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>行数<span style="color:#f92672">][</span>列数<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[][]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>行数<span style="color:#f92672">][</span>列数<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[][]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#f92672">{{</span>第1行的初值<span style="color:#f92672">},{</span>第2行的初值<span style="color:#f92672">},</span> <span style="color:#f92672">...,</span> <span style="color:#f92672">{</span>第m行的初值<span style="color:#f92672">}}</span>
</span></span></code></pre></div><h1 id="字符串">字符串</h1>
<p>在<code>Java</code>中无论字符串常量还是字符串变量，<font color=red>都是用类来实现的</font>。程序中用到的字符串都可以分为两类，一类是创建之后不会再做修改和变动的字符串变量；另一类时创建之后允许再做修改的字符串变量。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String 变量名<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>变量名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;字符串&#34;</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><p>在上面的语句中，第一条只是声明字符串引用变量<code>变量名</code>，此时<code>变量名</code>的值为<code>null</code>；第二条语句则在堆内存中分配了内存，并将<code>变量名</code>指向了字符串的首地址。也可以使用如下的方式创建字符串变量：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String 变量名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;字符串&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>String 变量名 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;字符串&#34;</span>
</span></span></code></pre></div><p>利用<code>String</code>类创建的字符串变量，一旦被初始化或赋值，它的值和分配的内存内容就不可再改变。如果非要改变它的值，会产生一个新的字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testString</span><span style="color:#f92672">(){</span>
</span></span><span style="display:flex;"><span>    String str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">;</span>       
</span></span><span style="display:flex;"><span>    str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Good&#34;</span><span style="color:#f92672">;</span>              
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>                                                              
</span></span></code></pre></div><p>在上面的例子中看起来是一个简单的字符串赋值，<font color=red>实际上重新申请了一个新的内存空间</font>。程序首先产生<code>str1</code>的一个字符串对象，并在内存中分配了一段空间，由于又发现要重新赋值，在原来的空间中已经不可能再追加新的内容，系统不得不将这个对象放弃，再重新生产新的对象，虽然<code>str1</code><font color=Blue>指向的内存地址是同一个，但对象已经不再是同一个了</font>。</p>
<h2 id="字符串池">字符串池</h2>
<p><code>Java</code>程序在执行时会维护一个字符串池<code>string pool</code>，对于一些可共享的字符串对象，会<font color=red>先在字符串池中查找是否有相同的字符串内容，如果有就直接返回</font>，而不是重新创建一个新的<code>String</code>对象，以减少内存占用。当在程序中直接使用双引号括起来的字符串时，该字符串就会在字符串池中。</p>
<h2 id="字符串判等">字符串判等</h2>
<p><code>==</code>运算符用于比较两个变量本身的值，即<font color=red>两个对象在内存中的首地址</font>；而<code>equal()</code>方法则是比较两个字符串中所<font color=red>包含的内容</font>是否相同：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">equalString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>        
</span></span><span style="display:flex;"><span>    String s1<span style="color:#f92672">,</span> s2<span style="color:#f92672">,</span> s3 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">,</span> s4 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    s1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">);</span>               
</span></span><span style="display:flex;"><span>    s2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">);</span>               
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1 <span style="color:#f92672">==</span> s2<span style="color:#f92672">);</span>   <span style="color:#75715e">//false      
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>s2<span style="color:#f92672">));</span>     <span style="color:#75715e">//true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1 <span style="color:#f92672">==</span> s3<span style="color:#f92672">);</span>  <span style="color:#75715e">//false       
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>s3<span style="color:#f92672">));</span>    <span style="color:#75715e">//true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s3 <span style="color:#f92672">==</span> s4<span style="color:#f92672">);</span> <span style="color:#75715e">//true        
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s3<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>s4<span style="color:#f92672">));</span>  <span style="color:#75715e">//true  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span>                                         
</span></span></code></pre></div><p>而对于非字符串类型的变量来说，<code>==</code>运算符和<code>equal()</code>方法都是用来比较其所指向的对象在堆内存中的首地址，即是否指向同一个对象:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Test a <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test<span style="color:#f92672">();</span>               
</span></span><span style="display:flex;"><span>Test b <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test<span style="color:#f92672">();</span>               
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a <span style="color:#f92672">==</span> b<span style="color:#f92672">);</span>    <span style="color:#75715e">//false    
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>b<span style="color:#f92672">));</span>  <span style="color:#75715e">//false  
</span></span></span></code></pre></div><h1 id="类与对象">类与对象</h1>
<p>类是对某一类事物的描述，是抽象的，概念上的定义；而对象则是实际存在的属于该类事物的具体个体，因而也称为实例<code>instance</code>。</p>
<h2 id="修饰符">修饰符</h2>
<h3 id="类修饰符">类修饰符</h3>
<p>一个类<font color=red>可以有多个修饰符，且无先后顺序之分</font>，但<code>abstract</code>和<code>final</code>相互对立，所以不能同时应用在一个类的定义中，各个修饰符的定义如下：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>将一个类声明为公共类，它可以被任何对象访问</td>
</tr>
<tr>
<td>abstract</td>
<td>将一个类声明为抽象类，没有实现方法，需要子类提供方法的实现，所以不能创建该类的实例</td>
</tr>
<tr>
<td>final</td>
<td>将一个类声明为最终非继承类，不能被其他类继承</td>
</tr>
<tr>
<td>缺省</td>
<td>只有在相同的包中才能使用</td>
</tr>
</tbody>
</table>
<h3 id="成员变量修饰符">成员变量修饰符</h3>
<p>成员变量的修饰符有访问控制修饰符，静态修饰符，最终修饰符，过渡修饰符和易失修饰符。一个成员变量<font color=Blue>可以被两个以上的修饰符同时修饰</font>，但有些不能同时存在，各个修饰符的含义如下所示：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>公共访问控制符，指定该变量为公共的，它可以被任何对象的方法访问。</td>
</tr>
<tr>
<td>private</td>
<td>私有访问控制符，指定该变量只允许自己类中方法访问，其他任何类（包括子类）中的方法均不能访问。</td>
</tr>
<tr>
<td>protected</td>
<td>保护访问控制符，指定只可以被它自己的类以及子类在同一包中的其他类访问，在子类中可以覆盖此变量。</td>
</tr>
<tr>
<td>缺省</td>
<td>表示在同一个包中的其他类可以访问此成员变量，而其他包中的类不能访问该成员变量。</td>
</tr>
<tr>
<td>final</td>
<td>最终修饰符，指定该变量的值不能改变。</td>
</tr>
<tr>
<td>static</td>
<td>静态修饰符，指定该变量被所有对象共享，即所有的实例都可使用该变量。</td>
</tr>
<tr>
<td>transient</td>
<td>过渡修饰符，指定该变量是一个系统保留，暂无特别作用的临时变量。</td>
</tr>
<tr>
<td>volatile</td>
<td>易失修饰符，指定该变量可以同时被几个线程控制和修改。</td>
</tr>
</tbody>
</table>
<h3 id="成员方法修饰符">成员方法修饰符</h3>
<p>在方法中定义修饰符是可选项。方法的修饰符较多，包括访问控制符、静态修饰符、抽象修饰符、最终修饰符、同步修饰符和本地修饰符：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>公共访问控制符，指定该方法为公共的，它可以被任何对象的方法访问。</td>
</tr>
<tr>
<td>private</td>
<td>私有访问控制符，指定该方法只允许自己类中方法访问，其他任何类（包括子类）中的方法均不能访问。</td>
</tr>
<tr>
<td>protected</td>
<td>保护访问控制符，指定该方法只可以被它自己的类以及子类在同一包中的其他类访问。</td>
</tr>
<tr>
<td>缺省</td>
<td>表示在同一个包中的其他类可以访问此成员方法，而其他包中的类不能访问该成员方法。</td>
</tr>
<tr>
<td>final</td>
<td>最终修饰符，指定该方法不能被重载。</td>
</tr>
<tr>
<td>static</td>
<td>静态修饰符，指定不需要实例化一个对象就可以激活的方法。</td>
</tr>
<tr>
<td>synchronized</td>
<td>同步修饰符，在多线程程序中，该修饰符用于在运行前，对它所属的方法加锁，以防止其他线程访问，运行结束后解锁。</td>
</tr>
<tr>
<td>native</td>
<td>本地修饰符，指定此方法的方法体是其他语言在程序外部编写的。</td>
</tr>
</tbody>
</table>
<h3 id="成员变量和局部变量">成员变量和局部变量</h3>
<ul>
<li>
<p>成员变量是对象的一部分，它随着对象的创建而存在，而局部变量随着方法的调用产生，随着方法调用的结束而自动消失。</p>
</li>
<li>
<p>成员变量是对象的一部分，而对象是存在于堆内存中，所以<font color=red>成员变量也是在堆内存中，而局部变量是存在于栈内存中</font>的。</p>
</li>
<li>
<p>成员变量如果没有被赋初值，则自动以类型的默认值赋值。而局部变量不会自动赋值，必须显式地赋值后才能使用。被<code>final</code>修饰但没有被<code>static</code>修饰的成员变量必须显式地赋值。</p>
</li>
</ul>
<h2 id="对象的使用">对象的使用</h2>
<p>创建新的对象之后，就可以对对象的成员进行访问。在对象名和对象成员之间用<code>.</code>相连，通过这种方式来引用成员，如下所示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>对象名<span style="color:#f92672">.</span><span style="color:#a6e22e">对象成员</span>
</span></span></code></pre></div><h2 id="参数传值">参数传值</h2>
<p><code>Java</code>语言在给被调用方法的参数赋值时，只采取传值的方式。所以，基本类型数据传递的是数据的值本身；<font color=Blue>而引用类型数据传递的也是这个变量的本身，即对象的引用变量，而非对象本身</font>。</p>
<p>通过方法调用，可以改变对象的内容，但对象的引用变量是不能改变的。简言之，就是当参数是基本数据类型时，是传值方式调用；而当参数是引用变量时，则是传地址方式调用。</p>
<h2 id="方法重载">方法重载</h2>
<p>重载是指相同的方法名称，如果参数个数不同，或者参数个数相同，但类型不同，则方法就具有不同的功能。方法的重载中参数的类型是关键，仅仅是参数的变量名不同是不行的。也就是说，<font color=red>参数的列表必须不同，即或者参数个数不同，或者参数类型不同，或者参数的顺序不同</font>。</p>
<h2 id="构造方法">构造方法</h2>
<p>构造方法是一种特殊的方法，它是在对象被创建时初始化对象成员的方法，构造方法的名称必须与它<font color=red>所在的类名完全相同</font>。构造方法没有返回值，但在定义构造方法时，构造方法名前不能用<code>void</code>来修饰，因为<font color=Blue>一个类的构造方法的返回值类型就是该类本身</font>：</p>
<p>构造方法定义后，创建对象时就会自动调用它，因此构造方法不需要在程序中直接调用，而是在<font color=red>对象产生时自动执行</font>。如果在构造方法前添加<code>void</code>，就变成了普通方法，不会再自动调用了。构造方法的特殊性在于：</p>
<ul>
<li>
<p>构造方法的方法名与类名相同。</p>
</li>
<li>
<p>构造方法没有返回值，但不能写成<code>void</code>。</p>
</li>
<li>
<p>构造方法的主要作用是完成类对象的初始化工作。</p>
</li>
<li>
<p>构造方法一般不能显式调用，而是由<code>new</code>来调用。</p>
</li>
</ul>
<h3 id="默认构造方法">默认构造方法</h3>
<p>如果在定义类的时候，没有定义任何构造函数，编译器会自动生成一个默认构造函数，它<font color=Blue>没有参数，函数体中也没任何代码</font>。如果<code>class</code>前面有<code>public</code>修饰，则默认构造方法也是<code>public</code>的。</p>
<h3 id="构造函数调用">构造函数调用</h3>
<p>构造函数可以重载，一个构造函数可以调用另一个构造函数，但是必须使用<code>this</code>关键字，否则编译会报错，而且<code>this</code>关键字<font color=red>必须写在构造方法内的第一行位置</font>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">();</span> <span style="color:#75715e">//this调用构造函数必须放在第一行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h3 id="静态初始化器">静态初始化器</h3>
<p>静态初始化器是由关键字<code>static</code>修饰的一对花括号<code>{}</code>括起来的语句组。它的作用与类的构造方法有些相似，都是用来初始化工作的，但与构造方法有几点不同：</p>
<ul>
<li>
<p>构造方法是对新创建的对象进行初始化，而<font color=red>静态初始化器是对类自身进行初始化</font>。</p>
</li>
<li>
<p>静态初始化器一般不能由程序调用，是<font color=LightSeaGreen>所属类被加载入内存时由系统调用执行</font>。</p>
</li>
<li>
<p>静态初始化器只执行一次，没有方法名，返回值和参数。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;this is a test num&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;second&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>在上面这个例子中，<font color=red>第一次使用<code>Test</code>类时，静态初始化器才会执行，不是在程序启动时就会执行</font>。如果有多个静态初始化器，则它们在类的初始化时会依次执行。</p>
<h1 id="继承">继承</h1>
<p><code>Java</code>中继是通过<code>extends</code>关键字来标识的，<font color=red>不支持多继承，一个类只能有一个直接父类</font>。所有的类都直接或者间接继承<code>java.lang.Object</code>，即如果没有<code>extends</code>关键字则类默认继承自<code>java.lang.Object</code>。</p>
<h2 id="构造方法执行">构造方法执行</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">extends</span> Person <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String department<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Student</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Student init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>上面的例子中，如果执行<code>Student student = new Student();</code>则先自动调用父类的构造方法，<font color=Blue>帮助继承父类的成员初始化做准备</font>，随后才会执行子类的构造方法。</p>
<p>在执行子类的构造方法之前，如果没有用<code>super</code>来调用父类的特定的构造函数，则会调用父类中<font color=Blue>没有参数的构造方法</font>。如果父类只定义了有参构造方法，而子类的构造方法中又没用<code>super</code>来调用父类的构造函数，则会编译报错。</p>
<h2 id="方法覆盖">方法覆盖</h2>
<p>覆盖是指在子类中，定义名称、参数个数与类型均与父类完全相同的方法，用于重写父类里同名方法的功能。但<font color=red>子类不能覆盖父类中声明为<code>final</code>或<code>static</code>的方法</font>。</p>
<p>在子类中覆盖父类的方法时，<font color=Blue>可以扩大父类方法的权限，但不可以缩小父类方法的权限</font>。在下面的例子中<code>show</code>方法在子类的权限可以改为<code>public</code>，但不能改为<code>private</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Person init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Person show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">extends</span> Person <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String department<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Student</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Student init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Student show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>所有已被<code>private</code>修饰符限定为私有的方法，以及所有包含在<code>final</code>类中的方法，都默认是<code>final</code>的，这些方法既不可能被子类继承，也不可能被覆盖。</p>
<p>一个成员变量若被<code>static final</code>两个修饰符所限定时，它实际的含义就是常量。定义一个成员变量，若只用<code>final</code>修饰，而不用<code>static</code>修饰时，<font color=Blue>则必须且只能赋值一次</font>。</p>
<h2 id="object类">Object类</h2>
<p>在<code>Java</code>中所有类都直接或者间接继承自<code>java.lang.Object</code>，它定义了<code>public final Class getClass()</code>方法，这个方法返回运行时对象所属的类:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Class obj <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">();</span>                  
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>obj<span style="color:#f92672">);</span>  <span style="color:#75715e">//class test
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>obj<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>  <span style="color:#75715e">//Test     
</span></span></span></code></pre></div><p>在上面的例子中，首先通过<code>Object</code>类的实例方法<code>getClass()</code>获取类，然后通过<code>Class</code>类的实例方法<code>getName()</code>获取类的名字。</p>
<p>可以通过对象运算符<code>instanceof</code>来测试一个指定对象是否是指定类或它的子类的实例，若是则返回<code>true</code>，否则返回<code>false</code>。</p>
<h1 id="抽象类">抽象类</h1>
<p>抽象类类似于模板的作用，目的是根据它的格式来创建和修改新的类。但是不能直接由抽象类创建对象，<font color=red>只能通过抽象类派生出新的子类，再由子类来创建对象</font>。也就是说，抽象类是不能用<code>new</code>运算符来创建实例对象。抽象类的定义格式如下所示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">类名</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>   声明成员变量<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>   返回值的数据类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">(</span>参数表<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">abstract</span> 返回值的数据类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">(</span>参数表<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>在抽象类中的方法分为两种，一种是一般的方法；另一种是<code>抽象方法</code>，它是以<code>abstract</code>关键字开头的方法，此方法只需声明放回值的数据类型，方法名称和所需的参数，但是<font color=red>没有方法体</font>。也就是说，对抽象方法只需声明，而不需实现，即用<code>;</code>结尾，而不是用<code>{}</code>。</p>
<p>当一个方法为抽象方法时，意味着这个方法必须被子类的方法所覆盖，否则子类仍然是<code>abstract</code>。抽象方法声明中修饰符<code>static</code>和<code>abstract</code>不能同时使用。</p>
<p>抽象类中不一定包含抽象方法，但<font color=red>非包含抽象方法的类一定要声明为抽象类</font>。抽象类可以有构造方法，且构造方法可以被子类的构造方法所调用，但构造方法不能被声明为抽象的。</p>
<h1 id="接口">接口</h1>
<p>接口与抽象类非常相似，本身也具有数据成员于抽象方法，但与抽象类有很大不同：①接口的数据成员必须初始化。②接口中的方法必须全部都声明为<code>abstract</code>，即不能拥有一般的方法，必须全部为抽象方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">类名称</span> <span style="color:#66d9ef">implements</span> 接口名表 <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>上面是接口实现的语法，接口的实现类似于继承，使用<code>implements</code>关键字。一个类要实现一个接口时，应该要注意如下问题：</p>
<ul>
<li>
<p>如果实现某接口类不是抽象类，则在类的定义部分<font color=red>必须实现指定接口的所有抽象方法</font>，即非抽象类中不能存在抽象方法。</p>
</li>
<li>
<p>一个类在实现某接口的抽象方法时，<font color=LightSeaGreen>必须使用完全相同的方法头</font>。否则，只是在定义一个新方法，而不是实现已有的抽象方法。</p>
</li>
<li>
<p>接口可以<font color=red>作为一种引用类型来使用</font>，任何实现了该接口的类的实例都可以存储在该接口类型的变量中，通过变量可以访问类中所实现接口中的方法。</p>
</li>
</ul>
<h2 id="接口的继承">接口的继承</h2>
<p>接口也可以继承性。定义一个接口时可通过<code>extends</code>关键字声明该新接口是某个已存在的父接口的子接口，它将继承父接口的所有变量与方法。</p>
<p>与类的继承不同的是，<font color=red>一个接口可以有一个以上的父接口</font>，它们之间用逗号分隔，形成父接口列表，新接口将继承所有父接口中的变量与方法。</p>
<p>虽然<code>Java</code>只支持类的单重继承机制，不支持类的多重继承，即一个类只能有一个直接父类。但是，他可以同时实现若干个接口，实际上就可以获得多个父类，即实现了多重继承。</p>
<h1 id="内部类">内部类</h1>
<p>内部类是<font color=Blue>定义在类中的类</font>，主要作用是将逻辑上相关的类放到一起。而匿名类是一种<font color=red>特殊的内部类，它没有类名，在定义类的同时，就生成了该类的一个实例</font>，由于不会在其他地方用到该类，所以不用取名字，因而又被称为匿名内部类。</p>
<h2 id="内部类定义">内部类定义</h2>
<p>定义内部类时只需要将类的定义置于一个用于封装它的类的内部即可，但不能与外部类同名，如果内部类还有内部类，则<font color=red>不能与任何一层内部类同名</font>。</p>
<p>在封装它的类的内部使用内部类，与普通类的使用方式相同；但在外部使用内部类时，<font color=Blue>需要在内部类前冠以其所属外部类的名字</font>才能使用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Group</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MoStu</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;MoStu show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Group show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        MoStu stu <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MoStu<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        stu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>Group group <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Group<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>group<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span></code></pre></div><p><code>Java</code>将内部类作为一个成员，就如同成员变量或成员方法。内部类可以被声明为<code>private</code>或<code>protected</code>。在内部类中可以直接引用它的外部类成员，包括静态成员、实例成员和私有成员。</p>
<p>不能直接创建内部类的对象实例，必须使用外部类对象来创建内部类对象，对于上面的例子，可以使用如下方式在外部创建内部内的实例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Group<span style="color:#f92672">.</span><span style="color:#a6e22e">MoStu</span> stu <span style="color:#f92672">=</span> group<span style="color:#f92672">.</span><span style="color:#a6e22e">new</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;outside&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>stu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span></code></pre></div><h2 id="匿名内部类">匿名内部类</h2>
<p>匿名内部类前不能有修饰符，也不能定义构造方法，因为它没有名字，也正是这个原因，在创建对象时也不能带参数，因为默认构造函数不带参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Group</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MoStu</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;MoStu show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">eat</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Group show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        MoStu stu <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MoStu<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        stu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Person p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Person<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">eat</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;eat something&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>        p<span style="color:#f92672">.</span><span style="color:#a6e22e">eat</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Thread t <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;=</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>i <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h1 id="包">包</h1>
<p>包是<code>Java</code>提供的一种区分类名的机制，每个包对应一个文件夹，包中还可以再有包，称为包的等级。在源文件中可以声明类所在的包，就像保存文件时要说明文件保存在哪个文件夹中。<font color=red>同一包中类名不能重复，不同包中的类名可以相同</font>。</p>
<h2 id="创建包">创建包</h2>
<p>若要创建自己的包，就必须以<code>package</code>语句作为<code>Java</code><font color=red>源文件的第一条语句</font>，指明该文件中定义的类所在的包，它的格式为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> 包名1<span style="color:#f92672">[.</span><span style="color:#a6e22e">包名2</span><span style="color:#f92672">][.</span><span style="color:#a6e22e">包名3</span><span style="color:#f92672">][...]</span>
</span></span></code></pre></div><p>经过<code>package</code>声明后，在同一文件内的所有类或接口都被纳入相同的包中。编译器把包对应于文件系统的文件夹进行管理，例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> Test.myPackage
</span></span></code></pre></div><p>上面的例子指定包中的文件存储在文件夹<code>test\myPackage</code>中。实际上创建包就是在当前文件夹中创建一个子文件夹，语句中的<code>.</code>代表文件分隔符，即上面的语句创建了两个文件夹。第一个文件夹是<code>test</code>，第二个是<code>myPackage</code>，当前包中所有的类就存放在这个文件夹中。</p>
<h1 id="异常">异常</h1>
<p>异常本质上是程序运行期间发生的事件，这个事件将中断程序的正常执行，当在<code>Java</code>方法内部发生异常时，这个方法就会<font color=red>创建一个异常对象，并把它传递给运行时环境</font>。</p>
<p><code>Java</code>中所说的异常都是<code>Exception</code>类及其子类，异常处理通过<code>try,catch,finally,throw,throws</code>五个关键字来实现的。</p>
<h2 id="异常捕获">异常捕获</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handleException</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 4<span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>arr<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">/</span> i<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ArrayIndexOutOfBoundsException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ArithmeticException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;finally&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><ul>
<li>
<p>异常的捕获过程中做了两个判断，第一个是<code>try</code>程序块中是否有异常产生；第二个是产生的异常是否和<code>catch</code>后面括号内预捕获的异常类型匹配。</p>
</li>
<li>
<p><code>catch</code>块中语句应该根据异常类型的不同而执行不同的操作，比较通用的做法是输出异常相关的信息，包括异常的名称，产生异常的方法名等。</p>
</li>
<li>
<p>由于异常对象于<code>catch</code>块的匹配是按照<code>catch</code>块的先后排列顺序进行的，所以在处理异常时，应该认真设计各<code>catch</code>块的排列顺序。</p>
</li>
<li>
<p>当在<code>try</code>块中语句抛出一个异常时，其后的代码都不会被执行，所以此时可以通过<code>finally</code>语句块来提供统一的出口。</p>
</li>
<li>
<p><code>finally</code>块是可以省略的，若省略，则在<code>catch</code>块结束后，程序跳转到<code>try-catch</code>块之后的语句继续运行。</p>
</li>
<li>
<p>当<code>catch</code>块中包含<code>System.exit(0)</code>语句时，则不执行<code>finally</code>语句块，程序直接终止；而当<code>catch</code>块中包含<code>return</code>语句时，则执行完执行<code>finally</code>语句块，再会终止程序。</p>
</li>
</ul>
<h2 id="抛出异常">抛出异常</h2>
<p>所有系统定义的运行时异常都可以由系统自动抛出。而指定方法抛出异常要使用<code>throw</code>或者<code>throws</code>来明确指定方法内抛出异常。一个方法声明抛出异常有两种方式，第一种是在方法内抛出异常对象，其中的异常类对象，是一个从<code>Throwable</code>派生的异常类对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">throw</span> 异常类对象
</span></span></code></pre></div><p>第二种方式，在方法声明中添加<code>throws</code>子句，表示方法将抛出异常。带有<code>throws</code>子句的方法声明格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">[</span>修饰符<span style="color:#f92672">]</span> 返回值类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">([</span>参数列表<span style="color:#f92672">])</span> <span style="color:#66d9ef">throws</span> 异常类列表
</span></span></code></pre></div><p>通过上面两种方式抛出的异常，在方法中<font color=Blue>可以不使用</font><code>try-catch-finally</code>来处理异常，而交由调用此方法的程序来处理。</p>
<p>如果一个方法抛出异常后，该方法内又没有处理异常的语句，则系统会将异常向上传递，由调用它的方法来处理这些异常，若上层调用方法中仍没有处理异常的语句，则可以再往上传递，直到传递到<code>main</code>方法，由<code>JVM</code>处理。</p>
<h1 id="多线程">多线程</h1>
<p>多线程是指在同一个进程中同时存在几个执行体，按几条不同的执行路径同时工作的情况。所以多线程编程的含义就是<font color=red>将一个程序分为几个可以同时并发执行的子任务</font>。</p>
<p><code>Java</code>中实现多线程的方法有两种，一种继承自<code>java.lang</code>包中的<code>Thread</code>类，另一种是用户在定义的自己类中实现<code>Runnable</code>接口。要在一个<code>Thread</code>子类中激活线程，必须要准备好下列两种事情：</p>
<ul>
<li>
<p>此类必须是继承自<code>Thread</code>类。</p>
</li>
<li>
<p>线程所要执行的代码必须写在<code>run</code>方法内。但一般不直接调用<code>run</code>方法，而是通过线程的<code>start</code>方法来启动线程。</p>
</li>
</ul>
<h2 id="thread">Thread</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThreadTest</span> <span style="color:#66d9ef">extends</span> Thread <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String who<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ThreadTest</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">who</span> <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                sleep<span style="color:#f92672">((</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>1000 <span style="color:#f92672">*</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">random</span><span style="color:#f92672">()));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>who <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;正在运行!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ThreadTest thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTest<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ThreadTest thread2 = new ThreadTest(&#34;</span>
</span></span><span style="display:flex;"><span>thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;main 方法执行结束&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span></code></pre></div><h2 id="runnable">Runnable</h2>
<p>上面使用继承<code>Thread</code>的方式来创建线程，具有局限性。因为，如果类本身已经继承了某个父类，但<code>Java</code>不允许多继承，所以此时需要类来实现<code>Runnable</code>接口。<code>Runnable</code>接口定义在<code>java.lang</code>包中，其中只提供了一个抽象方法<code>run()</code>的声明，从本质上说，<font color=Blue>任何实现线程的类必须实现该接口</font>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThreadTestMo</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String who<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ThreadTestMo</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        who <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">((</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>1000 <span style="color:#f92672">*</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">random</span><span style="color:#f92672">()));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>who <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;正在运行!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>ThreadTestMo mei <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Mei&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>ThreadTestMo hui <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hui&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Thread thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>mei<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Thread thread2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>hui<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;main 方法执行结束&#34;</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><p>如果需要线程有序执行，就需要使用<code>join</code>方法。当某一线程调用<code>join</code>方法时，则其他线程会等到该线程结束后才开始执行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">threadJoin</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    ThreadTestMo mei <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Mei&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    ThreadTestMo hui <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hui&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>mei<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread thread2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>hui<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">join</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">join</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;测试方法运行完毕&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Mei正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>Hui正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>测试方法运行完毕
</span></span></code></pre></div><h2 id="数据共享">数据共享</h2>
<p>若直接使用<code>Thread</code>类，在类中<code>this</code>即指当前线程；若使用<code>Runnable</code>接口，要在此类中获取当前线程，必须使用<code>Thread.currentThread()</code>方法。</p>
<p>使用<code>Runnable</code>接口可以轻松实现多个线程共享相同的数据，只要用同一个实现了<code>Runnable</code>接口的类的对象作为参数创建多个线程。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThreadSale</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> tickets <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>tickets <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;售机票第&#34;</span> <span style="color:#f92672">+</span> tickets<span style="color:#f92672">--</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;号&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">exit</span><span style="color:#f92672">(</span>0<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">threadShare</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    ThreadSale sale <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadSale<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    Thread t1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>sale<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;第一号窗口&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread t2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>sale<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;第二号窗口&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread t3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>sale<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;第三号窗口&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    t1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    t2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    t3<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>第二号窗口售机票第9号
</span></span><span style="display:flex;"><span>第三号窗口售机票第8号
</span></span><span style="display:flex;"><span>第一号窗口售机票第10号
</span></span><span style="display:flex;"><span>第三号窗口售机票第6号
</span></span><span style="display:flex;"><span>第二号窗口售机票第7号
</span></span><span style="display:flex;"><span>第三号窗口售机票第4号
</span></span><span style="display:flex;"><span>第一号窗口售机票第5号
</span></span><span style="display:flex;"><span>第二号窗口售机票第3号
</span></span><span style="display:flex;"><span>第三号窗口售机票第2号
</span></span><span style="display:flex;"><span>第一号窗口售机票第1号
</span></span></code></pre></div><h2 id="多线程同步">多线程同步</h2>
<p>为了保证互斥，<code>Java</code>使用<code>synchronized</code>关键字来标识同步的资源，这里的资源可以是一种类型的数据，也就是对象，也可以是一个方法，还可以是一段代码。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">synchronized</span> <span style="color:#f92672">(</span>对象<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>   临界代码段
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">synchronized</span> 返回类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>   方法体
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p><code>synchronized</code>的功能：首先判断对象或方法的互斥锁是否存在，若在就获得互斥锁，然后就可以执行紧随其后的临界代码段或方法体；如果对象或方法的互斥锁不在，就进入等待状态，直到获得互斥锁。当被<code>synchronized</code>限定的代码段执行完，就自动释放互斥锁。</p>
<h2 id="线程通信">线程通信</h2>
<p><code>java.lang.Object</code>类的<code>wait(),notify()</code>等方法为线程间的通信提供了有效手段，但<code>wait(),notify()</code><font color=red>只能在同步代码块里调用</font>。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th style="text-align:center">功能说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>public void wait()</td>
<td style="text-align:center">如果一个正在执行的同步代码(synchronized)的线程A执行了wait()调用「在对象x上」，该线程暂停执行而进入对象x的等待队列，并释放已获得的对象x的互斥锁。线程A要一直等到其他线程在对象x上调用notify或notifyAll，才能够再重新获得对象x的互斥锁后继续执行。</td>
</tr>
<tr>
<td>public void notify()</td>
<td style="text-align:center">唤醒正在等待该对象互斥锁的第一个线程。</td>
</tr>
<tr>
<td>public void notifyAll()</td>
<td style="text-align:center">唤醒正在等待该对象互斥锁的所有线程，优先级高的先被唤醒。</td>
</tr>
</tbody>
</table>

    </div>
    <footer class="post-footer">
        
 
<div class="post-tags">     
     
    <a href="https://iihui.github.io/tags/java" rel="tag" title="java">#java#</a>
    
</div>



        <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="https://iihui.github.io/post/cookie/" rel="next" title="Cookie简介">
        <i class="fa fa-chevron-left"></i> Cookie简介
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="https://iihui.github.io/post/tool-squirrel/" rel="prev" title="鼠须管配置">
        鼠须管配置 <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
        <div class="post-nav">
    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
        <div style="float:left;margin-top:0px;">
            <img src="https://i.loli.net/2020/02/09/SvhUdz4XJsOr9Vk.jpg" width="128px" height="128px"/>
            <div style="text-align:center;">谢谢支持!</div>
        </div>
        <div>
            <p style="margin-top:10px;">
                标题：Java 基础
                <br />作者：阿呆<a target="_blank" href="https://iihui.github.io/"></a>
                
                <br />地址：https://iihui.github.io/post/java-base/
                <br />声明：自由转载-非商用-保持署名（创作共享4.0许可证）
            </p>
        </div>
    </div>
    <div class="clear"></div>
</div>
        
        
        




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

  <ul class="sidebar-nav motion-element">
    <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
      文章目录
    </li>
    <li class="sidebar-nav-overview" data-target="site-overview">
      站点概览
    </li>
  </ul>

    <section class="site-overview sidebar-panel ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="https://i.loli.net/2020/02/07/dVFzrvZkHRNq2lL.jpg"
        alt="" />
    <p class="site-author-name" itemprop="name"></p>
    <p class="site-description motion-element" itemprop="description"> 
        coder &amp; cook</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="https://iihui.github.io/post/">
        <span class="site-state-item-count">141</span>
        <span class="site-state-item-name">日志</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="https://iihui.github.io/categories/">      
         
        <span class="site-state-item-count">18</span>
        
        <span class="site-state-item-name">分类</span>
        
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="https://iihui.github.io/tags/">
         
        <span class="site-state-item-count">30</span>
        
        <span class="site-state-item-name">标签</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://coolshell.cn" target="_blank" title="皓 大">
            <i class="fa fa-fw fa-globe"></i>
            皓 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ruanyifeng.com" target="_blank" title="阮 大">
            <i class="fa fa-fw fa-globe"></i>
            阮 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://juejin.im/" target="_blank" title="掘 金">
            <i class="fa fa-fw fa-globe"></i>
            掘 金
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ideamsg.com" target="_blank" title="灵 感">
            <i class="fa fa-fw fa-globe"></i>
            灵 感
        </a>
        </span>
    
</div>


      

      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
    <div class="post-toc">
        <div class="post-toc-content"><nav id="TableOfContents">
  <ul>
    <li><a href="#数据类型">数据类型</a>
      <ul>
        <li><a href="#基本数据类型">基本数据类型</a></li>
        <li><a href="#数据类型转换">数据类型转换</a>
          <ul>
            <li><a href="#自动类型转换">自动类型转换</a></li>
            <li><a href="#强制类型转换">强制类型转换</a></li>
          </ul>
        </li>
        <li><a href="#字符串数值转换">字符串数值转换</a></li>
      </ul>
    </li>
    <li><a href="#流程控制">流程控制</a>
      <ul>
        <li><a href="#语句">语句</a></li>
        <li><a href="#文件注释">文件注释</a></li>
        <li><a href="#条件语句">条件语句</a>
          <ul>
            <li><a href="#if语句">if语句</a></li>
            <li><a href="#switch语句">switch语句</a></li>
            <li><a href="#循环结构">循环结构</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#数组">数组</a>
      <ul>
        <li><a href="#栈与堆内存">栈与堆内存</a></li>
        <li><a href="#一维数组">一维数组</a></li>
        <li><a href="#二维数组">二维数组</a></li>
      </ul>
    </li>
    <li><a href="#字符串">字符串</a>
      <ul>
        <li><a href="#字符串池">字符串池</a></li>
        <li><a href="#字符串判等">字符串判等</a></li>
      </ul>
    </li>
    <li><a href="#类与对象">类与对象</a>
      <ul>
        <li><a href="#修饰符">修饰符</a>
          <ul>
            <li><a href="#类修饰符">类修饰符</a></li>
            <li><a href="#成员变量修饰符">成员变量修饰符</a></li>
            <li><a href="#成员方法修饰符">成员方法修饰符</a></li>
            <li><a href="#成员变量和局部变量">成员变量和局部变量</a></li>
          </ul>
        </li>
        <li><a href="#对象的使用">对象的使用</a></li>
        <li><a href="#参数传值">参数传值</a></li>
        <li><a href="#方法重载">方法重载</a></li>
        <li><a href="#构造方法">构造方法</a>
          <ul>
            <li><a href="#默认构造方法">默认构造方法</a></li>
            <li><a href="#构造函数调用">构造函数调用</a></li>
            <li><a href="#静态初始化器">静态初始化器</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#继承">继承</a>
      <ul>
        <li><a href="#构造方法执行">构造方法执行</a></li>
        <li><a href="#方法覆盖">方法覆盖</a></li>
        <li><a href="#object类">Object类</a></li>
      </ul>
    </li>
    <li><a href="#抽象类">抽象类</a></li>
    <li><a href="#接口">接口</a>
      <ul>
        <li><a href="#接口的继承">接口的继承</a></li>
      </ul>
    </li>
    <li><a href="#内部类">内部类</a>
      <ul>
        <li><a href="#内部类定义">内部类定义</a></li>
        <li><a href="#匿名内部类">匿名内部类</a></li>
      </ul>
    </li>
    <li><a href="#包">包</a>
      <ul>
        <li><a href="#创建包">创建包</a></li>
      </ul>
    </li>
    <li><a href="#异常">异常</a>
      <ul>
        <li><a href="#异常捕获">异常捕获</a></li>
        <li><a href="#抛出异常">抛出异常</a></li>
      </ul>
    </li>
    <li><a href="#多线程">多线程</a>
      <ul>
        <li><a href="#thread">Thread</a></li>
        <li><a href="#runnable">Runnable</a></li>
        <li><a href="#数据共享">数据共享</a></li>
        <li><a href="#多线程同步">多线程同步</a></li>
        <li><a href="#线程通信">线程通信</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>

  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
  2017 - 2022</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">Keep It Simple</span>
</div>




      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span id="scrollpercent"><span>0</span>%</span>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="https://iihui.github.io/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="https://iihui.github.io/js/utils.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/motion.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/affix.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/schemes/pisces.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/scrollspy.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/post-details.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/toc.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/bootstrap.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
</body>
</html>