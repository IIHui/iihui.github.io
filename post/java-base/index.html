<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title>Java 基础 - Keep It Simple</title>
    <meta name="keywords" content="博客,思考,读书,笔记,技术,分享">
    
    <meta property="og:title" content="Java 基础">
    <meta property="og:site_name" content="Keep It Simple">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content="Java 基础 - Keep It Simple" />
    <meta name="description" content="Swift | Go | C&#43;&#43; "> 
    <link rel="shortcut icon" href="https://iihui.github.io/img/favicon.ico" />
    <link rel="apple-touch-icon" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link href="https://iihui.github.io/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/main.css" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/syntax.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>

    <link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/objectivec.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/clojure.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/kotlin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/yaml.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="https://iihui.github.io/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Keep It Simple</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">靡不有初，鲜克有终</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/tags/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-tag"></i> <br />标签
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E7%BE%8E%E9%A3%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />美食
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E5%90%8E%E6%9C%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-edit"></i> <br />后期
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E6%97%85%E8%A1%8C/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-leaf"></i> <br />旅行
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于
          </a>
        </li>
      
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger"> <i class="menu-item-icon fa fa-search fa-fw"></i> <br /> 搜索</a>
      </li>
    </ul>
    <div class="site-search">
      <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
</nav>
<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		<!-- src = "http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> <\!--  -\-> -->
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
</head>
<body>

</body>
</html>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="https://iihui.github.io/post/java-base/" itemprop="url">
        Java 基础
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">创建: </span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="2021-02-12">
    2021-02-12
</time>
</span>
&nbsp; | &nbsp;
<span class="post-updated-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-check-o"></i>
</span>
<span class="post-meta-item-text">更新: </span>
<time itemprop="dateUpdated" content="2023-02-11">
    2023-02-11
</time>
</span> 
      

  <span class="post-category" >
  &nbsp; | &nbsp;
  <span class="post-meta-item-icon">
    <i class="fa fa-folder-o"></i>
  </span>
  <span class="post-meta-item-text">分类: </span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="https://iihui.github.io/categories/java" itemprop="url" rel="index">
        <span itemprop="name">java</span>
      </a>
      &nbsp; 
    </span>
  
</span>


      <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-file-word-o"></i>
</span>
<span class="post-meta-item-text">字数: </span>
<span class="leancloud-visitors-count">28115</span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-coffee"></i>
</span>
<span class="post-meta-item-text">阅读: </span>
<span class="leancloud-visitors-count">57 分钟</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    <h1 id="数据类型">数据类型</h1>
<p>在<code>Java</code>中数据分为两大类，一类是基本数据类型<code>primitive types</code>，另一类是引用类型<code>reference types</code>。基本类型<font color="#de7802">所占的内存大小是固定的</font>，在内存中存放的是数据值本身。引用类型在内存中存放的是<font color="#de7802">指向该数据的地址</font>，不是数值本身，它往往由多个基本数据组成。</p>
<h2 id="基本数据类型">基本数据类型</h2>
<p><code>Java</code>中共定义了<code>4</code>类<code>8</code>种基本类型，其中<code>4</code>种整数类型：<code>byte,short,int,long</code>，<font color=red>每种整型都是带符号的</font>。<code>2</code>种浮点型：<code>float，double</code>。<code>1</code>种逻辑型:<code>boolean</code>。<code>1</code>种字符型:<code>char</code>。</p>
<p>整数有三种进制表示形式。八进制：以数字<code>0</code>开头，<font color=red>后跟多个</font><code>0～7</code>之间的数字。十六进制：以<code>0x</code>或<code>0X</code>开头，后跟多个<code>0～9</code>或者<code>a～f</code>之间的小写字母或<code>A-F</code>之间的大写字母，<font color="#de7802">大小写字母可以混输</font>。十进制：用多个<code>0～9</code>之间的数字表示，如果有两位及两位以上数字，首位不能为<code>0</code>（首位为0表示八进制）。在<code>Java</code>中，<font color=red>整型的范围与运行代码的机器无关</font>，这与<code>C++</code>的整型有明显区别。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> digit <span style="color:#f92672">=</span> 0x1dAc123<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>digit<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 八进制
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> 011<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>n<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>31113507
</span></span><span style="display:flex;"><span>9
</span></span></code></pre></div><p>整数字面量<font color="#de7802">默认为<code>int</code>类型</font>，当需要将一个整数字面量强制转换为长整型时，需要在整数字面量后面添加小写字母<code>l</code>或大写字母<code>L</code>（建议使用大写字母<code>L</code>，因为小写字母容易被误看成阿拉伯数字<code>1</code>）。</p>
<p>一个浮点数值字面量默认为<code>double</code>类型，若在一个浮点字面量后面添加<code>f</code>或<code>F</code>，可以将其强制转换为<code>float</code>型。需要注意的是，浮点类型不适用于无法接受舍入误差的金融计算。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">long</span> length <span style="color:#f92672">=</span> 345L<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> test <span style="color:#f92672">=</span> 45D<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>length<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>test<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>345
</span></span><span style="display:flex;"><span>45<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span>
</span></span></code></pre></div><p>各种基本数据类型占用的字节数如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">关键字</th>
<th style="text-align:left">占用字节数</th>
<th style="text-align:left">默认数值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">布尔型</td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">无规范</td>
<td style="text-align:left">false</td>
</tr>
<tr>
<td style="text-align:left">字节型</td>
<td style="text-align:left">byte</td>
<td style="text-align:left">1</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">短整型</td>
<td style="text-align:left">short</td>
<td style="text-align:left">2</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">整型</td>
<td style="text-align:left">int</td>
<td style="text-align:left">4</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">长整型</td>
<td style="text-align:left">long</td>
<td style="text-align:left">8</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">单精度浮点型</td>
<td style="text-align:left">float</td>
<td style="text-align:left">4</td>
<td style="text-align:left">0.0F</td>
</tr>
<tr>
<td style="text-align:left">双精度浮点型</td>
<td style="text-align:left">double</td>
<td style="text-align:left">8</td>
<td style="text-align:left">0.0D</td>
</tr>
<tr>
<td style="text-align:left">字符型</td>
<td style="text-align:left">chart</td>
<td style="text-align:left">2</td>
<td style="text-align:left">‘\u000'</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> intSize <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">SIZE</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;int size: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>intSize <span style="color:#f92672">/</span> 8<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Byte&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> shortSize <span style="color:#f92672">=</span> Short<span style="color:#f92672">.</span><span style="color:#a6e22e">SIZE</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;short size: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>shortSize <span style="color:#f92672">/</span> 8<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Byte&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> longSize <span style="color:#f92672">=</span> Long<span style="color:#f92672">.</span><span style="color:#a6e22e">SIZE</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;long size: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>longSize <span style="color:#f92672">/</span> 8<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Byte&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> byteSize <span style="color:#f92672">=</span> Byte<span style="color:#f92672">.</span><span style="color:#a6e22e">SIZE</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;byte size: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>byteSize <span style="color:#f92672">/</span> 8<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Byte&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> floatSize <span style="color:#f92672">=</span> Float<span style="color:#f92672">.</span><span style="color:#a6e22e">SIZE</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;float size: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>floatSize <span style="color:#f92672">/</span> 8<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Byte&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> doubleSize <span style="color:#f92672">=</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">SIZE</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;double size: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>doubleSize <span style="color:#f92672">/</span> 8<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Byte&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> charSize <span style="color:#f92672">=</span> Character<span style="color:#f92672">.</span><span style="color:#a6e22e">SIZE</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;char size: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#f92672">(</span>charSize <span style="color:#f92672">/</span> 8<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;Byte&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> size<span style="color:#f92672">:</span> 4Byte
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">short</span> size<span style="color:#f92672">:</span> 2Byte
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">long</span> size<span style="color:#f92672">:</span> 8Byte
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">byte</span> size<span style="color:#f92672">:</span> 1Byte
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">float</span> size<span style="color:#f92672">:</span> 4Byte
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> size<span style="color:#f92672">:</span> 8Byte
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span> size<span style="color:#f92672">:</span> 2Byte
</span></span></code></pre></div><p>有三个表示溢出或出错情况的特殊浮点数值：</p>
<ul>
<li>正无穷大</li>
<li>负无穷大</li>
<li><code>NAN</code>（非数值）</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Double<span style="color:#f92672">.</span><span style="color:#a6e22e">POSITIVE_INFINITY</span>  <span style="color:#75715e">// 打印出来为Infinity
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double<span style="color:#f92672">.</span><span style="color:#a6e22e">NEGATIVE_INFINITY</span>  <span style="color:#75715e">// 打印出来为-Infinity
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Double<span style="color:#f92672">.</span><span style="color:#a6e22e">NaN</span>  <span style="color:#75715e">// 打印出来为NaN
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Double<span style="color:#f92672">.</span><span style="color:#a6e22e">POSITIVE_INFINITY</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Double<span style="color:#f92672">.</span><span style="color:#a6e22e">NEGATIVE_INFINITY</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Double<span style="color:#f92672">.</span><span style="color:#a6e22e">NaN</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Infinity
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>Infinity
</span></span><span style="display:flex;"><span>NaN
</span></span></code></pre></div><p>不能使用<code>x == Double.NaN</code>来检测某个值是否等于<code>NaN</code>，因为<font color="#de7802">所有<code>NaN</code>的值都认为是不相同的</font>。所以，<font color=red>需要使用<code>Double.isNaN(x)</code>来判断某个值是否为<code>NaN</code></font>。</p>
<p>如果基本的整型和浮点型不能满足需求，可以使用<code>java.math</code>中的<code>BigInteger</code>和<code>BigDecimal</code>。<code>BigInteger</code>类实现任意精度的整数运算，<code>BigDecimal</code>实现任意精度的浮点数运算：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>BigInteger big1 <span style="color:#f92672">=</span> BigInteger<span style="color:#f92672">.</span><span style="color:#a6e22e">valueOf</span><span style="color:#f92672">(</span>101<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>BigInteger big2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BigInteger<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;11000078881111115678899000001234567890987&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;big result:&#34;</span> <span style="color:#f92672">+</span> big1<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>big2<span style="color:#f92672">));</span>
</span></span></code></pre></div><p>对于<code>BigDecimal</code>，<font color="#de7802">应当使用带字符串入参的构造器</font>。因为，如果使用带<code>Double</code>入参的构造器很容易造成舍入误差。例如，下面代码执行后，不会得到真正的<code>0.1</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>BigDecimal bigDecimal <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BigDecimal<span style="color:#f92672">(</span>0<span style="color:#f92672">.</span><span style="color:#a6e22e">1</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;bigDecimal:&#34;</span> <span style="color:#f92672">+</span> bigDecimal<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>BigDecimal bigDecimal1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BigDecimal<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;0.1&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;bigDecimal1:&#34;</span> <span style="color:#f92672">+</span> bigDecimal1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>bigDecimal:0<span style="color:#f92672">.</span><span style="color:#a6e22e">1000000000000000055511151231257827021181583404541015625</span>
</span></span><span style="display:flex;"><span>bigDecimal1:0<span style="color:#f92672">.</span><span style="color:#a6e22e">1</span>
</span></span></code></pre></div><h2 id="变量声明">变量声明</h2>
<p><code>Java</code>是一种强类型语言，这意味着必须为每一个变量声明一个类型。声明一个变量时，需要先指定变量的类型，然后是变量名。声明一个局部变量后，必须用赋值语句对这个局部变量进行显式初始化，否则<font color=red>使用未初始化的局部变量会出现编译错误</font>。下面定义的<code>str</code>局部变量未初始化就使用，会出现编译错误：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 编译报错
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>java: variable str might not have been initialized
</span></span></code></pre></div><p>从<code>Java 10</code>开始，<font color="#de7802">对于局部变量</font>，如果能从变量的初始值推断出它的类型，可选地不再需要声明变量类型。此时，只需使用关键字<code>var</code>声明。但需要特别注意的是，<code>var</code>关键字**<font color=red>只能用于方法中的局部变量</font>**。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>var vacationDays <span style="color:#f92672">=</span> 12<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>vacationDays<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>12
</span></span></code></pre></div><p>关键字<code>final</code>表示这个变量只能被赋值一次，<font color="#de7802">一旦变量被赋值后就不能够再被更改了</font>，一般用来定义常量。<font color=blue>习惯上，常量名使用全大写</font>。在<code>Java</code>中可能经常需要创建一个常量，以便在一个类的多个方法中使用。通常将这些常量称为<code>class constant</code>，可以使用关键字<code>static final</code>设置一个类常量。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">double</span> CM_PER_INCH <span style="color:#f92672">=</span> 2<span style="color:#f92672">.</span><span style="color:#a6e22e">54</span><span style="color:#f92672">;</span>
</span></span></code></pre></div><h2 id="数据类型转换">数据类型转换</h2>
<p>因为数值有不同的类型，所以数值数据也有类型转换问题。数值型数据的类型转换分为自动类型转换和强制类型转换。</p>
<ul>
<li>
<p>凡是把<font color="#de7802">占用位数少的数据转换为占用位数较多</font>的数据，会触发自动类型转换。此时，类型转换由编译系统自动转换完成。</p>
</li>
<li>
<p>把较长的数据转换较短的数据类型时，就要使用强制类型转换，否则会产生编译错误。</p>
</li>
</ul>
<h3 id="自动类型转换">自动类型转换</h3>
<p>已经定义好的数值型变量，若是想以另一种数值类型来表示，在以下条件同时成立时，将自动触发数据类型的转换：</p>
<ul>
<li>
<p>转换前的数据类型与转换后的类型兼容。</p>
</li>
<li>
<p>转换后的数据类型的表示范围<font color="#de7802">比转换前的类型大</font>。转换从短到长的优先关系为<code>byte→short→char→int→long→float→double</code>。</p>
</li>
</ul>
<p>如果在一个表达式中有整数类型为<code>short</code>或<code>byte</code>的数据参加运算，为了避免溢出，编译器会将其中的<code>short</code>或<code>byte</code>类型自动转换为<code>int</code>类型。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">byte</span> b <span style="color:#f92672">=</span> 12<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">short</span> b1 <span style="color:#f92672">=</span> 34<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> b <span style="color:#f92672">+</span> 13<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a1 <span style="color:#f92672">=</span> b1 <span style="color:#f92672">+</span> 45<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>25
</span></span><span style="display:flex;"><span>79
</span></span></code></pre></div><h3 id="强制类型转换">强制类型转换</h3>
<p>如果要<font color="#de7802">将较长的数据转换为较短的数据</font>类型时，就要进行强制类型转换（英文术语为<code>cast</code>）。强制类型转换格式为：(预转换的数据类型) 变量名。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> x <span style="color:#f92672">=</span> 9<span style="color:#f92672">.</span><span style="color:#a6e22e">9996</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> nx <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>x<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>nx<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>9
</span></span></code></pre></div><p>下面示例代码中，<code>a/b</code>是整数相除，结果还是整数，但赋值给<code>g</code>的时候，因为<code>g</code>为浮点型变量，所以<code>a/b</code>的结果会自动转换为浮点型。而在<code>(float)a/b</code>中，因为先将<code>a</code>强制转换为浮点型了，所以接着<code>b</code>会<font color=Blue>自动转换为浮点类型后再进行计算</font>，最后<code>(float)a/b</code>的结果也为浮点型：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Convert</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 155<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> 9<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">float</span> g<span style="color:#f92672">,</span>h<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        g <span style="color:#f92672">=</span> a<span style="color:#f92672">/</span>b<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>g<span style="color:#f92672">);</span> <span style="color:#75715e">//17.0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        h <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">float</span><span style="color:#f92672">)</span> a<span style="color:#f92672">/</span>b<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>h<span style="color:#f92672">);</span> <span style="color:#75715e">//17.222221
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>17<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span>
</span></span><span style="display:flex;"><span>17<span style="color:#f92672">.</span><span style="color:#a6e22e">222221</span>
</span></span></code></pre></div><p>如果想舍入一个浮点数来得到<font color="#de7802">最接近的整数</font>，可以使用<code>math.round</code>方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">double</span> x <span style="color:#f92672">=</span> 9<span style="color:#f92672">.</span><span style="color:#a6e22e">997</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Math.round的结果为long，所以需要强制转换为int
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> nx <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span>Math<span style="color:#f92672">.</span><span style="color:#a6e22e">round</span><span style="color:#f92672">(</span>x<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>nx<span style="color:#f92672">);</span>  <span style="color:#75715e">//10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> x12 <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>9<span style="color:#f92672">.</span><span style="color:#a6e22e">997</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Math.round的结果为long，所以需要强制转换为int
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> nx12 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">round</span><span style="color:#f92672">(</span>x12<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>nx12<span style="color:#f92672">);</span> <span style="color:#75715e">// -10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>10
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>10
</span></span></code></pre></div><p>如果某个运算符得到一个值，但其类型与左侧操作数的声明的类型不同，也会发生强制类型转换。下面示例中，因为<code>x</code>是一个<code>int</code>类型变量，以下语句将会发生强制类型转换：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 计算 x + 3.5 时，x被转换为了double，然后赋值给x的时候被强制转换为int
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>x <span style="color:#f92672">+=</span> 3<span style="color:#f92672">.</span><span style="color:#a6e22e">5</span> <span style="color:#f92672">=&gt;</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)(</span>x <span style="color:#f92672">+</span> 3<span style="color:#f92672">.</span><span style="color:#a6e22e">5</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>需要注意的是，<font color="#de7802">赋值是一个表达式<code>expression</code>，即它有一个值 ，具体来说就是所赋的那个值</font>。可以使用这个值完成一些操作，例如赋给另一个变量，下面示例代码中<code>x += 4</code>是一个赋值表达式，它的值赋给<code>y</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> y <span style="color:#f92672">=</span> x <span style="color:#f92672">+=</span> 4<span style="color:#f92672">;</span>
</span></span></code></pre></div><h2 id="字符串数值转换">字符串数值转换</h2>
<p>字符串可以转换为<code>byte，short，int，long，float，double</code>等类型。可以使用<code>XXX.parseYYY()</code>方法将字符串转换为其它类型，其中<code>XXX</code>代表<code>Byte,Short,Integer,Long,Float,Double,Boolean</code>等类型，<code>XXX</code>和<code>YYY</code>多数情况下相同。需要注意的是，<font color="#de7802">若给定字符串转换失败会抛出异常</font>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> c <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">short</span> d <span style="color:#f92672">=</span> Short<span style="color:#f92672">.</span><span style="color:#a6e22e">parseShort</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;34&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">long</span> e <span style="color:#f92672">=</span> Long<span style="color:#f92672">.</span><span style="color:#a6e22e">parseLong</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;345&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>c<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>d<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">boolean</span> f <span style="color:#f92672">=</span> Boolean<span style="color:#f92672">.</span><span style="color:#a6e22e">parseBoolean</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>f<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>123
</span></span><span style="display:flex;"><span>34
</span></span><span style="display:flex;"><span>345
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>如果输入的字符串不能转换为相应的类型就会抛异常，例如<code>int c = Integer.parseInt(&quot;123i&quot;);</code>运行时会抛出<code>NumberFormatException</code>异常。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 下面语句执行时会抛出异常
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">short</span> d <span style="color:#f92672">=</span> Short<span style="color:#f92672">.</span><span style="color:#a6e22e">parseShort</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;34.12&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 代码执行发生异常
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Exception in thread <span style="color:#e6db74">&#34;main&#34;</span> java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">NumberFormatException</span><span style="color:#f92672">:</span> For input string<span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;34.12&#34;</span>
</span></span></code></pre></div><p>字符串可用<code>+</code>拼接，<font color="#de7802">若<code>+</code>两边的某个操作数不是字符串，在连接之前会自动将其转换为字符串</font>。因此，可用<code>+</code>来实现数值到字符串的自动转换：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> myInt <span style="color:#f92672">=</span> 234<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>String myStr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">+</span> myInt<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>myStr<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>String testStr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;test&#34;</span> <span style="color:#f92672">+</span> 12<span style="color:#f92672">.</span><span style="color:#a6e22e">34</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>testStr<span style="color:#f92672">);</span> <span style="color:#75715e">// test12.34
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>234
</span></span><span style="display:flex;"><span>test12<span style="color:#f92672">.</span><span style="color:#a6e22e">34</span>
</span></span></code></pre></div><h1 id="流程控制">流程控制</h1>
<h2 id="语句">语句</h2>
<p>在<code>Java</code>中语句既可以是以分号<code>;</code>结尾的简单语句，也可以是用一对花括号<code>{}</code>括起来的复合语句。复合语句也被称为语句块，是由花括号括起来的若干简单语句组成。</p>
<p>复合语句中可以嵌套复合语句，<font color=red>但不允许在两个嵌套的复合语句内声明同名变量</font>。下面代码编译时会出现<code>Variable 'dd' is already defined in the scope</code>错误:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> dd <span style="color:#f92672">=</span> 34<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>dd<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> dd <span style="color:#f92672">=</span> 45<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>dd<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 同名变量编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>java: variable dd is already defined in method <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">String</span><span style="color:#f92672">[])</span>
</span></span></code></pre></div><h2 id="文档注释">文档注释</h2>
<p>最常用的注释方式是使用<code>//</code>，注释内容从<code>//</code>开始到当前行结尾。当需要更长的注释时，既可以在每行的注释前面标记<code>//</code>，也可以使用<code>/*</code>和<code>*/</code>界定符将其中内容注释。但<code>/*和*/</code>注释不能嵌套，即不能简单地把代码用<code>/*</code>和<code>*/</code>括起来作为注释，因为这段代码本身可能也包含一个<code>*/</code>界定符。</p>
<p>第三种注释可以用来自动地生成文档。注释以<code>/**</code>开头，以<code>*/</code>结尾，这种注释主要用于描述类、数据和方法。它可以使用<code>JDK</code>提供的<code>javadoc</code>命令产生的扩展名为<code>.HTML</code>的文件，从而为程序提供文档说明。</p>
<h2 id="条件语句">条件语句</h2>
<h3 id="if语句">if语句</h3>
<p>在<code>Java</code>中，<code>if()</code>和<code>else if()</code>括号中的<font color="#de7802">条件表达式的结果必须为布尔值</font>，即<code>true</code>或者<code>false</code>，这种严格类型要求与<code>C</code>或者<code>C++</code>的要求截然不同：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 155<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>a <span style="color:#f92672">&gt;</span> 122<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;a &gt; 122&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>a <span style="color:#f92672">&gt;</span> 100<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;100 &lt; a &lt;= 122&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;a &lt;= 100&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>a <span style="color:#f92672">&gt;</span> 122
</span></span></code></pre></div><h3 id="switch语句">switch语句</h3>
<p>在经典多分支<code>switch</code>选择语句执行时，首先会计算圆括号中表达式的值。并且要求表达式的类型与各个<code>case</code>后面常量表达式值的类型一致：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> op <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>op<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;+&#39;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>在经典<code>switch</code>语句中的每一个<code>case</code>，一般都应该有<code>break</code>语句，以指明这个分支执行完后就跳出<code>switch</code>语句。在某些特定场合下可能不需要<code>break</code>语句，如果若干<code>case</code>需要<font color=Blue>共享一个分支时</font>，就可以将不同的判断语句流入相同的分支（被称为直通（<code>fallthrough</code>）行为）。</p>
<p>有返回值的<code>switch</code>语句称为<code>switch</code>表达式，分为带箭头和不带箭头两种情况（均自<code>Java 14</code>引入）。带箭头的<code>switch</code>表达式，没有<code>fallthrough</code>行为，不带箭头的有<code>fallthrougt</code>行为。若是箭头表达式，则各个分支中的箭头<code>-&gt;</code>放在返回值前面。在<code>switch</code>表达式中可以为各个<code>case</code>提供多个标签，用逗号分隔：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#66d9ef">switch</span><span style="color:#f92672">(</span>sessionName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>Spring<span style="color:#e6db74">&#39;,&#39;</span>Summer<span style="color:#e6db74">&#39;,&#39;</span>Winter<span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">-&gt;</span> 6<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>Fall<span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">-&gt;</span> 4<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>需要注意的是，在<code>switch</code>表达式中<font color="#de7802">使用枚举常量时，不需要为各个标签提供枚举类型名，可从<code>switch</code>值中推导出来</font>。若枚举常量的值均在<code>case</code>分支中，可以不使用<code>default</code>分支。但使用整数或<code>String</code>操作数的<code>switch</code>表达式必须有一个<code>default</code>分支。<font color=red>如果操作数是<code>null</code>，则会抛出一个空指针异常<code>NullPointerException</code>。</font></p>
<p>在<code>switch</code>表达式中<code>case</code>标签可以是：</p>
<ul>
<li>类型为<code>char, byte,short,int</code>的常量表达式</li>
<li>枚举常量</li>
<li>字符串字面量</li>
<li>多个字符串，使用逗号分隔</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String input <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;yes&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 带箭头的switch没有fallthrough
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>input<span style="color:#f92672">.</span><span style="color:#a6e22e">toLowerCase</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;yes&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;y&#34;</span> <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;yes&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;no&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;n&#34;</span> <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;no&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span> <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;other&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>yes
</span></span></code></pre></div><p>与所有表达式类似，<code>switch</code>表达式（包括有箭头和无箭头）也有一个值，也就是说每个分支都必须生成一个值。在箭头表达式中，最常见的做法是各个值跟在箭头<code>-&gt;</code>后面，如<code>case &quot;Summer&quot;, &quot;Winte&quot; -&gt; 6</code>。而在非箭头的表达式中，需要借助<code>yeild</code>关键字返回值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 带箭头的表达式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> num <span style="color:#f92672">=</span> <span style="color:#66d9ef">switch</span><span style="color:#f92672">(</span>sessionName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>Spring<span style="color:#e6db74">&#39;,&#39;</span>Summer<span style="color:#e6db74">&#39;,&#39;</span>Winter<span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">-&gt;</span> 6<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>Fall<span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#f92672">-&gt;</span> 4<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 不带箭头的表达式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>var sessionName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Spring&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> numLetters <span style="color:#f92672">=</span> <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>sessionName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;Spring&#34;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 直通行为
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Spring time!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;Summer&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Winter&#34;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        yield 6<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;Fall&#34;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        yield 4<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        yield 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">};</span>
</span></span></code></pre></div><p>在有直通行为（<code>fallthrough</code>）的<code>switch</code>中，每个<code>case</code>以一个冒号结束。如果<code>case</code>以箭头<code>-&gt;</code>结束，则表示没有直通(<code>fallthrough</code>)行为。需要注意的是，不能在一个<code>switch</code>中同时使用冒号和箭头。</p>
<p>在<code>switch</code>表达式中出现的<code>yield</code>关键字，会终止<code>switch</code>。但与<code>break</code>不同，<font color=red><code>yield</code>还会生成一个值，也就是表达式的值。</font>如果想在<code>switch</code>表达式的一个分支中使用语句而不想出现<code>fallthrough</code>行为，就必须使用大括号和<code>yield</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">op</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;123&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">int</span> <span style="color:#a6e22e">num</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">op</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;Spring&#34;</span> <span style="color:#f92672">-&gt;</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Spring time&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> <span style="color:#ae81ff">6</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span> <span style="color:#f92672">-&gt;</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 上面有箭头，表示无直通行为
</span></span></span></code></pre></div><p>在非箭头<code>switch</code>表达式（有<code>fallthrough</code>行为）中也可以使用<code>yield</code>来终止<code>fallthrough</code>行为:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>var sessionName <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Spring&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 无箭头，有直通行为
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> numLetters <span style="color:#f92672">=</span> <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>sessionName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;Spring&#34;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Spring time!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;Summer&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Winter&#34;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        yield 6<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;Fall&#34;</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        yield 4<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        yield 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>numLetters<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>1
</span></span></code></pre></div><h3 id="循环结构">循环结构</h3>
<p><code>Java</code>中循环语句共有三种，分别为<code>while</code>语句，<code>do-while</code>语句和<code>for</code>语句。<code>while</code>语句先计算表达式的值，若表达式的值为真，则执行循环体中代码。而<code>do-while</code>则是<font color=Blue>先执行一次循环体代码</font>，再判断条件表达式的值是否为<code>true</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">fibonacci</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>n <span style="color:#f92672">==</span> 0 <span style="color:#f92672">||</span> n <span style="color:#f92672">==</span> 1 <span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> n<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> k <span style="color:#f92672">=</span> 2<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span><span style="color:#f92672">(</span> k <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        result <span style="color:#f92672">=</span> i <span style="color:#f92672">+</span> j<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> j<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        j <span style="color:#f92672">=</span> result<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        k<span style="color:#f92672">++;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>对于<code>for</code>循环，首先计算【表达式1】的值，以完成必要的初始化工作。再判断【条件表达式】的值，若值为<code>false</code>，则退出循环；若条件表达式的值为<code>true</code>，则执行循环体中的代码，执行完循环体后再返回【表达式2】进行计算，这样一轮循环就结束了。下一轮的循环从计算并判断【条件表达式】开始，若条件表达式的值仍为<code>true</code>，则继续循环，否则终止循环：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>express 1<span style="color:#f92672">;</span> condition expression<span style="color:#f92672">;</span> express 2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span> 	<span style="color:#75715e">// 循环体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">sum</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> sum <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;=</span> n<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        sum <span style="color:#f92672">+=</span> i<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sum<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p><code>for</code>循环语句的三个表达式都可以为空。<font color="#de7802">若条件表达式也为空，则表示当前循环是一个无限循环，需要在循环体中使用其它跳转语句来终止循环。</font></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// 下面是死循环，需要其它语句来跳出循环体
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">for</span> <span style="color:#f92672">(;</span> <span style="color:#f92672">;</span> <span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h1 id="数组">数组</h1>
<h2 id="栈与堆内存">栈与堆内存</h2>
<p><code>Java</code>把内存分为栈内存和堆内存。在方法中定义的一些基本类型变量和<font color=Blue>对象的引用变量</font>都在方法的栈内存中分配。堆内存用来存放<font color=red>由<code>new</code>运算符创建的对象和数组</font>，在堆中分配的内存，由<code>Java</code>虚拟机垃圾回收器来管理。</p>
<p>在堆中创建一个对象或数组后，同时在栈中定义一个特殊变量，让栈中这个变量的取值等于数组或对象在堆内存中的首地址，栈中这个变量就成为数组或对象的引用变量。</p>
<p>引用变量<font color="#de7802">实际上保存的是数组或对象在堆内存中的地址</font>（也称为<font color=Blue>对象的句柄</font>），以后就可以在程序中使用栈的引用变量来访问堆中的数组或对象。</p>
<h2 id="一维数组">一维数组</h2>
<p>数组是一种数据结构，用来存储同一类型值的集合。通过整数索引可以访问数组中的每一个值。</p>
<p>一维数组的使用要经过三个步骤：①声明数组；②创建空间；③创建数组元素并赋值。前两个步骤的语法如下所示。在声明时可以不给出数组的长度：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型<span style="color:#f92672">[]</span> 数组名<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>个数<span style="color:#f92672">];</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> intArray<span style="color:#f92672">[];</span> 
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 建议使用下面这种方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> intArray<span style="color:#f92672">;</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> byteArray<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">short</span><span style="color:#f92672">[]</span> shortsArray<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">boolean</span><span style="color:#f92672">[]</span> booleanArray<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">long</span><span style="color:#f92672">[]</span> longArray<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">float</span><span style="color:#f92672">[]</span> floatArray<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span><span style="color:#f92672">[]</span> doubleArray<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">char</span><span style="color:#f92672">[]</span> charArray<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>floatArray <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 局部变量声明数组后，如果不初始化将会出现编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>java: variable floatArray might not have been initialized
</span></span></code></pre></div><p>数组用<code>new</code>分配内存空间的同时，每个元素<font color="#de7802">都会自动赋一个默认值</font>，整数为<code>0</code>，浮点为<code>0.0</code>，字符为<code>'\0'</code>，布尔型为<code>false</code>，引用类型为<code>null</code>。在声明数组时，也可以将两个步骤合并为一步：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>个数<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>一维数组定义时可以同时分配空间和赋值，称为数组的初始化。使用这种方式时，不需要给出数组元素个数，编译器会根据初始值数量自动确定数组长度：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>初始值1<span style="color:#f92672">,</span>初始值2<span style="color:#f92672">,...,</span>初始值n<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 后面这一段为匿名数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> intArr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[]{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> 5<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 7<span style="color:#f92672">,</span> 8<span style="color:#f92672">,</span> 9<span style="color:#f92672">,</span> 10<span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 上面方式的简写
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> intArr <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> 5<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 7<span style="color:#f92672">,</span> 8<span style="color:#f92672">,</span> 9<span style="color:#f92672">,</span> 10<span style="color:#f92672">};</span>
</span></span></code></pre></div><p>无论使用哪种方式定义数组，都不能在声明的类型里指定长度（即在<font color=Blue>数组名前面的方括号内指定长度</font>，不是<code>new</code>后面的方括号），否则会出现编译错误。</p>
<p>允许声明长度为<code>0</code>的数组，编写一个结果为数组的方法时，如果碰巧结果为空，此时一个长度为<code>0</code>的数组就很有用。可以按如下方式构造一个长度为<code>0</code>的数组，即空数组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">new</span> elementType<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">new</span> elementType<span style="color:#f92672">[]{}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>0<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[]{};</span> <span style="color:#75715e">// 不声明元素个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>arr2<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>arr3<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">[]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[]</span>
</span></span></code></pre></div><p>创建一个数值型数组时，所有元素都会被初始化为0，<code>boolean</code>数组的元素会初始化为<code>false</code>。对象数组的元素都初始化为一个特殊值<code>null</code>，表示这些元素还未存放任何对象。下面代码创建一个包含10个字符串的数组，因为<code>String</code>是类类型，所以数组中所有元素都为<code>null</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span>String[] <span style="color:#a6e22e">names</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">out</span>.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">Arrays</span>.<span style="color:#a6e22e">toString</span>(<span style="color:#a6e22e">names</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[<span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>, <span style="color:#66d9ef">null</span>]
</span></span></code></pre></div><p>有一种循环可以用来依次处理数组（或者任何其他元素集合）中的每个元素，而不必考虑指定的索引值。这种增强的<code>for each</code>循环格式如下所示，其中的<code>collection</code>表达式必须是一个数组或者是一个实现了<code>Iterable</code>接口的类对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>type variable <span style="color:#f92672">:</span> collection<span style="color:#f92672">)</span> statement
</span></span></code></pre></div><p>对于一维数组，可以使用<code>for each</code>语句遍历数组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">array</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> a <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>3<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 45<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 遍历数组中的每个元素
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> item <span style="color:#f92672">:</span> a<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>item<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>0
</span></span><span style="display:flex;"><span>45
</span></span><span style="display:flex;"><span>0
</span></span></code></pre></div><p>上面的<code>for each</code>循环等同于如下方式，但更加简洁：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> a<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a<span style="color:#f92672">[</span>i<span style="color:#f92672">]);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>有一个更加简单的方式打印数组中的所有值，即利用<code>Arrays</code>的静态方法<code>toString</code>。调用该方法后会返回一个包含数组元素的字符串，这些元素在中括号内，元素之间使用逗号分隔。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arrTest <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>12<span style="color:#f92672">,</span> 34<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 789<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 234<span style="color:#f92672">,</span> 5678<span style="color:#f92672">,</span> 0<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 1<span style="color:#f92672">,</span> 56<span style="color:#f92672">,</span> 23<span style="color:#f92672">,</span> 7891<span style="color:#f92672">,</span> 13<span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>arrTest<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">[</span>12<span style="color:#f92672">,</span> 34<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 789<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 234<span style="color:#f92672">,</span> 5678<span style="color:#f92672">,</span> 0<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 1<span style="color:#f92672">,</span> 56<span style="color:#f92672">,</span> 23<span style="color:#f92672">,</span> 7891<span style="color:#f92672">,</span> 13<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>允许将一个数组变量拷贝到另一个数组变量，此时两个变量将引用（指向）同一个数组。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> newNames <span style="color:#f92672">=</span> smallNames<span style="color:#f92672">;</span>  
</span></span><span style="display:flex;"><span>newNames<span style="color:#f92672">[</span>12<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 344<span style="color:#f92672">;</span>
</span></span></code></pre></div><p>如果希望将一个数组的所有值拷贝到一个新的数组中，就要使用<code>Arrays</code>类的静态<code>copyOf</code>方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> numbers <span style="color:#f92672">=</span> Array<span style="color:#f92672">.</span><span style="color:#a6e22e">copyOf</span><span style="color:#f92672">(</span>smallNames<span style="color:#f92672">,</span> 2 <span style="color:#f92672">*</span> smallNames<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>需要注意的是，<font color="#de7802">数组实际上也是类的实例，该类的直接父类是<code>Object</code></font>。每个数组都有一个相关的类，与其它所有具有相同类型的数组共享这个类：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> intArray <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>3<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> byteArray <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[</span>3<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">short</span><span style="color:#f92672">[]</span> shortsArray <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">short</span><span style="color:#f92672">[</span>3<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// array of Strings
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>String<span style="color:#f92672">[]</span> strArray <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">[</span>3<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[][]</span> multiDimenArr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>8<span style="color:#f92672">][</span>9<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[][][]</span> newArr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>8<span style="color:#f92672">][</span>9<span style="color:#f92672">][</span>2<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>intArray<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 父类是Object
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>intArray<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getSuperclass</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>byteArray<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>shortsArray<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>strArray<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>newArr<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">I</span>  <span style="color:#75715e">//运行时int数组的签名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">java</span><span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Object</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">B</span>  <span style="color:#75715e">//运行时byte数组的签名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">S</span>  <span style="color:#75715e">//运行时short数组的签名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">Ljava</span><span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">String</span><span style="color:#f92672">;</span> <span style="color:#75715e">//运行时字符串类型数组的签名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">[[</span><span style="color:#a6e22e">I</span> <span style="color:#75715e">//运行时int二维数组的签名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#960050;background-color:#1e0010">[[[</span><span style="color:#a6e22e">I</span> <span style="color:#75715e">// 运行时int三维数组的签名
</span></span></span></code></pre></div><p>数组类型有以下几个特点：</p>
<ul>
<li>公共的<code>final</code>字段<code>length</code>，表示数组元素个数。</li>
<li>除了<code>Object</code>的<code>clone</code>方法，继承了<code>Object</code>类的所有成员。</li>
<li>公共方法<code>clone()</code>，它覆盖了<code>Object</code>类中的<code>clone</code>方法，并且没有抛出检查过的异常。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> cloneArray<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span> intArray<span style="color:#f92672">.</span><span style="color:#a6e22e">clone</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// will print false as deep copy is created
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// for one-dimensional array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>intArray <span style="color:#f92672">==</span> cloneArray<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> cloneArray<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>cloneArray<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>0 0 0
</span></span></code></pre></div><h2 id="二维数组">二维数组</h2>
<p>在<code>Java</code>中没有真正的多维数组，<font color="#de7802">多维数组只是数组的数组</font>。二维数组声明方式与一维数组相似，内存的分配也使用<code>new</code>运算符，其声明与分配内存的格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[][]</span> 数组名<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>行数<span style="color:#f92672">][</span>列数<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[][]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> 数据类型<span style="color:#f92672">[</span>行数<span style="color:#f92672">][</span>列数<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>数据类型 <span style="color:#f92672">[][]</span> 数组名 <span style="color:#f92672">=</span> <span style="color:#f92672">{{</span>第1行的初值<span style="color:#f92672">},{</span>第2行的初值<span style="color:#f92672">},</span> <span style="color:#f92672">...,</span> <span style="color:#f92672">{</span>第m行的初值<span style="color:#f92672">}}</span>
</span></span></code></pre></div><p>使用<code>clone</code>方法可以复制数组，包括一维和多维数组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> intArray<span style="color:#f92672">[][]</span> <span style="color:#f92672">=</span> <span style="color:#f92672">{{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">},</span> <span style="color:#f92672">{</span>4<span style="color:#f92672">,</span> 5<span style="color:#f92672">}};</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> cloneArray<span style="color:#f92672">[][]</span> <span style="color:#f92672">=</span> intArray<span style="color:#f92672">.</span><span style="color:#a6e22e">clone</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// will print false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>intArray <span style="color:#f92672">==</span> cloneArray<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// will print true as shallow copy is created
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// i.e. sub-arrays are shared
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// 指向同一个地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>intArray<span style="color:#f92672">[</span>0<span style="color:#f92672">]</span> <span style="color:#f92672">==</span> cloneArray<span style="color:#f92672">[</span>0<span style="color:#f92672">]);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>intArray<span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> <span style="color:#f92672">==</span> cloneArray<span style="color:#f92672">[</span>1<span style="color:#f92672">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>循环语句<code>foreach</code>不会自动循环处理二维数组的所有元素，若想要快速打印二维数组的元素可以调用<code>deepToString</code>方法，但需要注意的是它不能用于一维数组 ：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[][]</span> magicNums <span style="color:#f92672">=</span> <span style="color:#f92672">{{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">},</span> <span style="color:#f92672">{</span>3<span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> 5<span style="color:#f92672">,</span> 6<span style="color:#f92672">},</span> <span style="color:#f92672">{</span>7<span style="color:#f92672">,</span> 8<span style="color:#f92672">}};</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>magicNums<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">deepToString</span><span style="color:#f92672">(</span>magicNums<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">[[</span>I<span style="color:#a6e22e">@77ec78b9</span><span style="color:#f92672">,</span> <span style="color:#f92672">[</span>I<span style="color:#a6e22e">@1a3869f4</span><span style="color:#f92672">,</span> <span style="color:#f92672">[</span>I<span style="color:#a6e22e">@a38d7a3</span><span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[[</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">],</span> <span style="color:#f92672">[</span>3<span style="color:#f92672">,</span> 4<span style="color:#f92672">,</span> 5<span style="color:#f92672">,</span> 6<span style="color:#f92672">],</span> <span style="color:#f92672">[</span>7<span style="color:#f92672">,</span> 8<span style="color:#f92672">]]</span>
</span></span></code></pre></div><h2 id="数组拷贝">数组拷贝</h2>
<p>在<code>Java</code>中允许将一个数组变量拷贝到另一个数组变量，这时两个变量将指向同一个数组。如果希望将一个数组的所有值拷贝到一个新的数组中去，就要使用<code>Arrays</code>类的<code>copyOf</code>方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arrTest <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>12<span style="color:#f92672">,</span> 34<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 789<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 234<span style="color:#f92672">,</span> 5678<span style="color:#f92672">,</span> 0<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 1<span style="color:#f92672">,</span> 56<span style="color:#f92672">,</span> 23<span style="color:#f92672">,</span> 7891<span style="color:#f92672">,</span> 13<span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>arrTest<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> luckyNum <span style="color:#f92672">=</span> arrTest<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>luckyNum<span style="color:#f92672">[</span>7<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> 567<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> copiedLuckyNum <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">copyOf</span><span style="color:#f92672">(</span>luckyNum<span style="color:#f92672">,</span> luckyNum<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><p>方法的第2个参数表示新数组长度，如果新数组长度小于原始数组的长度，则只拷贝旧数组前面的值。如果新数组长度大于原始数组的长度，那么<font color="#de7802">额外的元素根据数组中元素类型填充默认值</font>。</p>
<h2 id="数组排序">数组排序</h2>
<p>如果想对数值型数组进行排序，可以使用<code>Arrays</code>中的静态<code>sort</code>方法，这个<code>sort</code>方法<font color=red>使用了优化的快速排序</font>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arrTest <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>12<span style="color:#f92672">,</span> 34<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 789<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 234<span style="color:#f92672">,</span> 5678<span style="color:#f92672">,</span> 0<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 1<span style="color:#f92672">,</span> 56<span style="color:#f92672">,</span> 23<span style="color:#f92672">,</span> 7891<span style="color:#f92672">,</span> 13<span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>arrTest<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">sort</span><span style="color:#f92672">(</span>arrTest<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>arrTest<span style="color:#f92672">));</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">[</span>12<span style="color:#f92672">,</span> 34<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 789<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 234<span style="color:#f92672">,</span> 5678<span style="color:#f92672">,</span> 0<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 1<span style="color:#f92672">,</span> 56<span style="color:#f92672">,</span> 23<span style="color:#f92672">,</span> 7891<span style="color:#f92672">,</span> 13<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>0<span style="color:#f92672">,</span> 1<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 6<span style="color:#f92672">,</span> 12<span style="color:#f92672">,</span> 13<span style="color:#f92672">,</span> 23<span style="color:#f92672">,</span> 34<span style="color:#f92672">,</span> 56<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 90<span style="color:#f92672">,</span> 234<span style="color:#f92672">,</span> 789<span style="color:#f92672">,</span> 5678<span style="color:#f92672">,</span> 7891<span style="color:#f92672">]</span>
</span></span></code></pre></div><h1 id="字符串">字符串</h1>
<p><code>Java</code>没有内置的字符串类型，而是标准库中提供了一个预定义的<code>String</code>类型。每个用双引号括起来的字符串都是<code>String</code>类的一个实例。也就是说，<font color="#de7802">无论字符串常量还是字符串变量，都是使用类来实现的</font>。程序中用到的字符串可以分为两类，一类是创建后不会修改字符串内容，另一类是创建后允许修改字符串内容。</p>
<p>下面代码中，第一条语句只是声明了字符串引用变量<code>str</code>，此时<code>str</code>的值为<code>null</code>。第二条语句则在堆内存中分配了内存，并将变量名指向了字符串的首地址：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>str <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;字符串&#34;</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Convert</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String strNull<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>Convert convert <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Convert<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 类里面的属性与局部变量不一样，未初始化不会出现编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>convert<span style="color:#f92672">.</span><span style="color:#a6e22e">strNull</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span> <span style="color:#75715e">//true
</span></span></span></code></pre></div><p>也可以按如下使用字符串字面量创建字符串变量，<font color=red>这个变量对应的字符串对象被创建在字符串常量池中</font>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String 变量名 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;字符串&#34;</span>
</span></span></code></pre></div><p>字符串也可以用<code>new</code>操作符来声明，即动态分配。如果字符串是动态分配的，它们会在堆中被分配一个新的内存位置，这个字符串对象不会被添加到字符串常量池中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String 变量名 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;字符串&#34;</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><p>如果想将上述方式生成的字符串放到常量池中，可以调用<code>intern</code>方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Geeks&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>String str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Geeks&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str <span style="color:#f92672">==</span> str1<span style="color:#f92672">);</span>  <span style="color:#75715e">//false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>str1<span style="color:#f92672">));</span> <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>String str2 <span style="color:#f92672">=</span> str<span style="color:#f92672">.</span><span style="color:#a6e22e">intern</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str <span style="color:#f92672">==</span> str2<span style="color:#f92672">);</span> <span style="color:#75715e">// false 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>str1<span style="color:#f92672">));</span> <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str1 <span style="color:#f92672">==</span> str2<span style="color:#f92672">);</span> <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str1<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>str2<span style="color:#f92672">));</span> <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>String testStr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span> <span style="color:#f92672">==</span> testStr<span style="color:#f92672">);</span> <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span> <span style="color:#f92672">==</span> testStr<span style="color:#f92672">.</span><span style="color:#a6e22e">intern</span><span style="color:#f92672">());</span> <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>利用<code>String</code>类创建的字符串变量，一旦被初始化或赋值，它的值和分配的内容原则上不可再被改变。这是因为<code>String</code>是使用<code>char</code>数组来存储字符串的，不可变是因为这个<code>char</code>数组是<code>private</code>的，<code>String</code>没有对外提供方法来修改这个数组，因而无法改变这个<code>char</code>数组的值，所以说<code>String</code>是不可变的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Stable</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">byte</span><span style="color:#f92672">[]</span> value<span style="color:#f92672">;</span>
</span></span></code></pre></div><p>如果改变字符串变量的值，将会产生一个新的字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">testString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    String str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Good&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  	System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>                                                            
</span></span></code></pre></div><p>上面的例子看起来是一个简单的字符串赋值，<font color=blue>实际上重新申请了一个新的内存空间</font>。首先产生一个字符串对象<code>test</code>，在内存中分配了一段空间，<code>str1</code>指向这个对象。由于<code>str1</code>被重新赋值，原来的空间中已经不可能再追加新的内容，系统不得不将这个对象放弃，再重新生产新的对象<code>Good</code>，即<code>str1</code>指向的内存地址已经不是同一个，对象也不是同一个。</p>
<p>空字符串是长度为0的字符串，也是一个对象，它有自己的长度和内容（长度为0，内容为空）。<code>String</code>变量还可以存放一个特殊值，名称为<code>null</code>，<font color=red>表示没有任何对象和该变量关联</font>。空字符<code>&quot;&quot;</code>的长度为0，可以调用<code>length()</code>或<code>isEmpty()</code>检查一个字符串是否为空：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>str<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;str length is 0&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>有时要检查一个字符串既不是<code>null</code>，也不是空串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// null判断要放在前面，否则str为null时调用实例方法length时会出现编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>str <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> str<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">!=</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;str length is 0&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="equals和">equals和==</h2>
<p>在Java中，<em>equals</em>方法用于比较两个对象是否相等。它是<em>Object</em>类的一个方法，通常用于引用数据类型的比较。默认情况下，<em>equals</em>方法比较的是两个对象的地址值，即两个引用是否指向同一个对象。但是，许多类如<em>String</em>、<em>Date</em>、<em>File</em>以及包装类等都重写了<em>Object</em>类中的<em>equals</em>方法，使得它们比较的不再是地址值，而是对象的实际内容。</p>
<h3 id="equals方法与运算符的区别">equals方法与==运算符的区别</h3>
<p>运算符*==*可以用于基本数据类型和引用数据类型的比较。<font color="#de7802">当用于基本数据类型时，比较的是两个变量保存的数据是否相等。而当用于引用数据类型时，它比较的是两个对象的地址值是否相同</font>。下面示例中，因为<code>String</code>是类，即引用类型，所以比较的是对象的地址：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>String str2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str1 <span style="color:#f92672">==</span> str2<span style="color:#f92672">);</span> <span style="color:#75715e">// 输出false，因为str1和str2指向不同的对象实例
</span></span></span></code></pre></div><p>作为对比，<font color=red><em>equals</em>方法默认情况下也是比较对象的地址值，但是很多类通过重写<em>equals</em>方法改变了这一默认行为</font>。例如，<em>String</em>类重写了<em>equals</em>方法，使得它比较的是两个字符串的内容是否相等：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;runoob&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>String str2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;runoob&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">boolean</span> retVal<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>retVal <span style="color:#f92672">=</span> str1<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>str2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;返回值 = &#34;</span> <span style="color:#f92672">+</span> retVal<span style="color:#f92672">);</span> <span style="color:#75715e">// 输出true，因为str1和str2的内容相同
</span></span></span></code></pre></div><h3 id="自定义类中的equals方法">自定义类中的equals方法</h3>
<p>在自定义类中使用<em>equals</em>方法时，通常是为了比较两个对象的实体内容是否相同。这就需要我们重写<em>Object</em>类中的<em>equals</em>方法。例如，在一个订单类<em>Order</em>中，我们可能会像下面这样重写<em>equals</em>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>Object obj<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 先判断是否指向同一对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">this</span> <span style="color:#f92672">==</span> obj<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 再判断是否是相同类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>obj <span style="color:#66d9ef">instanceof</span> Order<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>	  Order order <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Order<span style="color:#f92672">)</span>obj<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">// 请注意：对于基本数据类型使用==，对于引用数据类型使用equals
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">orderId</span> <span style="color:#f92672">==</span> order<span style="color:#f92672">.</span><span style="color:#a6e22e">orderId</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">orderName</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>order<span style="color:#f92672">.</span><span style="color:#a6e22e">orderName</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>在这个例子中，<em>equals</em>方法首先检查两个对象的地址值是否相同，如果相同则直接返回<em>true</em>。如果不同，它会检查<em>obj</em>是否是<em>Order</em>类的实例，若是则比较属性<em>orderId</em>和<em>orderName</em>是否相等，否则返回<code>false</code>。</p>
<p>需要注意的是：</p>
<ul>
<li>*==*既可以比较基本类型也可以比较引用类型。对于基本类型，比较的是值，而对于引用类型，比较的是内存地址。</li>
<li><em>equals</em>方法属于<em>java.lang.Object</em>类，<font color=red>如果没有被重写，默认行为与*==<em>相同</font>。但是，像</em>String<em>类这样的类已经重写了</em>equals<em>方法，它的</em>equals*方法比较的是对象的内容。</li>
<li>通常情况下，重写<em>equals</em>方法会比较类中的相应属性是否都相等。</li>
</ul>
<h2 id="字符串池">字符串池</h2>
<p><code>Java</code>程序在执行时会维护一个字符串池(<code>string pool</code>)，对于一些可共享的字符串对象，会<font color="#de7802">先在字符串池中查找是否有相同的字符串内容，如果有就直接返回</font>，而不是重新创建一个新的<code>String</code>对象，以减少内存占用。<font color=blue>当在程序中直接使用双引号括起来的字符串时，该字符串就会在字符串池中</font>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Geeks&#34;</span><span style="color:#f92672">;</span>
</span></span></code></pre></div><h2 id="字符串判等">字符串判等</h2>
<p>对于字符串说，运算符<code>==</code>用于比较两个变量本身的值，即<font color="#de7802">两个对象在内存中的首地址</font>。而<code>equal()</code>方法则是比较两个字符串<font color=red>包含的内容</font>是否相同：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">equalString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>        
</span></span><span style="display:flex;"><span>    String s1<span style="color:#f92672">,</span> s2<span style="color:#f92672">,</span> s3 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">,</span> s4 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    s1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">);</span>               
</span></span><span style="display:flex;"><span>    s2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;abc&#34;</span><span style="color:#f92672">);</span>               
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1 <span style="color:#f92672">==</span> s2<span style="color:#f92672">);</span>   <span style="color:#75715e">//false      
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>s2<span style="color:#f92672">));</span>     <span style="color:#75715e">//true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1 <span style="color:#f92672">==</span> s3<span style="color:#f92672">);</span>  <span style="color:#75715e">//false       
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s1<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>s3<span style="color:#f92672">));</span>    <span style="color:#75715e">//true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s3 <span style="color:#f92672">==</span> s4<span style="color:#f92672">);</span> <span style="color:#75715e">//true，因为都在字符串池里        
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s3<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>s4<span style="color:#f92672">));</span>  <span style="color:#75715e">//true  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印结果  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>而对于非字符串类型的类类型变量来说，默认情况下<font color="#de7802"><code>==</code>运算符和<code>equal()</code>方法都是用来比较其所指向对象在堆内存中的首地址</font>，即是否指向同一个对象:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Test a <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test<span style="color:#f92672">();</span>               
</span></span><span style="display:flex;"><span>Test b <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test<span style="color:#f92672">();</span>               
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a <span style="color:#f92672">==</span> b<span style="color:#f92672">);</span>    <span style="color:#75715e">//false    
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>b<span style="color:#f92672">));</span>  <span style="color:#75715e">//false  
</span></span></span></code></pre></div><h2 id="stringbuffer">StringBuffer</h2>
<p><code>StringBuffer</code>是<code>String</code>的一个对等类，提供了字符串的大部分功能。<code>String</code>表示固定长度、不可改变的字符序列，而<code>StringBuffer</code>表示可增长和可写入的字符序列。</p>
<p>需要注意的是，<font color=red><code>StringBuffer</code>是线程安全的</font>，它所有公共方法都是使用<code>synchronized</code>修饰的，这意味着它是同步的，<font color="#de7802">可以在多线程环境中安全使用</font>。因此，当应用程序需要线程安全时，应当使用<code>StringBuffer</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>StringBuffer buffer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuffer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>buffer<span style="color:#f92672">.</span><span style="color:#a6e22e">append</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test11&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>buffer<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 若超出字符串长度，则会抛异常StringIndexOutOfBoundsException
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>buffer<span style="color:#f92672">.</span><span style="color:#a6e22e">deleteCharAt</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>buffer<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>testtest11
</span></span><span style="display:flex;"><span>tettest11
</span></span></code></pre></div><h2 id="stringbuilder">StringBuilder</h2>
<p><code>StringBuilder</code>自<code>Java 5</code>引入，与<code>StringBuffer</code>的主要区别在于<font color="#de7802">它的方法不是线程安全的</font>。由于没有同步，<code>StringBuilder</code>在单线程环境下的性能比<code>StringBuffer</code>更优，因此在不需要考虑线程安全的情况下，推荐使用StringBuilder。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>StringBuilder str3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>str3<span style="color:#f92672">.</span><span style="color:#a6e22e">append</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;GFG&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>str3<span style="color:#f92672">.</span><span style="color:#a6e22e">deleteCharAt</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>str3<span style="color:#f92672">.</span><span style="color:#a6e22e">append</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;GHIJ&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>GGGHIJ
</span></span></code></pre></div><h2 id="stringtokenizer">StringTokenizer</h2>
<p><code>StringTokenizer</code>根据自定义分界符进行拆分，并将结果进行封装提供对应方法进行遍历取值，其用途类似于<code>split</code>方法，只是对结果进行了封装。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>StringTokenizer str4 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringTokenizer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;abc cdb&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str4<span style="color:#f92672">.</span><span style="color:#a6e22e">countTokens</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>str4<span style="color:#f92672">.</span><span style="color:#a6e22e">hasMoreTokens</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str4<span style="color:#f92672">.</span><span style="color:#a6e22e">nextToken</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>abc
</span></span><span style="display:flex;"><span>cdb
</span></span></code></pre></div><h2 id="stringjoiner">StringJoiner</h2>
<p><code>StringJoiner</code>是<code>java.util</code>包中的一个类，用于构造一个由分隔符分隔的字符串，并且可选择以特定前缀开始，以特定后缀结束。尽管这样的字符序列可以使用<code>StringBuilder</code>类实现，但<code>StringJoiner</code>提供了一种更简单的方法，无需编写太多代码就可以做到：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>StringJoiner joiner <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringJoiner<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;This&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;is&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>joiner<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>StringJoiner joiner1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringJoiner<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;prefix&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;suffix&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner1<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;This&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner1<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;is&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner1<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>joiner1<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>joiner1<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>This<span style="color:#f92672">,</span>is<span style="color:#f92672">,</span>a<span style="color:#f92672">,</span>test
</span></span><span style="display:flex;"><span>prefixThis<span style="color:#f92672">,</span>is<span style="color:#f92672">,</span>a<span style="color:#f92672">,</span>testsuffix
</span></span></code></pre></div><h1 id="类与对象">类与对象</h1>
<p>类是对某一类事物的描述，是抽象的，概念上的定义，可以理解为一个模具。而对象则是实际存在的属于该类的某个具体个体，因而也被称为实例<code>instance</code>。</p>
<p>在Java中，<font color=red>任何对象变量的值都是一个引用</font>，指向存储在另一个地方的对象，<code>new</code>操作符返回的也是一个引用。可以显式地将对象变量设置为<code>null</code>，表示这个对象变量目前没有引用任何对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Date startTime <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>startTime<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 对象类型变量可以被置为null
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>startTime <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>startTime<span style="color:#f92672">);</span>
</span></span></code></pre></div><h2 id="修饰符">修饰符</h2>
<h3 id="类修饰符">类修饰符</h3>
<p>一个<font color="#de7802">类的方法可以访问这个类的所有对象的私有数据</font>。一个类<font color=red>可以有多个修饰符，且无先后顺序之分</font>，但<code>abstract</code>和<code>final</code>是对立的，所以不能同时将它们应用在同一个类的定义中，各个修饰符含义如下：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>将一个类声明为公共类，它可以被任何对象访问</td>
</tr>
<tr>
<td>abstract</td>
<td>将一个类声明为抽象类，不能创建该类的实例</td>
</tr>
<tr>
<td>final</td>
<td>将不能被其它类继承</td>
</tr>
<tr>
<td>缺省</td>
<td>只有在同一个包中才能使用</td>
</tr>
</tbody>
</table>
<h3 id="成员变量修饰符">成员变量修饰符</h3>
<p>成员变量的修饰符有访问控制修饰符，<code>static</code>修饰符，<code>final</code>修饰符，过渡修饰符和易失修饰符。一个成员变量<font color=Blue>可以被两个以上的修饰符同时修饰</font>，但有些修饰符不能同时存在，各个修饰符的含义如下：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>公共访问控制符，指定该变量为公共的，它可以被任何对象的方法访问。</td>
</tr>
<tr>
<td>private</td>
<td>私有访问控制符，指定该变量只允许自己类中方法访问，其它任何类（包括子类）中的方法均不能访问。</td>
</tr>
<tr>
<td>protected</td>
<td>保护访问控制符，指定只可以被它自己的类<font color="#de7802">以及子类在同一包中的其它类访问</font>，在子类中可以覆盖此变量。</td>
</tr>
<tr>
<td>缺省</td>
<td>表示在同一个包中的其它类可以访问此成员变量，而其它包中的类不能访问该成员变量。</td>
</tr>
<tr>
<td>final</td>
<td>指定该变量的值不能改变。</td>
</tr>
<tr>
<td>static</td>
<td>指定该变量被所有对象共享，即所有的实例都可使用该变量。</td>
</tr>
<tr>
<td>transient</td>
<td>指定该变量是一个系统保留，暂无特别作用的临时变量。</td>
</tr>
<tr>
<td>volatile</td>
<td>指定该变量可以同时被几个线程控制和修改。</td>
</tr>
</tbody>
</table>
<p>可以将实例字段定义为<code>final</code>，这样的字段必须在构造对象时初始化。也就是说，<font color="#de7802">必须确保每个构造器执行之后，这个字段已经设置，并且以后不会再修改这个字段</font>。</p>
<p>如果<font color=red>类中所有方法都不会改变其对象，这样的类被称为不可变类</font>。对于对象类型，<code>final</code>关键字只表示存储在变量中的对象引用不会再指向另一个不同的对象，但其所指向的对象本身是可以被修改的。</p>
<p>如果将一个字段设置为<code>static</code>，那么这个字段并不出现在每个类的对象实例中，每个静态字段只有一个副本。可以认为静态字段属于类，而不是单个对象。静态变量使用的少，但静态常量使用比较多，例如<code>Math.PI,System.out</code>等。</p>
<p>可以<font color=blue>使用对象实例来调用静态方法，这是合法的，但不建议这样做，建议使用类名来调用静态方法</font>。<code>main</code>方法也是一个静态方法，它不对任何对象进行操作。事实上，启动程序时还没有任何对象，将执行静态<code>main</code>方法，并构造所需的对象。每个类都可以有一个<code>main</code>方法。</p>
<h3 id="成员方法修饰符">成员方法修饰符</h3>
<p><code>Java</code>的方法总是按值调用，即<font color="#de7802">方法中形参得到的是所有实参的一个副本</font>。具体来说，方法不能修改传递给它的任何参数变量的内容。需要强调的是，对象引用也是按值传递的。下面示例中，因为<code>String</code>是不可变对象类型，所以<code>swap</code>方法没有任何作用。实际上，交换的是两个副本的值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;aaa&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>String b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bbb&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>employee1<span style="color:#f92672">.</span><span style="color:#a6e22e">swap</span><span style="color:#f92672">(</span>a<span style="color:#f92672">,</span> b<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;aOut:&#34;</span> <span style="color:#f92672">+</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; bOut:&#34;</span> <span style="color:#f92672">+</span> b<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span><span style="color:#f92672">(</span>String a<span style="color:#f92672">,</span> String b<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    String tmp <span style="color:#f92672">=</span> a<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> b<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> tmp<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  	System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;aIn:&#34;</span> <span style="color:#f92672">+</span> a <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; bIn:&#34;</span> <span style="color:#f92672">+</span> b<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>aIn:bbb bIn<span style="color:#f92672">:</span>aaa
</span></span><span style="display:flex;"><span>aOut:aaa bOut<span style="color:#f92672">:</span>bbb
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test1</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test1</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Test1 constructor&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test1</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">swap</span><span style="color:#f92672">(</span>Test1 a<span style="color:#f92672">,</span> Test1 b<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    var tmp <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> b<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    b<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> tmp<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Test1 test1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test1<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;H1&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Test1 test2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test1<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;H2&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// swap中传递的是值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>swap<span style="color:#f92672">(</span>test1<span style="color:#f92672">,</span> test2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>test1<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> test2<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>H2 H1
</span></span></code></pre></div><p>在方法中定义修饰符是可选项。方法的修饰符较多，包括访问控制符、静态修饰符、抽象修饰符、最终修饰符、同步修饰符和本地修饰符，具体含义如下所示：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>public</td>
<td>公共访问控制符，指定该方法为公共的，它可以被任何对象的方法访问。</td>
</tr>
<tr>
<td>private</td>
<td>私有访问控制符，指定该方法只允许自己类中方法访问，其他任何类（包括子类）中的方法均不能访问。</td>
</tr>
<tr>
<td>protected</td>
<td>保护访问控制符，指定该方法只可以被它自己的类以及子类在同一包中的其它类访问。</td>
</tr>
<tr>
<td>缺省</td>
<td>表示在同一个包中的其它类可以访问此成员方法，而其它包中的类不能访问该成员方法。</td>
</tr>
<tr>
<td>final</td>
<td>指定该方法不能被重载。</td>
</tr>
<tr>
<td>static</td>
<td>指定不需要实例化一个对象就可以激活的方法。</td>
</tr>
<tr>
<td>synchronized</td>
<td>在多线程程序中，该修饰符用于在运行前，对它所属的方法加锁，以防止其它线程访问，运行结束后解锁。</td>
</tr>
<tr>
<td>native</td>
<td>指定此方法的方法体是其他语言在程序外部编写的。</td>
</tr>
</tbody>
</table>
<h3 id="成员变量和局部变量">成员变量和局部变量</h3>
<ul>
<li>成员变量是对象的一部分，它随着对象的创建而存在。而局部变量随着方法调用而产生，随着方法调用的结束而自动消失。</li>
<li>成员变量是对象的一部分，而对象是存在于堆内存中，所以<font color=red>成员变量也是在堆内存中，而局部变量是存在于栈内存中</font>的。</li>
<li><font color=blue>成员变量如果没有被赋初值，则自动以类型的默认值初始化。</font><font color="#de7802">局部变量不会自动赋值，必须显式地赋值后才能使用</font>。被<code>final</code>修饰但没有被<code>static</code>修饰的成员变量必须显式地赋值。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// 局部变量不会自动初始化，若使用前没初始化，将会编译报错
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 编译报错
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>java: variable str might not have been initialized
</span></span></code></pre></div><p>下面是成员变量初始化的例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 成员变量若未被赋初值，会自动初始化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 静态成员变量若未初始化，也会自动初始化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> String newStr<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// str默认的初始化值为null，即会自动被初始化为null
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">// 使用前已经被初始化了，使用不会出现编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>当且仅当自定义类没有构造器，编译器会自动生成一个无参构造器，<font color="#de7802">这个默认的无参构造器会将所有的实例字段设置为相应的默认值</font>。只要自定义了类的构造器，就不会自动生成无参构造器。</p>
<h2 id="对象的使用">对象的使用</h2>
<p>创建新的对象之后，就可以对其成员进行访问。在对象实例名和成员之间用<code>.</code>相连，通过这种方式来引用成员，如下所示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>对象名<span style="color:#f92672">.</span><span style="color:#a6e22e">对象成员</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Double salary<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate hireDay<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> percent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">+=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">*</span> percent <span style="color:#f92672">/</span> 100<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Employee object <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>object<span style="color:#f92672">.</span><span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span>23<span style="color:#f92672">);</span>
</span></span></code></pre></div><h2 id="参数传值">参数传值</h2>
<p><code>Java</code>语言在给被调用方法的参数赋值时，只采取传值的方式。所以，基本类型数据传递的是数据值本身。<font color=Blue>而引用类型数据传递的也是这个变量的本身，即对象的引用变量，而非对象本身</font>。</p>
<p>通过方法调用，可以改变对象的内容，但对象的引用变量是不能改变的。简言之，就是当参数是基本数据类型时，是传值方式调用；而当参数是引用变量时，则是传地址方式调用。</p>
<h2 id="隐式与显式参数">隐式与显式参数</h2>
<p>对象的方法用于操作对象以及存取它们的实例字段。下面<code>raiseSalary</code>方法有两个参数，第一个参数为隐式参数，是出现在方法名前的<code>Employee</code>类型的对象实例。第二个参数是位于方法名后面括号中的数值，这是一个显式参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Double salary<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate hireDay<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> percent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        salary <span style="color:#f92672">+=</span> <span style="color:#f92672">(</span>salary <span style="color:#f92672">*</span> percent <span style="color:#f92672">/</span> 100<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>也就是说显式参数列在方法声明中，隐式参数并没有出现在方法声明中。在每个方法中，关键字<code>this</code>指示隐式参数，如果喜欢的话，可以将<code>raiseSalary</code>改写成如下方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Double salary<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate hireDay<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> percent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">+=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">*</span> percent <span style="color:#f92672">/</span> 100<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="方法重载">方法重载</h2>
<p>重载是指相同的方法名称，如果参数个数不同，或者参数类型不同，则方法就具有不同的功能。方法重载中参数的类型是关键，仅仅是形参名不同是不行的。也就是说，<font color="#de7802">参数的列表必须不同，即或者参数个数不同，或者参数类型不同，或者参数的顺序不同</font>。</p>
<h2 id="构造方法">构造方法</h2>
<p>构造方法是一种特殊方法，用于在对象被创建时初始化对象成员的方法，构造方法的名称必须与它<font color=red>类名完全相同</font>。虽然构造方法没有显式返回值，但在定义构造方法时，构造方法名前不能用<code>void</code>来修饰，因为<font color=Blue>一个类的构造方法的返回值类型就是该类本身</font>。</p>
<p>构造方法定义后，创建对象时会被自动调用，因此构造方法不需要在程序中直接调用，而是在<font color="#de7802">对象产生时自动执行</font>。<font color=red>若在构造方法前添加<code>void</code>，就变成了普通方法，不会再自动调用了</font>。构造方法的特殊性在于：</p>
<ul>
<li>
<p>构造方法的方法名与类名相同。</p>
</li>
<li>
<p>构造方法没有返回值，但不能写成<code>void</code>。</p>
</li>
<li>
<p>构造方法的主要作用是完成类对象的初始化工作。</p>
</li>
<li>
<p>构造方法<font color="#de7802">一般不能显式调用，而是由<code>new</code>操作符来调用</font>。</p>
</li>
</ul>
<h3 id="默认构造方法">默认构造方法</h3>
<p>如果在定义类时，没有定义任何构造器，编译器会自动生成一个默认构造函数，<font color=Blue>它没有参数，函数体中也没任何代码</font>。如果定义类的<code>class</code>关键字前有<code>public</code>修饰，则编译器生成的默认构造方法也是<code>public</code>的。</p>
<h3 id="构造函数调用">构造函数调用</h3>
<p>构造函数可以重载，一个构造函数可以调用另一个构造函数，<font color=red>但必须使用<code>this</code>关键字，而且<code>this</code>关键字必须是构造方法内的第一行</font>。这种方式使用<code>this</code>关键字非常有用，只需要写一次公共构造代码。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// this调用构造器必须放在第一行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">();</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h2 id="对象初始化器">对象初始化器</h2>
<p>类中实例<font color="#de7802">字段的初始化既可以在构造器中，也可以在声明中直接赋值，还可以在初始化块中</font>。在一个类的声明中，可以包含任意多个初始化代码块，只要<font color=red>构造这个类的实例</font>，这些代码块就会执行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Double salary<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate hireDay<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> percent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">+=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">*</span> percent <span style="color:#f92672">/</span> 100<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        salary <span style="color:#f92672">=</span> 2<span style="color:#f92672">.</span><span style="color:#a6e22e">3</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        hireDay <span style="color:#f92672">=</span> LocalDate<span style="color:#f92672">.</span><span style="color:#a6e22e">now</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 构造对象实例时会调用对象初始化器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Employee object <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee<span style="color:#f92672">();</span>
</span></span></code></pre></div><p>需要注意的是，<font color=red>在实例化类的对象实例时，会首先运行初始化块，然后才会运行构造器中的代码</font>。通常建议将初始化块放在字段定义之后，以免出现循环定义。若同一个类中存在多个实例初始化块，则按在声明中出现的顺序执行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee1</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Double salary<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate hireDay<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> percent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">+=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">*</span> percent <span style="color:#f92672">/</span> 100<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        salary <span style="color:#f92672">=</span> 2<span style="color:#f92672">.</span><span style="color:#a6e22e">3</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        hireDay <span style="color:#f92672">=</span> LocalDate<span style="color:#f92672">.</span><span style="color:#a6e22e">now</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    	name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    	salary <span style="color:#f92672">=</span> 4<span style="color:#f92672">.</span><span style="color:#a6e22e">5</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    	hireDay <span style="color:#f92672">=</span> LocalDate<span style="color:#f92672">.</span><span style="color:#a6e22e">now</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    	System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(-</span>1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Employee1</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;unknow&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">=</span> 9<span style="color:#f92672">.</span><span style="color:#a6e22e">9</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">hireDay</span> <span style="color:#f92672">=</span> LocalDate<span style="color:#f92672">.</span><span style="color:#a6e22e">now</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Employee1</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">=</span> 109<span style="color:#f92672">.</span><span style="color:#a6e22e">9</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">hireDay</span> <span style="color:#f92672">=</span> LocalDate<span style="color:#f92672">.</span><span style="color:#a6e22e">now</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Employee1 employee1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee1<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;this&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>2
</span></span><span style="display:flex;"><span><span style="color:#f92672">-</span>1
</span></span><span style="display:flex;"><span>1
</span></span><span style="display:flex;"><span>3
</span></span></code></pre></div><h3 id="静态初始化器">静态初始化器</h3>
<p>静态初始化器是由关键字<code>static</code>修饰的一对花括号<code>{}</code>括起来的语句块。它的作用与类的构造方法有些相似，都是用来初始化工作的，但与构造方法有些不同：</p>
<ul>
<li>
<p>构造方法是对新创建的对象实例进行初始化，而<font color=red>静态初始化器是对类自身进行初始化</font>。</p>
</li>
<li>
<p>静态初始化器一般不能由程序调用，是<font color="#de7802">所属类被加载进内存时由系统调用执行</font>，也就是该类或类的实例使用时才会自动调用。</p>
</li>
<li>
<p>静态初始化器只执行一次，没有方法名，没有返回值和参数。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Test</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;this is a test num&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;second&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印的结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span> is a test num
</span></span><span style="display:flex;"><span>second
</span></span></code></pre></div><p>在上面这个例子中，<font color="#de7802">第一次使用<code>Test</code>类时，静态初始化器才会执行，并不是在程序启动时就会执行</font>。如果有多个静态初始化器，则它们在类的初始化时<font color=red>会按照在类声明中出现的顺序依次执行</font>。</p>
<p>如果在构造器中没有显式为类中字段设置初值，那么就会被自动地赋初始值。数值为<code>0</code>，布尔值为<code>false</code>，对象引用为<code>null</code>。这与局部变量的初始化有重大区别。</p>
<h1 id="继承">继承</h1>
<p><code>Java</code>中继承是通过<code>extends</code>关键字来实现的，<font color="#de7802">不支持多继承，一个类只能有一个直接父类</font>。所有类都直接或间接继承自<code>java.lang.Object</code>，即若定义类时没有使用<code>extends</code>关键字则表示该类继承自<code>java.lang.Object</code>。</p>
<p>有一个简单的规则可以用来判断是否应该将数据设计为继承关系，即<code>is-a</code>规则，它指出子类的每个对象也是父类的对象。<code>is-a</code>规则的另一种表述是替换原则，即程序中出现父类对象的任何地方都可以使用子类对象替换。</p>
<p>在<code>Java</code>中，对象变量是多态的。例如，一个<code>Employee</code>类型的变量既可以引用一个<code>Employee</code>类型的对象，也可以引用<code>Employee</code>任何一个子类的对象实例。</p>
<h2 id="构造方法执行">构造方法执行</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    String gender<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;person init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">extends</span> Person <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String department<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Student</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Student init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Student stu <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>stu<span style="color:#f92672">.</span><span style="color:#a6e22e">gender</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span> <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Person init
</span></span><span style="display:flex;"><span>Student init
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>上面例子中，若执行<code>Student student = new Student();</code>，会<font color=red>先自动调用父类的构造方法，</font>帮助继承父类的成员初始化做准备，随后才会执行子类的构造方法。</p>
<p>在执行子类的构造方法前，若没有显式使用<code>super</code>来调用父类的构造函数，则<font color="#de7802">默认会调用父类中无参数构造方法</font>。如果父类只定义了有参构造方法，而子类的构造方法中又未使用<code>super</code>来调用父类的构造函数，则会出现编译错误：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NewTest</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> x<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    NewTest<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> x<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NewTest1</span> <span style="color:#66d9ef">extends</span> NewTest <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    NewTest1<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 父类中没有无参构造方法，子类又未显式调用有参构造方法，则会出现编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;NewTest1&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// NewTest只定义了有参构造函数，而NewTest1没有调用父类的构造函数，所以会出现编译错误
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>java: constructor NewTest in <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NewTest</span> cannot be applied to given types<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>  required<span style="color:#f92672">:</span> <span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span>  found<span style="color:#f92672">:</span>    no arguments
</span></span><span style="display:flex;"><span>  reason<span style="color:#f92672">:</span> actual and formal argument lists differ in length
</span></span></code></pre></div><h2 id="this和super">this和super</h2>
<p>关键字<code>this</code>有两种含义，一是隐式参数的引用；二是调用该类的其它构造器。相似的，<code>super</code>关键字也有两种含义，一是调用父类的方法，二是调用父类的构造器。如果使用<code>this</code>或<code>super</code>调用构造器，<font color="#de7802">都只能作为另一个构造器的第一条语句出现</font>。需要注意的是，不能在构造器中同时使用<code>super</code>和<code>this</code>调用另一个构造器。</p>
<p>需要注意的是，<code>super</code>和<code>this</code>有些区别，<code>super</code>并不是一个对象的引用，因为不能将值<code>super</code>赋给另一个对象变量。事实上，<code>super</code>只是一个指示编译器调用父类方法的特殊关键字。</p>
<h2 id="方法覆盖">方法覆盖</h2>
<p>方法覆盖是指在子类中定义方法名称、参数个数、参数类型均与父类完全相同的方法，用于重写父类里同名方法的功能。需要特别注意的是，<font color=red>子类不能覆盖父类中声明为<code>final</code>或<code>static</code>的方法</font>。</p>
<p>在子类中覆盖父类方法时，<font color=Blue>可以扩大父类方法的访问权限，绝不可以缩小父类方法的访问权限</font>。下面例子中，<code>show</code>方法在子类的访问权限可以改为<code>public</code>，但不能改为<code>private</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Person init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Person show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> <span style="color:#66d9ef">extends</span> Person <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String department<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Student</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Student init&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Student show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>所有<font color=red>被<code>private</code>修饰符限定的方法以及所有包含在<code>final</code>类中的方法，都默认是<code>final</code>的。</font>这些方法既不可能被子类继承，也不可能被子类覆盖。</p>
<p>一个成员变量若被<code>static final</code>两个修饰符所限定时，它实际的含义就是常量。定义一个成员变量，若只用<code>final</code>修饰，而不用<code>static</code>修饰时，<font color=Blue>则必须且只能赋值一次</font>。</p>
<p>一个对象变量可以指向多种实际类型，被称为多态。在运行时能够自动地选择适当的方法，被称为动态绑定。在<code>Java</code>中，对象变量是多态的，也就是说一个<code>Employee</code>类型的变量既可以引用一个<code>Employee</code>类型的对象，也可以引用<code>Employee</code>类的任何一个子类对象。</p>
<p>在<code>Java</code>中，子类引用数组可以转换为父类引用数组，而不需要使用强制类型转换。</p>
<h2 id="阻止继承">阻止继承</h2>
<p>有时，可能希望阻止定义某个类的子类， 不允许继承的类被称为<code>final</code>类。如果想阻止某个类定义子类，可以定义为<code>final</code>类。类中的某个特定方法也可以被声明为<code>final</code>，子类就不能覆盖这个方法。<code>final</code>类中的所有方法自动地成为<code>final</code>方法。</p>
<p>字段也可以声明为<code>final</code>，对于<code>final</code>字段来说，构造对象实例后就不允许改变它们的值了。如果将一个类声明为<code>final</code>，<font color="#de7802">只有其中的方法自动地成为<code>final</code>，而不包括字段。</font></p>
<p>对象类型的强制类型转换需要满足：</p>
<ul>
<li>只能在继承层次结构内进行强制类型转换。</li>
<li>在将父类强制转换为子类之前，应该使用<code>instanceof</code>进行检查。</li>
</ul>
<h1 id="object类">Object类</h1>
<p>在<code>Java</code>中，只有基本类型不是对象，例如数值，布尔以及字符的值不是对象。每个类都扩展了<code>Object</code>，即可以使用<code>Object</code>类型的变量引用任何任何类类型的对象。<font color="#de7802">所有数组类型，不管是基本类型的数组还是对象数组都是扩展了<code>Object</code>类的类型</font>。</p>
<p>在<code>Java</code>中所有类都<font color=red>直接或者间接继承</font>自<code>java.lang.Object</code>，它定义了<code>public final Class getClass()</code>方法。<font color="#de7802">这个方法返回运行时对象所属的类</font>，返回的<code>class</code>对象是被所属类的静态同步方法锁定的对象:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Test a <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>Class obj <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">();</span>                  
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>obj<span style="color:#f92672">);</span>  <span style="color:#75715e">//class test
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>obj<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>  <span style="color:#75715e">//Test     
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span>
</span></span><span style="display:flex;"><span>Test
</span></span></code></pre></div><p>在上面示例中，首先通过始祖类<code>Object</code>的实例方法<code>getClass()</code>获取类的实例，然后通过<code>Class</code>类的实例方法<code>getName()</code>获取到了类<code>Test</code>的名称。</p>
<p>可以使用<code>Object</code>类型的变量引用任何类型的对象，但<font color=red>它只能作为一个泛型容器</font>。如果想要对其中的内容进行具体的操作，还需先进行强制类型转换：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Object object <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">((</span>Employee<span style="color:#f92672">)</span> object<span style="color:#f92672">).</span><span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span>23<span style="color:#f92672">);</span>
</span></span></code></pre></div><p>在<code>Java</code>中，只有基本类型(<code>primitive type</code>)不是对象。例如，数值，字符和布尔类型的值都不是对象。<font color=red>所有的数组类型，不管是类类型的数组还是基本类型数组都扩展了<code>Object</code>类</font>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Object object <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>Employee<span style="color:#f92672">[]</span> staff <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee<span style="color:#f92672">[</span>10<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>object <span style="color:#f92672">=</span> staff<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>object <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[</span>10<span style="color:#f92672">];</span>
</span></span></code></pre></div><p>可以通过对象运算符<code>instanceof</code>来测试一个对象是否是指定类或其子类的实例，若是则返回<code>true</code>，否则返回<code>false</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Student stu <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>stu <span style="color:#66d9ef">instanceof</span> Object<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印的结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>下面定义的类中，<code>Parent</code>是<code>Object</code>的子类，<code>Child</code>是<code>Parent</code>的子类：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#75715e">// Java program to demonstrate working of instanceof Keyword
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Class 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Parent class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Parent</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Class 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Child class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Child</span> <span style="color:#66d9ef">extends</span> Parent <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Class 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// Main class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GFG</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Main driver method
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Creating object of child class
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Child obj <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Child<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// A simple case
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>obj <span style="color:#66d9ef">instanceof</span> Child<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is instance of Child&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is NOT instance of Child&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// instanceof returning true for Parent class also
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>obj <span style="color:#66d9ef">instanceof</span> Parent<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is instance of Parent&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is NOT instance of Parent&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// instanceof returns true for all ancestors
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Note : Object is ancestor of all classes in Java
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>obj <span style="color:#66d9ef">instanceof</span> Object<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is instance of Object&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is NOT instance of Object&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>obj is instance of Child
</span></span><span style="display:flex;"><span>obj is instance of Parent
</span></span><span style="display:flex;"><span>obj is instance of Object
</span></span></code></pre></div><p>需要注意的是，如果在使用<code>instanceof</code>时，对象的值为<code>null</code>，则返回<code>false</code>。下面代码中，<code>obj</code>虽然定义为<code>Test1</code>类型的变量，但其初始值为<code>null</code>，所以使用<code>instanceof</code>运算符后的结果为<code>false</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test1</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Main</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        Test1 obj <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// obj虽然声明为Test1类型，但初始化值为null
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>obj <span style="color:#66d9ef">instanceof</span> Test1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is instance of Test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;obj is NOT instance of Test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>tobj is NOT instance of Test
</span></span></code></pre></div><p>子类引用的数组可以转换为父类引用的数组，而不需要使用强制类型转换：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Student<span style="color:#f92672">[]</span> students <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student<span style="color:#f92672">[</span>10<span style="color:#f92672">];</span>
</span></span><span style="display:flex;"><span>Person<span style="color:#f92672">[]</span> persons <span style="color:#f92672">=</span> students<span style="color:#f92672">;</span>
</span></span></code></pre></div><p><code>Object</code>类中的<code>equals</code>方法用于检测一个对象是否等于另外一个对象。<code>Object</code>类中实现的<code>equals</code>方法是比较两个对象引用地址是否相等，这是一个合理的默认行为，如果两个对象引用相等，这两个对象肯定就相等。</p>
<h2 id="hashcode">hashCode</h2>
<p>散列码<code>hashCode</code>是由对象导出的一个整型值。若x和y是两个不同的对象，则<code>x.hasCode</code>与<code>y.hashCode</code>基本上不同。下面代码中，字符串s与t有相同的散列值，这是因为字符串的散列值是由内容导出的。而<code>sb</code>和<code>tb</code>的散列值不同，是因为<code>StringBuilder</code>类中没有自定义<code>hashCode</code>方法，<font color=red>而<code>Object</code>类的默认<code>hashCode</code>方法是从对象的存储地址得出散列值</font>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>var s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;OK&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>var sb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder<span style="color:#f92672">(</span>s<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> sb<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>var t <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;OK&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>var tb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder<span style="color:#f92672">(</span>t<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>t<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> tb<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 打印结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>2524 990368553
</span></span><span style="display:flex;"><span>2524 1452126962
</span></span></code></pre></div><p>如果在类中重新定义了<code>equals</code>方法，还<font color="#de7802">必须为用户可能插入散列表的对象重新定义</font><code>hashCode</code>方法。</p>
<p>方法<code>hashCode</code>应该返回一个整数（可以是负数），并且要合理地组合类实例字段的散列值，以便<font color=Blue>让不同对象产生的散列值分布更加均匀</font>。最好使用<code>null</code>安全的方法<code>Objects.hashCode</code>，即如果参数为<code>null</code>，这个方法应当返回<code>0</code>。否则返回对参数调用<code>hashCode</code>的结果，另外使用静态方法<code>Double.hashCode</code>来避免创建<code>Double</code>对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> 7 <span style="color:#f92672">*</span> Objects<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">(</span>name<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> 11 <span style="color:#f92672">*</span> Double<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">(</span>salary<span style="color:#f92672">)</span> <span style="color:#f92672">+</span> 13 <span style="color:#f92672">*</span> Objects<span style="color:#f92672">.</span><span style="color:#a6e22e">hashCode</span><span style="color:#f92672">(</span>hireDay<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>还有一个更好的做法，<font color="#de7802">需要组合多个参数的散列值时，可以调用<code>Objects.hash</code>并提供这些参数</font>。这个方法会对各个参数调用<code>Objects.hashCode</code>，并组合这些参数的散列值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">hashCode</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Objects<span style="color:#f92672">.</span><span style="color:#a6e22e">hash</span><span style="color:#f92672">(</span>name<span style="color:#f92672">,</span> salary<span style="color:#f92672">,</span> hireDay<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>需要特别注意的是，<code>equals</code>和<code>hashCode</code>的定义必须相容，如果<code>x.equals(y)</code>返回<code>true</code>，那么<code>x.hashCode()</code>就必须与<code>y.hasCode()</code>的值相同。</p>
<h2 id="tostring方法">toString方法</h2>
<p>在<code>Object</code>中还有一个重要的方法，就是<code>toString</code>方法，它会返回表示对象值的一个字符串。大多数的<code>toString</code>方法都遵循这种格式：类的名字，随后是一对方括号括起来的字段值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Employee[name&#34;</span> <span style="color:#f92672">+</span> name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,salary=&#34;</span> <span style="color:#f92672">+</span> salary <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;,hireDay=&#34;</span> <span style="color:#f92672">+</span> hireDay <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;]&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Employee<span style="color:#f92672">[</span>nameRomeo<span style="color:#f92672">,</span>salary<span style="color:#f92672">=</span>55000<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">,</span>hireDay<span style="color:#f92672">=</span>2003<span style="color:#f92672">-</span>03<span style="color:#f92672">-</span>31<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>只要对象与一个字符串通过操作符<code>+</code>连接起来，<font color="#de7802">编译器就会自动地调用<code>toString</code>方法来获得这个对象的字符串描述</font>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Student stu <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Student<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>stu <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Student<span style="color:#a6e22e">@12cdcf4123</span>
</span></span></code></pre></div><h2 id="main方法">main方法</h2>
<p>每一个类可以有一个<code>main</code>方法，这是常用于对类进行单元测试的一个技巧。例如在<code>Employee</code>类中添加一个<code>main</code>方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Double salary<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> LocalDate hireDay<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Employee</span><span style="color:#f92672">(</span>String n<span style="color:#f92672">,</span> <span style="color:#66d9ef">double</span> s<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> year<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> month<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> day<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> n<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        salary <span style="color:#f92672">=</span> s<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        hireDay <span style="color:#f92672">=</span> LocalDate<span style="color:#f92672">.</span><span style="color:#a6e22e">of</span><span style="color:#f92672">(</span>year<span style="color:#f92672">,</span> month<span style="color:#f92672">,</span> day<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> percent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">+=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span> <span style="color:#f92672">*</span> percent <span style="color:#f92672">/</span> 100<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        salary <span style="color:#f92672">=</span> 2<span style="color:#f92672">.</span><span style="color:#a6e22e">3</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        hireDay <span style="color:#f92672">=</span> LocalDate<span style="color:#f92672">.</span><span style="color:#a6e22e">now</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">static</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;static block&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">test</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;HaHa&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        var e <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Romeo&#34;</span><span style="color:#f92672">,</span> 50000<span style="color:#f92672">,</span> 2003<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 31<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        e<span style="color:#f92672">.</span><span style="color:#a6e22e">raiseSalary</span><span style="color:#f92672">(</span>10<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">salary</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h1 id="泛型数组列表">泛型数组列表</h1>
<p>在<code>Java</code>中，允许在运行时确定数组的大小。下面代码一旦确定了数组的大小，就不能容易地改变它了。这种方式并没有完全解决运行时动态修改数组的问题。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> size <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>var staff <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Employee<span style="color:#f92672">[</span>size<span style="color:#f92672">];</span>
</span></span></code></pre></div><p>解决这个问题最简单的方式是使用<code>ArrayList</code>，它是一个有类型参数(<code>type  parameter</code>)的泛型类(<code>generic class</code>)。需要注意的是类型参数必须是引用类型，不能是基本类型：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>var staff <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;();</span>
</span></span><span style="display:flex;"><span>ArrayList<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;</span> employees <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
</span></span></code></pre></div><p>如果想要定义一个整型数组列表，因为<font color="#de7802">尖括号中的类型不允许是基本类型</font>。也就是不能使用<code>new ArrayList&lt;int&gt;()</code>这样的方式定义新的数组。</p>
<p>此时可以使用基本类型的包装器，这些包装器为：<code>Integer，Long，Float，Double，Short，Byte，Character</code>和<code>Boolean</code>。前6个类派生于公共的超类<code>Number</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>var list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;();</span>
</span></span></code></pre></div><p>由于每个值分别包装在一个对象中，所以<code>new ArrayList&lt;Integer&gt;</code>的效率远低于<code>int []</code>数组，因此要谨慎使用。有一个很有用的特性，可以容易地向<code>ArrayList&lt;Integer&gt;</code>添加<code>int</code>类型的元素：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>var arrList <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;();</span>
</span></span><span style="display:flex;"><span>arrList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>arrList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>arrList<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>1233<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>arrList<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">[</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 1233<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>上面代码会自动地将<code>list.add(1)</code>转换为<code>list.add(Integer(1))</code>，这种转换被称为自动包装(<code>autoBoxing</code>)。反过来，当将一个<code>Integer</code>对象赋值给一个<code>int</code>值时，会自动拆箱(<code>unboxed</code>)。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> n <span style="color:#f92672">=</span> list<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>i<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Integer a0 <span style="color:#f92672">=</span> 12<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a01 <span style="color:#f92672">=</span> a0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a0 <span style="color:#f92672">==</span> a01<span style="color:#f92672">);</span>  <span style="color:#75715e">// true
</span></span></span></code></pre></div><p>自动包装和自动拆箱甚至适用于算术表达式。例如，可以将自增运算符运用于一个包装器引用，编译器将自动地插入指令对对象进行拆箱，然后将结果值增加1，最后再将其装箱。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Integer n <span style="color:#f92672">=</span> 3<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>n<span style="color:#f92672">++;</span>
</span></span></code></pre></div><h1 id="枚举类">枚举类</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> Size <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    Small<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>    Medium<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>    Large<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span>    ExtraLarge<span style="color:#f92672">,</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>实际上，上面声明定义的枚举类型是一个类，<font color="#de7802">它恰好只有4个实例，不可能构造新的对象</font>（枚举的构造器总是私有的）。因此，在比较枚举类型的值时，不需要使用<code>equals</code>，可以直接使用<code>==</code>（因为<code>==</code>比较的是内存地址）。</p>
<p>如果需要的话，可以为枚举类型增加构造器、方法和属性。但需要特别注意，<font color=red>构造器仅在构造枚举常量时调用。因为枚举的构造器总是私有的，所以可以省略<code>private</code></font>。如果一个<code>enum</code>的构造器为<code>protectd</code>或<code>public</code>，则会出现编译错误。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">enum</span> Size <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    SMALL<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;S&#34;</span><span style="color:#f92672">),</span>MEDIUM<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;M&#34;</span><span style="color:#f92672">),</span>LARGE<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;L&#34;</span><span style="color:#f92672">),</span> EXTRA_LAGRE<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;XL&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 自定义属性
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> String abbreviation<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 若在构造器前面添加public或protected会报错
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// java: 此处不允许使用修饰符public/protected
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Size<span style="color:#f92672">(</span>String abbreviation<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">abbreviation</span> <span style="color:#f92672">=</span> abbreviation<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getAbbreviation</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">abbreviation</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>所有枚举类型都是抽象类<code>Enum</code>的子类，继承了这个类的许多方法，其中最有用的是实例方法<code>toString</code>，它的逆方法是静态方法<code>valueOf</code>。如果传入的字符串和枚举中的成员不匹配，会抛出<code>IllegalArgumentException</code>异常：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Size<span style="color:#f92672">.</span><span style="color:#a6e22e">Medium</span><span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span> <span style="color:#75715e">// Medium
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Size size1 <span style="color:#f92672">=</span> Enum<span style="color:#f92672">.</span><span style="color:#a6e22e">valueOf</span><span style="color:#f92672">(</span>Size<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;Small&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>size1<span style="color:#f92672">);</span> <span style="color:#75715e">// SMALL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Size1 size2 <span style="color:#f92672">=</span> Enum<span style="color:#f92672">.</span><span style="color:#a6e22e">valueOf</span><span style="color:#f92672">(</span>Size1<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;S&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>size2<span style="color:#f92672">);</span> <span style="color:#75715e">// 出现编译错误No enum constant Size1.S
</span></span></span></code></pre></div><p>每个枚举类型都有一个静态<code>values</code>方法，它返回一个包含全部枚举值的数组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>Size item<span style="color:#f92672">:</span> Size<span style="color:#f92672">.</span><span style="color:#a6e22e">values</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>item<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>SMALL
</span></span><span style="display:flex;"><span>MEDIUM
</span></span><span style="display:flex;"><span>LARGE
</span></span><span style="display:flex;"><span>EXTRA_LAGRE
</span></span></code></pre></div><p>方法<code>ordinal</code>返回<code>enum</code>声明中枚举常量的位置，位置从<code>0</code>开始计数，例如打印<code>Size.Medium.ordinal</code>的值为1:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Size<span style="color:#f92672">.</span><span style="color:#a6e22e">Medium</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ordinal</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>1
</span></span></code></pre></div><h1 id="抽象类">抽象类</h1>
<p>抽象类与模板的作用相似，可以根据它的格式来创建新的类。但不能直接用抽象类创建对象，<font color="#de7802">只能通过抽象类派生出新的子类，再由子类来创建对象</font>。也就是说，抽象类不能用<code>new</code>运算符来创建实例对象。抽象类的定义格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">类名</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>   声明成员变量<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>   返回值的数据类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">(</span>参数表<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">abstract</span> 返回值的数据类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">(</span>参数表<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>抽象类中的方法分为两种，一种是一般的方法，另一种是抽象方法。抽象方法是以<code>abstract</code>关键字开头的方法，只需声明返回值类型，方法名和所需的参数，<font color=red>无方法体</font>。即抽象方法只需声明，无具体实现，相当于子类中实现的占位。</p>
<p>当一个方法为抽象方法时，意味着这个方法必须被子类所覆写，否则子类仍然是<code>abstract</code>的。抽象方法声明时不能使用修饰符<code>static</code>，即修饰符<code>static</code>和<code>abstract</code>不能同时修饰某个方法。</p>
<p>需要注意的是，<font color="#de7802">抽象类中不一定包含抽象方法，但包含抽象方法的类一定要声明为抽象类</font>。<code>extend</code>一个抽象类时，可以有两种选择，一种是全部实现抽象方法，另一种是实现部分抽象方法（此时该类仍是抽象类）。</p>
<p>抽象类可以有构造方法，且构造方法可以被子类的构造方法调用，但其<font color=Blue>构造方法不能被声明为抽象的</font>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person1</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Person1<span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 抽象方法：子类实现，占位符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">abstract</span> String <span style="color:#a6e22e">getDescription</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 一般方法
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    String <span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>抽象类不能被实例化，如果声明了一个类为抽象类，就不能创建这个类的实例。但<font color="#de7802">可以定义一个抽象类的对象变量，该变量只能引用非抽象子类的对象</font>，因为不能创建抽象类的实例。</p>
<h1 id="反射">反射</h1>
<h2 id="class类">class类</h2>
<p>能够分析类能力的程序称为可反射的。在程序运行期间，Java运行时系统<font color="#de7802">始终为所有对象维护一个运行时类型标识，</font>这个信息会跟踪每个对象所属的类，虚拟机利用运行时类型信息选择要执行的正确的方法。</p>
<p>可以使用一个特殊的类来访问这些信息，保存这些信息的类名为<code>Class</code>。<code>Object</code>类中的<code>getClass()</code>方法会返回一个<code>Class</code>类型的实例。<code>Class</code>最常用的方法是<code>getName</code>，它返回类的名字，如果类在一个包中，包名也会作为返回的类名的一部分。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Size size <span style="color:#f92672">=</span> Size<span style="color:#f92672">.</span><span style="color:#a6e22e">MEDIUM</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>size<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>var generator <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Random<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>Class cls <span style="color:#f92672">=</span> generator<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 如果类在一个包里，包的名字也作为类名的一部分
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>cls<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Employee Romeo
</span></span><span style="display:flex;"><span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">util</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Random</span>
</span></span></code></pre></div><p>还可以使用静态方法<code>forName</code>获得类名对应的<code>Class</code>对象。如果<code>className</code>是一个类名或接口名，这个方法可以正常执行，否则<code>forName</code>方法将抛出一个异常，因此无论什么时候使用该方法都应该提供一个异常处理器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String className <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;java.util.Random&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    Class cls1 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span>className<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>cls1<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ClassNotFoundException ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>ex<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">util</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Random</span>
</span></span></code></pre></div><p>获得<code>Class</code>类对象的第三种方法是一个很快捷的方式，如果<code>T</code>是任意的<code>Java</code>类型（或<code>Void</code>关键字），<code>T.class</code>将代表匹配的类对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Class cl1 <span style="color:#f92672">=</span> Random<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>Class cl2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>Class cl3 <span style="color:#f92672">=</span> Double<span style="color:#f92672">[].</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">printf</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;%s\n%s\n%s\n&#34;</span><span style="color:#f92672">,</span> cl1<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">(),</span> cl2<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">(),</span> cl3<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>java<span style="color:#f92672">.</span><span style="color:#a6e22e">util</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Random</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Ljava<span style="color:#f92672">.</span><span style="color:#a6e22e">lang</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Double</span><span style="color:#f92672">;</span>
</span></span></code></pre></div><p>需要注意的是，一个<code>Class</code>对象<font color=red>实际上表示一个类型</font>，可能是类，也可能不是类。如上所示，虽然<code>int</code>不是类，但<code>int.Class</code>是一个<code>Class</code>类型的对象。<code>Class</code>类实际上是一个泛型，如<code>Employee.class</code>的类型是<code>Class&lt;Employee&gt;</code>。</p>
<p>虚拟机为每个类型管理一个唯一的<code>Class</code>对象。因此，可以利用<code>==</code>运算符实现两个类对象的比较：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> Employee<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">)</span>
</span></span></code></pre></div><p>如果e是一个<code>Employee</code>实例，比较表达式返回<code>true</code>。与条件<code>e instanceof Employee</code> 不同，如果e是某个子类的实例，<code>e.getClass() == Employee.class</code> 将返回<code>false</code>。</p>
<p>如果有一个<code>Class</code>类型的对象，可以用它构造类的对象。调用<code>getConstructor</code>方法将得到一个<code>Constructor</code>类型的对象，然后使用<code>newInstance</code>方法构造一个实例。但需要注意的是，如果该类没有无参构造器，则使用<code>getConstructor</code>会抛出一个异常：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>String className <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;java.util.Random&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    Class cls0 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span>className<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Object object1 <span style="color:#f92672">=</span> cls0<span style="color:#f92672">.</span><span style="color:#a6e22e">getConstructor</span><span style="color:#f92672">().</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>cls0<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ClassNotFoundException <span style="color:#f92672">|</span> NoSuchMethodException ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>ex<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InvocationTargetException ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span>ex<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InstantiationException ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span>ex<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IllegalAccessException ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span>ex<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h1 id="接口">接口</h1>
<p>接口用来描述类应该做什么，而不指定它们具体该怎么做，<font color=red>一个类可以实现一个或多个接口</font>。接口与抽象类非常相似，本身也具有数据成员与抽象方法，但与抽象类有很大不同：</p>
<ul>
<li>接口中<font color="#de7802">不能包含实例，但可以包含常量</font>，即接口的<font color=Blue>数据成员必须初始化</font>。</li>
<li>在<code>Java 8</code>之前，接口中的方法必须全部声明为<code>abstract</code>，即<font color="#de7802">不能拥有普通的方法</font>。但现在接口中还可以有其它方法（这些方法不能引用实例字段，因为接口不能创建实例）。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">类名称</span> <span style="color:#66d9ef">implements</span> 接口名表 <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>上面是接口实现的语法，接口的实现类似于继承，但使用<code>implements</code>关键字。若一个类要实现一个接口，应该要注意如下问题：</p>
<ul>
<li>如果实现某接口的类不是抽象类，则在类定义部分<font color=red>必须实现该接口的所有抽象方法</font>，即非抽象类中不能存在抽象方法。</li>
<li>一个类在实现某接口的抽象方法时，<font color=LightSeaGreen>必须使用完全相同的方法头</font>。否则，就是在定义一个新方法，而不是实现接口中已有的抽象方法。</li>
<li>接口可以<font color=red>作为一种引用类型来使用</font>，任何实现了该接口的类实例都可以存储在该接口类型的变量中，通过接口变量可以访问类中所实现接口中的方法。</li>
</ul>
<p>需要特别注意的是，接口中的<font color="#de7802">所有方法都自动为<code>public</code>的</font>，在声明接口时不必显式提供<code>public</code>关键字。但<font color=red>在实现接口时，必须把方法都声明为<code>public</code>的</font>，否则编译器认为这个方法的访问属性是包可访问的，将会出现编译错误。</p>
<p>类似的，接口中的字段默认为<code>public static final</code>，可以显式地将接口中的方法标记为<code>public</code>，将字段标记为<code>public static final</code>，但不建议这样做。</p>
<p>在<code>Java 9</code> 中，接口的方法可以是<code>private</code>的，关键字<code>private</code>既可以修饰静态方法也可以修饰实例方法。由于私有方法只能在接口本身的方法中使用，所以接口中<code>private</code>方法用途有限，只是作为接口中其它方法的辅助。</p>
<p>接口不是类，即不能使用<code>new</code>操作符来实例化一个接口。接口变量必须引用一个实现了该接口的类对象。可以使用<code>instanceof</code>操作符检查一个对象是否实现了某个特定的接口。</p>
<p>可以为任何接口方法提供默认实现，即使用关键字<code>default</code>来修饰方法，默认方法在保持接口的源代码兼容方面很有用（新增接口不会出现编译错误）。在默认方法中也可以调用其它方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">AA</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    String name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">size</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> size<span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 0<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>如果在一个接口中将某个方法定义成了默认方法，在接口的父类中定义了同样签名的方法，或者在另一个接口中定义了相同签名的方法，就会产生冲突。解决接口中默认方法冲突的原则：</p>
<ul>
<li>父接口优先，即忽略待实现接口中的默认方法。</li>
<li>如果一个类同时实现了两个接口，并且这两个接口有同名的默认方法，则<font color=red>由编码者覆盖默认方法来解决冲突</font>，解决二义性问题。</li>
</ul>
<p>类优先原则：如果一个类继承了一个父类，并实现了一个接口。这个父类和接口具有相同的方法，<font color="#de7802">则接口的所有默认方法都会被忽略</font>。这个规则被称为类优先规则，它可以确保与<code>Java  7</code>的兼容性，如果一个接口增加默认方法，这对于有默认方法之前能正常工作的代码不会有任何影响。</p>
<h2 id="接口的继承">接口的继承</h2>
<p>接口也可以被继承。定义一个接口时可通过<code>extends</code>关键字声明该新接口是某个已存在父接口的子接口，它将继承父接口的所有变量与方法。与类继承不同的是，<font color="#de7802">一个接口可以有一个以上的父接口，它们之间用逗号分隔，形成父接口列表</font>，新接口将继承所有父接口中的变量与抽象方法。</p>
<p>虽然<code>Java</code><font color=Blue>只支持类的单重继承机制，即一个类只能有一个直接父类</font>。但是，它可以同时实现若干个接口，实际上就可以获得多个父类，即实现了多重继承。</p>
<h2 id="lambda表达式">lambda表达式</h2>
<p><code>lambda</code>是一个可传递的代码块，可以在以后执行一次或多次。在Java中不能直接传递一个代码块，因为它是一种面向对象的语言，所以必须构造一个对象，这个对象有一个方法包含所需的代码。</p>
<p>在<code>Java</code>中有很多封装代码块的接口，例如<code>ActionListener</code>或<code>Comparator</code>，<code>lambda</code>表达式与这些接口是兼容的。对于<font color=red>只有一个抽象方法的接口，需要这种接口的对象时，就可以提供一个<code>lambda</code>表达式</font>，这种接口被称为函数式接口。</p>
<h1 id="内部类">内部类</h1>
<p>内部类是<font color=Blue>定义在类中的类</font>，主要作用是将逻辑上相关的类放到一起。而匿名类是一种<font color="#de7802">特殊的内部类，它没有类名，在定义类的同时，就生成了该类的一个实例</font>，由于不会在其它地方用到该类，所以不用取名字，因而又被称为匿名内部类。</p>
<h2 id="内部类定义">内部类定义</h2>
<p>定义内部类时只需要将类的定义置于一个用于封装它的类的内部即可，但内部类<font color=LightSeaGreen>不能与外部类同名</font>，如果内部类还有内部类，则<font color="#de7802">不能与任何一层内部类同名</font>，这与代码块中不能定义同名局部变量规则一致。</p>
<p>在封装内部类的类中使用内部类，与普通类的使用方式相同。但在外部使用内部类时，<font color="#de7802">需要在内部类前冠以其所属外部类的名字</font>才能使用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Group</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MoStu</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;MoStu show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Group show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        MoStu stu <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MoStu<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        stu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Group group <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Group<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>group<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 创建内部类需要使用外部类作为前缀
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Group<span style="color:#f92672">.</span><span style="color:#a6e22e">MoStu</span> stu <span style="color:#f92672">=</span> group<span style="color:#f92672">.</span><span style="color:#a6e22e">new</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;outside&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>stu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span></code></pre></div><p><code>Java</code>将<font color=red>内部类作为一个成员，就如同成员变量或成员方法</font>。内部类可以被声明为<code>private</code>或<code>protected</code>。在内部类中可以直接引用它的外部类的成员，包括静态成员、实例成员和私有成员：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Group</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MoStu</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 直接使用外部类的实例成员
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            age <span style="color:#f92672">=</span> 34<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;MoStu show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>     
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Group show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Group group <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Group<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>group<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// new前面是外部类的名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Group<span style="color:#f92672">.</span><span style="color:#a6e22e">MoStu</span> moStu <span style="color:#f92672">=</span> group<span style="color:#f92672">.</span><span style="color:#a6e22e">new</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;outside&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>moStu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>group<span style="color:#f92672">.</span><span style="color:#a6e22e">getAge</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Group show
</span></span><span style="display:flex;"><span>MoStu show
</span></span><span style="display:flex;"><span>34
</span></span></code></pre></div><p>不能直接创建内部类的对象实例，<font color=red>必须使用外部类对象实例来创建内部类对象实例</font>。对于上面示例，可以使用如下方式在外部创建内部类的实例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Group<span style="color:#f92672">.</span><span style="color:#a6e22e">MoStu</span> stu <span style="color:#f92672">=</span> group<span style="color:#f92672">.</span><span style="color:#a6e22e">new</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;outside&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>stu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span></code></pre></div><h2 id="匿名内部类">匿名内部类</h2>
<p>匿名内部类前<font color="#de7802">不能有修饰符，也不能定义构造方法，因为它没有名字</font>。也正是这个原因，在创建对象时不能带参数，因为默认构造函数不带参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Group</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 内部类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MoStu</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        String name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">MoStu</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;MoStu show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 抽象类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">eat</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">show</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Group show&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        MoStu stu <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MoStu<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        stu<span style="color:#f92672">.</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 匿名内部类
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Person p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Person<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">eat</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;eat something&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>        p<span style="color:#f92672">.</span><span style="color:#a6e22e">eat</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Thread t <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;=</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>i <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>eat something
</span></span><span style="display:flex;"><span>1 2 3 4 5
</span></span></code></pre></div><h1 id="包">包</h1>
<p><code>Java</code>使用包来确保类名的唯一性。为了保证包名的唯一性，要用一个因特网域名以逆序的方式作为包名，对于不同工程使用不同的子包。例如域名<code>mac.com</code>，逆序就是<code>com.mac</code>，然后追加一个工程名，如<code>com.mac.study</code>，如果再把<code>Employee</code>类放在包里，那么这个类的全名就是<code>com.mac.study.Employee</code>。一个类可以使用所属包中的所有类，以及其它包中的公共类。</p>
<h2 id="静态导入">静态导入</h2>
<p>有一种<code>import</code>语句允许导入静态方法和静态字段，而不只是类。如果在源文件顶部，添加如下指令，就可以使用<code>System</code>类的静态方法和静态字段：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">import static</span> java.lang.System.*<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello World!&#34;</span><span style="color:#f92672">);</span>
</span></span></code></pre></div><h2 id="创建包">创建包</h2>
<p>如果没在源文件中放置<code>package</code>语句，这个源文件中的类就属于无名包(<code>unnamed package</code>)。若要创建自己的包，就必须以<code>package</code>语句作为<font color=red>源文件的第一条语句</font>，指明该文件中定义类所在的包，格式为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> 包名1<span style="color:#f92672">[.</span><span style="color:#a6e22e">包名2</span><span style="color:#f92672">][.</span><span style="color:#a6e22e">包名3</span><span style="color:#f92672">][...]</span>
</span></span></code></pre></div><p>经过<code>package</code>声明后，同一文件内的所有类或接口都被纳入相同的包中。编译器将包对应于文件系统的文件夹进行管理，例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> test.myPackage
</span></span></code></pre></div><p>上面例子指定包中的文件存储在文件夹<code>test\myPackage</code>中。实际上创建包就是在当前文件夹中创建一个子文件夹，语句中的<code>.</code>代表文件分隔符，即上面的语句创建了两个文件夹。第一个文件夹是<code>test</code>，第二个是<code>myPackage</code>，当前包中所有的类就存放在这个文件夹中。<font color=red>同一包中类名不能重复，不同包中的类名可以相同</font>。</p>
<p>包名标识符全部都是小写，由字母、数字和下划线组成，但不能以数字开头。</p>
<h1 id="异常">异常</h1>
<p>异常本质上是程序运行期间发生的事件，这个事件将中断程序的正常执行，当在<code>Java</code>方法内部发生异常时，这个方法就会<font color=red>创建一个异常对象，并把它传递给运行时环境</font>。</p>
<p><code>Java</code>中所说的异常都是<code>Exception</code>类及其子类，异常处理通过<code>try,catch,finally,throw,throws</code>五个关键字来实现的。</p>
<h2 id="异常捕获">异常捕获</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">handleException</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> arr <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">,</span> 4<span style="color:#f92672">};</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>arr<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">/</span> i<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ArrayIndexOutOfBoundsException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ArithmeticException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getLocalizedMessage</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;finally&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> a12 <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;12.34&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a12<span style="color:#f92672">);</span>　
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>NumberFormatException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><ul>
<li>
<p>异常捕获过程中做了两个判断，第一个是<code>try</code>程序块中是否有异常产生；第二个是产生的异常是否和<code>catch</code>后面括号内预捕获的异常类型匹配。</p>
</li>
<li>
<p><code>catch</code>块中语句应该根据异常类型的不同而执行不同的操作，比较通用的做法是输出异常相关的信息，包括异常的名称，产生异常的方法名等。</p>
</li>
<li>
<p>由于异常对象于<code>catch</code>块的匹配是按照<code>catch</code>块的<font color=red>先后排列顺序进行</font>的，所以在处理异常时，应该认真设计各<code>catch</code>块的排列顺序。</p>
</li>
<li>
<p>当在<code>try</code>块中语句抛出一个异常时，其后的代码都不会被执行，所以此时可以通过<code>finally</code>语句块来提供统一的出口。</p>
</li>
<li>
<p><code>finally</code>块是可以省略的，若省略，则在<code>catch</code>块结束后，程序跳转到<code>try-catch</code>块之后的语句继续运行。</p>
</li>
<li>
<p>当<code>catch</code>块中包含<code>System.exit(0)</code>语句时，则不执行<code>finally</code>语句块，程序直接终止。而<font color=red>当<code>catch</code>块中包含<code>return</code>语句时，则执行完执行<code>finally</code>语句块，再会终止程序</font>。</p>
</li>
</ul>
<h2 id="抛出异常">抛出异常</h2>
<p>所有系统定义的运行时异常都可以由系统自动抛出。而指定方法抛出异常要使用<code>throw</code>或者<code>throws</code>来明确指定方法内抛出异常。一个方法声明抛出异常有两种方式，第一种是在方法内抛出异常对象，异常类对象是一个从<code>Throwable</code>派生的异常类对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">throw</span> 异常类对象
</span></span></code></pre></div><p>第二种方式，在方法声明中添加<code>throws</code>子句，表示方法将抛出异常。带有<code>throws</code>子句的方法声明格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">[</span>修饰符<span style="color:#f92672">]</span> 返回值类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">([</span>参数列表<span style="color:#f92672">])</span> <span style="color:#66d9ef">throws</span> 异常类列表
</span></span></code></pre></div><p>通过上面两种方式抛出的异常，在方法中<font color=Blue>可以不使用</font><code>try-catch-finally</code>来处理异常，而交由调用此方法的上层方法处理。</p>
<p>如果一个方法抛出异常后，该方法内又没有处理异常的语句，则系统会将异常向上传递，由调用它的方法来处理这些异常，若上层调用方法中仍没有处理异常的语句，则可以再往上传递，直到传递到<code>main</code>方法，由<code>JVM</code>处理。</p>
<h1 id="多线程">多线程</h1>
<p>多线程是指在同一个进程中同时存在几个执行体，按几条不同的执行路径同时工作的情况。所以多线程编程的含义就是<font color=red>将一个程序分为几个可以同时并发执行的子任务</font>。</p>
<p><code>Java</code>中实现多线程的方法有两种，一种继承自<code>java.lang</code>包中的<code>Thread</code>类。另一种是用户在自定义类中实现<code>Runnable</code>接口。要在一个<code>Thread</code>子类中激活线程，必须要准备好下列两种事情：</p>
<ul>
<li>
<p>此类必须是继承自<code>Thread</code>类。</p>
</li>
<li>
<p>线程所要执行的代码必须写在<code>run</code>方法内。但一般不直接调用<code>run</code>方法，而是通过线程的<code>start</code>方法来启动线程。</p>
</li>
</ul>
<h2 id="thread">Thread</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThreadTest</span> <span style="color:#66d9ef">extends</span> Thread <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String who<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ThreadTest</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">who</span> <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                sleep<span style="color:#f92672">((</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>1000 <span style="color:#f92672">*</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">random</span><span style="color:#f92672">()));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>who <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;正在运行!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ThreadTest thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTest<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;thread1&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>ThreadTest thread2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTest<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;thread2&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;main 方法执行结束&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 某次执行结果，因为使用了随机数，每次执行结果不同
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>main 方法执行结束
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span></code></pre></div><h2 id="runnable">Runnable</h2>
<p>上面使用继承<code>Thread</code>的方式来创建线程，具有局限性。因为，如果类本身已经继承了某个父类，因为类不允许多继承，所以此时需要类实现<code>Runnable</code>接口。<code>Runnable</code>接口定义在<code>java.lang</code>包中，其中只提供了一个抽象方法<code>run()</code>的声明，从本质上说，<font color=Blue>任何实现线程的类必须实现该接口</font>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThreadTestMo</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String who<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">ThreadTestMo</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        who <span style="color:#f92672">=</span> str<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> 5<span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">((</span><span style="color:#66d9ef">int</span><span style="color:#f92672">)</span> <span style="color:#f92672">(</span>1000 <span style="color:#f92672">*</span> Math<span style="color:#f92672">.</span><span style="color:#a6e22e">random</span><span style="color:#f92672">()));</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>who <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;正在运行!&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ThreadTestMo mo1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;thread1&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>ThreadTestMo mo2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;thread2&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Thread thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>mo1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>Thread thread2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>mo2<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;main 方法执行结束&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 某次执行结果，因为使用了随机数，每次执行结果不同
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>main 方法执行结束
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>thread2正在运行<span style="color:#f92672">!</span>
</span></span></code></pre></div><p>如果需要线程有序执行，就需要使用<code>join</code>方法。当某一线程调用<code>join</code>方法后，则<font color=red>其它线程会等到该线程结束后才开始执行</font>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">threadJoin</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    ThreadTestMo test0 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test0&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    ThreadTestMo test1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadTestMo<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;test1&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>test0<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread thread2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>test1<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        thread1<span style="color:#f92672">.</span><span style="color:#a6e22e">join</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        thread2<span style="color:#f92672">.</span><span style="color:#a6e22e">join</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;测试方法运行完毕&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 执行后的结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>test0正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test0正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test0正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test0正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test0正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>test1正在运行<span style="color:#f92672">!</span>
</span></span><span style="display:flex;"><span>测试方法运行完毕
</span></span></code></pre></div><h2 id="数据共享">数据共享</h2>
<p>若直接使用<code>Thread</code>类，在类中<code>this</code>即指当前线程。若是实现<code>Runnable</code>接口的类，要在此类中获取当前线程，必须使用<code>Thread.currentThread()</code>方法。</p>
<p>使用<code>Runnable</code>接口可以轻松实现多个线程共享相同的数据，只要用同一个实现了<code>Runnable</code>接口类的实例作为参数创建多个线程：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThreadSale</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> tickets <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>tickets <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;售机票第&#34;</span> <span style="color:#f92672">+</span> tickets<span style="color:#f92672">--</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;号&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                System<span style="color:#f92672">.</span><span style="color:#a6e22e">exit</span><span style="color:#f92672">(</span>0<span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">threadShare</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    ThreadSale sale <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ThreadSale<span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    Thread t1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>sale<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;第一号窗口&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread t2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>sale<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;第二号窗口&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    Thread t3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>sale<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;第三号窗口&#34;</span><span style="color:#f92672">);</span>
</span></span><span style="display:flex;"><span>    t1<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    t2<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span>    t3<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 某次执行结果
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>第二号窗口售机票第9号
</span></span><span style="display:flex;"><span>第三号窗口售机票第8号
</span></span><span style="display:flex;"><span>第一号窗口售机票第10号
</span></span><span style="display:flex;"><span>第三号窗口售机票第6号
</span></span><span style="display:flex;"><span>第二号窗口售机票第7号
</span></span><span style="display:flex;"><span>第三号窗口售机票第4号
</span></span><span style="display:flex;"><span>第一号窗口售机票第5号
</span></span><span style="display:flex;"><span>第二号窗口售机票第3号
</span></span><span style="display:flex;"><span>第三号窗口售机票第2号
</span></span><span style="display:flex;"><span>第一号窗口售机票第1号
</span></span></code></pre></div><h2 id="多线程同步">多线程同步</h2>
<p>为了保证互斥，<code>Java</code>使用<code>synchronized</code>关键字来标识同步的资源，这里的资源可以是对象，也可以是一个方法，还可以是一段代码。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#66d9ef">synchronized</span> <span style="color:#f92672">(</span>对象<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>   临界代码段
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">synchronized</span> 返回类型 <span style="color:#a6e22e">方法名</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>   方法体
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p><code>synchronized</code>的功能：首先判断对象或方法的互斥锁是否存在，若在就获得互斥锁，然后就可以执行紧随其后的临界代码段或方法体；如果对象或方法的互斥锁不在，就进入等待状态，直到获得互斥锁。当被<code>synchronized</code>限定的代码段执行完，就会自动释放互斥锁。</p>
<h2 id="线程通信">线程通信</h2>
<p><code>java.lang.Object</code>类的<code>wait(),notify()</code>等方法为线程间的通信提供了有效手段，但<code>wait(),notify()</code><font color=red>只能在同步代码块里调用</font>。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th style="text-align:center">功能说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>public void wait()</td>
<td style="text-align:center">如果一个正在执行的同步代码(synchronized)的线程A执行了wait()调用「在对象x上」，该线程暂停执行而进入对象x的等待队列，并释放已获得的对象x的互斥锁。线程A要一直等到其他线程在对象x上调用notify或notifyAll，才能够再重新获得对象x的互斥锁后继续执行。</td>
</tr>
<tr>
<td>public void notify()</td>
<td style="text-align:center">唤醒正在等待该对象互斥锁的第一个线程</td>
</tr>
<tr>
<td>public void notifyAll()</td>
<td style="text-align:center">唤醒正在等待该对象互斥锁的所有线程，优先级高的先被唤醒</td>
</tr>
</tbody>
</table>

    </div>
    <footer class="post-footer">
        
 
<div class="post-tags">     
     
    <a href="https://iihui.github.io/tags/java" rel="tag" title="java">#java#</a>
    
</div>



        <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="https://iihui.github.io/post/cookie/" rel="next" title="Cookie简介">
        <i class="fa fa-chevron-left"></i> Cookie简介
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="https://iihui.github.io/post/tool-squirrel/" rel="prev" title="鼠须管配置">
        鼠须管配置 <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
        <div class="post-nav">
    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
        <div style="float:left;margin-top:0px;">
            <img src="https://i.loli.net/2020/02/09/SvhUdz4XJsOr9Vk.jpg" width="128px" height="128px"/>
            <div style="text-align:center;">谢谢支持!</div>
        </div>
        <div>
            <p style="margin-top:10px;">
                标题：Java 基础
                <br />作者：阿呆<a target="_blank" href="https://iihui.github.io/"></a>
                
                <br />地址：https://iihui.github.io/post/java-base/
                <br />声明：自由转载-非商用-保持署名（创作共享4.0许可证）
            </p>
        </div>
    </div>
    <div class="clear"></div>
</div>
        
        
        




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

  <ul class="sidebar-nav motion-element">
    <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
      文章目录
    </li>
    <li class="sidebar-nav-overview" data-target="site-overview">
      站点概览
    </li>
  </ul>

    <section class="site-overview sidebar-panel ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="https://i.loli.net/2020/02/07/dVFzrvZkHRNq2lL.jpg"
        alt="" />
    <p class="site-author-name" itemprop="name"></p>
    <p class="site-description motion-element" itemprop="description"> 
        coder &amp; cook</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="https://iihui.github.io/post/">
        <span class="site-state-item-count">141</span>
        <span class="site-state-item-name">日志</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="https://iihui.github.io/categories/">      
         
        <span class="site-state-item-count">18</span>
        
        <span class="site-state-item-name">分类</span>
        
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="https://iihui.github.io/tags/">
         
        <span class="site-state-item-count">29</span>
        
        <span class="site-state-item-name">标签</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://coolshell.cn" target="_blank" title="皓 大">
            <i class="fa fa-fw fa-globe"></i>
            皓 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ruanyifeng.com" target="_blank" title="阮 大">
            <i class="fa fa-fw fa-globe"></i>
            阮 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://juejin.im/" target="_blank" title="掘 金">
            <i class="fa fa-fw fa-globe"></i>
            掘 金
        </a>
        </span>
    
</div>


      

      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
    <div class="post-toc">
        <div class="post-toc-content"><nav id="TableOfContents">
  <ul>
    <li><a href="#数据类型">数据类型</a>
      <ul>
        <li><a href="#基本数据类型">基本数据类型</a></li>
        <li><a href="#变量声明">变量声明</a></li>
        <li><a href="#数据类型转换">数据类型转换</a>
          <ul>
            <li><a href="#自动类型转换">自动类型转换</a></li>
            <li><a href="#强制类型转换">强制类型转换</a></li>
          </ul>
        </li>
        <li><a href="#字符串数值转换">字符串数值转换</a></li>
      </ul>
    </li>
    <li><a href="#流程控制">流程控制</a>
      <ul>
        <li><a href="#语句">语句</a></li>
        <li><a href="#文档注释">文档注释</a></li>
        <li><a href="#条件语句">条件语句</a>
          <ul>
            <li><a href="#if语句">if语句</a></li>
            <li><a href="#switch语句">switch语句</a></li>
            <li><a href="#循环结构">循环结构</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#数组">数组</a>
      <ul>
        <li><a href="#栈与堆内存">栈与堆内存</a></li>
        <li><a href="#一维数组">一维数组</a></li>
        <li><a href="#二维数组">二维数组</a></li>
        <li><a href="#数组拷贝">数组拷贝</a></li>
        <li><a href="#数组排序">数组排序</a></li>
      </ul>
    </li>
    <li><a href="#字符串">字符串</a>
      <ul>
        <li><a href="#equals和">equals和==</a>
          <ul>
            <li><a href="#equals方法与运算符的区别">equals方法与==运算符的区别</a></li>
            <li><a href="#自定义类中的equals方法">自定义类中的equals方法</a></li>
          </ul>
        </li>
        <li><a href="#字符串池">字符串池</a></li>
        <li><a href="#字符串判等">字符串判等</a></li>
        <li><a href="#stringbuffer">StringBuffer</a></li>
        <li><a href="#stringbuilder">StringBuilder</a></li>
        <li><a href="#stringtokenizer">StringTokenizer</a></li>
        <li><a href="#stringjoiner">StringJoiner</a></li>
      </ul>
    </li>
    <li><a href="#类与对象">类与对象</a>
      <ul>
        <li><a href="#修饰符">修饰符</a>
          <ul>
            <li><a href="#类修饰符">类修饰符</a></li>
            <li><a href="#成员变量修饰符">成员变量修饰符</a></li>
            <li><a href="#成员方法修饰符">成员方法修饰符</a></li>
            <li><a href="#成员变量和局部变量">成员变量和局部变量</a></li>
          </ul>
        </li>
        <li><a href="#对象的使用">对象的使用</a></li>
        <li><a href="#参数传值">参数传值</a></li>
        <li><a href="#隐式与显式参数">隐式与显式参数</a></li>
        <li><a href="#方法重载">方法重载</a></li>
        <li><a href="#构造方法">构造方法</a>
          <ul>
            <li><a href="#默认构造方法">默认构造方法</a></li>
            <li><a href="#构造函数调用">构造函数调用</a></li>
          </ul>
        </li>
        <li><a href="#对象初始化器">对象初始化器</a>
          <ul>
            <li><a href="#静态初始化器">静态初始化器</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#继承">继承</a>
      <ul>
        <li><a href="#构造方法执行">构造方法执行</a></li>
        <li><a href="#this和super">this和super</a></li>
        <li><a href="#方法覆盖">方法覆盖</a></li>
        <li><a href="#阻止继承">阻止继承</a></li>
      </ul>
    </li>
    <li><a href="#object类">Object类</a>
      <ul>
        <li><a href="#hashcode">hashCode</a></li>
        <li><a href="#tostring方法">toString方法</a></li>
        <li><a href="#main方法">main方法</a></li>
      </ul>
    </li>
    <li><a href="#泛型数组列表">泛型数组列表</a></li>
    <li><a href="#枚举类">枚举类</a></li>
    <li><a href="#抽象类">抽象类</a></li>
    <li><a href="#反射">反射</a>
      <ul>
        <li><a href="#class类">class类</a></li>
      </ul>
    </li>
    <li><a href="#接口">接口</a>
      <ul>
        <li><a href="#接口的继承">接口的继承</a></li>
        <li><a href="#lambda表达式">lambda表达式</a></li>
      </ul>
    </li>
    <li><a href="#内部类">内部类</a>
      <ul>
        <li><a href="#内部类定义">内部类定义</a></li>
        <li><a href="#匿名内部类">匿名内部类</a></li>
      </ul>
    </li>
    <li><a href="#包">包</a>
      <ul>
        <li><a href="#静态导入">静态导入</a></li>
        <li><a href="#创建包">创建包</a></li>
      </ul>
    </li>
    <li><a href="#异常">异常</a>
      <ul>
        <li><a href="#异常捕获">异常捕获</a></li>
        <li><a href="#抛出异常">抛出异常</a></li>
      </ul>
    </li>
    <li><a href="#多线程">多线程</a>
      <ul>
        <li><a href="#thread">Thread</a></li>
        <li><a href="#runnable">Runnable</a></li>
        <li><a href="#数据共享">数据共享</a></li>
        <li><a href="#多线程同步">多线程同步</a></li>
        <li><a href="#线程通信">线程通信</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>

  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
  2017 - 2025</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">Keep It Simple</span>
</div>




      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span id="scrollpercent"><span>0</span>%</span>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="https://iihui.github.io/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="https://iihui.github.io/js/utils.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/motion.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/affix.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/schemes/pisces.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/scrollspy.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/post-details.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/toc.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/bootstrap.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
</body>
</html>