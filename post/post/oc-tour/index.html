<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title>OC 入门 - Keep It Simple</title>
    <meta name="keywords" content="博客,思考,读书,笔记,技术,分享">
    
    <meta property="og:title" content="OC 入门">
    <meta property="og:site_name" content="Keep It Simple">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content="OC 入门 - Keep It Simple" />
    <meta name="description" content="Swift | Go | C&#43;&#43; "> 
    <link rel="shortcut icon" href="https://iihui.github.io/img/favicon.ico" />
    <link rel="apple-touch-icon" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link href="https://iihui.github.io/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/main.css" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/custom.css" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/syntax.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>

    <link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/objectivec.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/clojure.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/cpp.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>


</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="https://iihui.github.io/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Keep It Simple</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">靡不有初，鲜克有终</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/tags/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-tag"></i> <br />标签
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E7%BE%8E%E9%A3%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />美食
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E5%90%8E%E6%9C%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-edit"></i> <br />后期
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E6%97%85%E8%A1%8C/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-leaf"></i> <br />旅行
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于
          </a>
        </li>
      
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger"> <i class="menu-item-icon fa fa-search fa-fw"></i> <br /> 搜索</a>
      </li>
    </ul>
    <div class="site-search">
      <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
</nav>
<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		<!-- src = "http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> <\!--  -\-> -->
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
</head>
<body>

</body>
</html>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="https://iihui.github.io/post/post/oc-tour/" itemprop="url">
        OC 入门
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">创建: </span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="2018-09-19">
    2018-09-19
</time>
</span>
&nbsp; | &nbsp;
<span class="post-updated-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-check-o"></i>
</span>
<span class="post-meta-item-text">更新: </span>
<time itemprop="dateUpdated" content="2020-02-11">
    2020-02-11
</time>
</span> 
      

  <span class="post-category" >
  &nbsp; | &nbsp;
  <span class="post-meta-item-icon">
    <i class="fa fa-folder-o"></i>
  </span>
  <span class="post-meta-item-text">分类: </span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="https://iihui.github.io/categories/code" itemprop="url" rel="index">
        <span itemprop="name">code</span>
      </a>
      &nbsp; 
    </span>
  
</span>


      <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-file-word-o"></i>
</span>
<span class="post-meta-item-text">字数: </span>
<span class="leancloud-visitors-count">6542</span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-coffee"></i>
</span>
<span class="post-meta-item-text">阅读: </span>
<span class="leancloud-visitors-count">14 分钟</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    <blockquote>
<p><code>Objective-C</code>简称<code>OC</code>， 是<code>C</code>语言的严格超集——任何<code>C</code>语言程序<!-- raw HTML omitted -->不经过修改都可以直接通过<code>OC</code>的编译器<!-- raw HTML omitted -->，在<code>OC</code>中使用<code>C</code>语言代码也是完全合法的。<code>OC</code>被描述为<!-- raw HTML omitted -->覆盖在<code>C</code>语言上的一层<!-- raw HTML omitted -->，因为<code>OC</code>的原意就是在<code>C</code>语言的主体上加入面向对象的特性。</p>
</blockquote>
<h2 id="文件扩展名">文件扩展名</h2>
<table>
<thead>
<tr>
<th>文件扩展名</th>
<th>类型和作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>.h</td>
<td>头文件，包含类，类型，函数和常数声明</td>
</tr>
<tr>
<td>.m</td>
<td>源代码文件，典型的源代码文件扩展名，可以包含OC和C代码</td>
</tr>
<tr>
<td>.mm</td>
<td>源代码文件，带这种扩展名的源代码文件，除了可以包含OC和C代码以外，还可以包含C++代码</td>
</tr>
</tbody>
</table>
<p>源代码中需要包含头文件的时候，可以使用标准的<code>#include</code>编译选项，也可以使用<code>#import</code>选项，但是<code>OC</code>中使用<code>#import</code>可以<!-- raw HTML omitted -->确保相同的文件只包含一次<!-- raw HTML omitted -->，因此一般使用<code>#import</code>来引入头文件。</p>
<hr>
<h2 id="语法">语法</h2>
<p><code>Objective-C</code>最大的特色使用<code>Smalltalk</code>的<!-- raw HTML omitted -->消息传递模型<!-- raw HTML omitted -->。在<code>OC</code>中与其说是对象调用方法，<!-- raw HTML omitted -->不如说向对象传递消息更为精确。<!-- raw HTML omitted --></p>
<h3 id="调用方法">调用方法</h3>
<p>在<code>OC</code>中，<!-- raw HTML omitted -->调用方法视为向对象发送消息，所有方法(类方法和实例方法)都被视为对消息的回应<!-- raw HTML omitted -->。</p>
<p><!-- raw HTML omitted -->所有消息的处理直到运行时（<code>runtime</code>）才会动态决定<!-- raw HTML omitted -->，并交<!-- raw HTML omitted -->由类自行决定如何处理收到的消息<!-- raw HTML omitted -->。也就是说，<!-- raw HTML omitted -->一个类不保证一定会回应收到的消息<!-- raw HTML omitted -->，如果类收到了一个无法处理的消息，程序<!-- raw HTML omitted -->只会抛出异常，不会出错或崩溃<!-- raw HTML omitted -->。</p>
<p>在<code>OC</code>中发送消息的语法为：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">[obj method: argument];  <span style="color:#75715e">//C++对应的是obj.method(argument);
</span></code></pre></div><p>一个例子:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">[car fly]
</code></pre></div><p>上面的例子典型的<code>C++</code>意义解读是:调用<code>car</code>类的<code>fly</code>方法。若<code>car</code>类里头没有定义<code>fly</code>方法，那编译肯定不会通过。但是<code>OC</code>里，应当解读为:发送一个<code>fly</code>的消息给<code>car</code>对象，<code>fly</code>是消息，而<code>car</code>是消息的接收者。<code>car</code>收到消息后会决定如何回应这个消息，若<code>car</code>类别内定义有<code>fly</code>方法就运行方法内之代码，若<code>car</code>内不存在<code>fly</code>方法，则程序依旧可以通过编译，运行期则抛出异常。</p>
<p>因此<code>OC</code>天生具备<!-- raw HTML omitted -->鸭子类型的动态类型绑定能力<!-- raw HTML omitted -->，运行期间才处理消息，允许发送未知消息给对象，<!-- raw HTML omitted -->可以发送消息给整个对象集合而不需要检查每个对象的类型<!-- raw HTML omitted -->，也具备消息转发机制。同时<!-- raw HTML omitted -->空对象<code>nil</code>接受消息后默认不做任何回应<!-- raw HTML omitted -->，所以发送消息给<code>nil</code>也不用担心崩溃。</p>
<hr>
<h3 id="字符串">字符串</h3>
<p>作为<code>C</code>语言的超集，<code>OC</code>支持<code>C</code>语言字符串方面的约定：单个字符被单引号包括，字符串被双引号包括。但是，大多数<code>OC</code>通常不使用<code>C</code>语言风格的字符串，大多数框架把字符串传递给<code>NSString</code>对象<code>NSString</code>类提供了字符串的类包装，包含了所有你期望的优点——包括对保存任意长度字符串的内建内存管理机制，支持<code>Unicode</code>，<code>printf</code>风格的格式化工具等。</p>
<p>因为这种字符串使用的非常频繁，<!-- raw HTML omitted --><code>OC</code>提供了一个助记符可以方便地从常量值创建<code>NSString</code>对象<!-- raw HTML omitted -->，即在普通的双引号字符串前放置一个<code>@</code>符号:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">NSString<span style="color:#f92672">*</span> myString <span style="color:#f92672">=</span> <span style="color:#e6db74">@&#34;My String</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
NSString<span style="color:#f92672">*</span> anotherString <span style="color:#f92672">=</span> [NSString stringWithFormat:<span style="color:#e6db74">@&#34;%d %s&#34;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">@&#34;String&#34;</span>];

<span style="color:#75715e">// 从一个C语言字符串创建Objective-C字符串
</span><span style="color:#75715e"></span>NSString<span style="color:#f92672">*</span>  fromCString <span style="color:#f92672">=</span> [NSString stringWithCString:<span style="color:#e6db74">&#34;A C string&#34;</span> 
encoding:NSASCIIStringEncoding];
</code></pre></div><hr>
<h3 id="类">类</h3>
<p><code>OC</code>类的说明包含两个部分：定义(<code>interface</code>)和实现(<code>implementation</code>)。类定义包含了类声明、<!-- raw HTML omitted -->实例变量<!-- raw HTML omitted -->的定义以及相关的方法（包括类方法和实例方法）；<!-- raw HTML omitted -->实现<!-- raw HTML omitted -->则包含了类方法的实际代码。</p>
<p><img src="https://i.loli.net/2019/07/10/5d25f4e6681b883828.jpg" alt="-c"></p>
<p>类的声明<!-- raw HTML omitted -->总是以<code>@interface</code>编译选项开始，由<code>@end</code>编译选项结束。<!-- raw HTML omitted -->类名之后的（用冒号分隔）是父类的名字。类的变量声明在被大括号包含的代码块中。变量块后是类声明的方法的列表，每个变量和方法声明都以分号结尾。</p>
<hr>
<h4 id="interface">Interface</h4>
<p>定义部分，以关键字<code>@interface</code>作为开始，<code>@end</code>作为结束，其中定义的<!-- raw HTML omitted -->实例变量的默认权限是<code>protected</code><!-- raw HTML omitted -->：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@interface</span> <span style="color:#a6e22e">MyObject</span> : <span style="color:#a6e22e">NSObject</span> {
    <span style="color:#66d9ef">int</span> memberVar1; <span style="color:#75715e">// 实例变量，在定义部分声明的实例变量的默认访问权限是protected
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">id</span>  memberVar2; <span style="color:#75715e">//id 类型表示任意类型
</span><span style="color:#75715e"></span>}

+(return_type) <span style="color:#a6e22e">class_method</span>; <span style="color:#75715e">// 类方法
</span><span style="color:#75715e"></span>
-(return_type) <span style="color:#a6e22e">instance_method1</span>; <span style="color:#75715e">// 实例方法
</span><span style="color:#75715e"></span>-(return_type) <span style="color:#a6e22e">instance_method2:</span> (<span style="color:#66d9ef">int</span>) p1;
-(return_type) <span style="color:#a6e22e">instance_method3:</span> (<span style="color:#66d9ef">int</span>) p1 <span style="color:#a6e22e">andPar:</span> (<span style="color:#66d9ef">int</span>) p2;
<span style="color:#66d9ef">@end</span>
</code></pre></div><p>方法前面的<code>+</code>或者<code>-</code>号代表函数的类型：<!-- raw HTML omitted -->加号<code>+</code>代表类方法（<code>class method</code>）<!-- raw HTML omitted -->，不需要实例就可以调用，与<code>C++</code>的静态函数（<code>static member function</code>）相似；<!-- raw HTML omitted -->减号<code>-</code>表示一般的实例方法（<code>instance method</code>）。<!-- raw HTML omitted --></p>
<p>下面是与<code>OC</code>对应的<code>C++</code>的声明：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyObject</span> <span style="color:#f92672">:</span> <span style="color:#66d9ef">public</span> NSObject {
<span style="color:#66d9ef">protected</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">int</span> memberVar1;  <span style="color:#75715e">// 实体变量
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#f92672">*</span> memberVar2;

  <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">static</span> return_type class_method(); <span style="color:#75715e">// 类方法
</span><span style="color:#75715e"></span>
    return_type <span style="color:#a6e22e">instance_method1</span>();    <span style="color:#75715e">// 实例方法
</span><span style="color:#75715e"></span>    return_type <span style="color:#a6e22e">instance_method2</span>( <span style="color:#66d9ef">int</span> p1 );
    return_type <span style="color:#a6e22e">instance_method3</span>( <span style="color:#66d9ef">int</span> p1, <span style="color:#66d9ef">int</span> p2 );
}
</code></pre></div><p><code>OC</code>定义一个新方法时，<!-- raw HTML omitted -->名称内的冒号代表传递参数<!-- raw HTML omitted -->：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">- (<span style="color:#66d9ef">void</span>) <span style="color:#a6e22e">setColorToRed:</span> (<span style="color:#66d9ef">float</span>)red <span style="color:#a6e22e">Green:</span> (<span style="color:#66d9ef">float</span>)green <span style="color:#a6e22e">Blue:</span>(<span style="color:#66d9ef">float</span>)blue; <span style="color:#75715e">/* 声明方法*/</span>

[myColor setColorToRed: <span style="color:#ae81ff">1.0</span> Green: <span style="color:#ae81ff">0.8</span> Blue: <span style="color:#ae81ff">0.2</span>]; <span style="color:#75715e">/* 调用方法*/</span>
</code></pre></div><p>上面这个方法的<!-- raw HTML omitted -->签名是<code>setColorToRed:Green:Blue</code><!-- raw HTML omitted -->。每个冒号后面都带着一个<code>float</code>类别的参数，分别代表红绿蓝三色。</p>
<hr>
<h4 id="implementation">Implementation</h4>
<p>实现块包含了公开的方法的实现，以及<!-- raw HTML omitted -->定义私有变量<!-- raw HTML omitted -->以及方法，以关键字<code>@implementation</code>作为区块的开始，<code>@end</code>结尾。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@implementation</span> <span style="color:#a6e22e">MyObject</span> {
  <span style="color:#66d9ef">int</span> memberVar3; <span style="color:#75715e">//私有实例变量
</span><span style="color:#75715e"></span>}

+(return_type) <span style="color:#a6e22e">class_method</span> {
    .... <span style="color:#75715e">//方法的实现部分
</span><span style="color:#75715e"></span>}
-(return_type) <span style="color:#a6e22e">instance_method1</span> {
     ....
}
-(return_type) <span style="color:#a6e22e">instance_method2:</span> (<span style="color:#66d9ef">int</span>) p1 {
    ....
}
-(return_type) <span style="color:#a6e22e">instance_method3:</span> (<span style="color:#66d9ef">int</span>) p1 <span style="color:#a6e22e">andPar:</span> (<span style="color:#66d9ef">int</span>) p2 {
    ....
}
<span style="color:#66d9ef">@end</span>
</code></pre></div><ul>
<li>
<p>不只<code>Interface</code>区域可定义实体变量，<code>Implementation</code>区块也可以定义实体变量。</p>
</li>
<li>
<p>两者的差别在于访问权限的不同，<!-- raw HTML omitted --><code>Interface</code>区块内的实体变量默认权限为<code>protected</code>。而在<code>implementation</code>区域定义的实体变量则默认为<code>private</code>，<!-- raw HTML omitted -->故在<code>Implementation</code>区块定义<!-- raw HTML omitted -->私有成员更匹配面向对象之封装原则<!-- raw HTML omitted -->，因为类的私有信息就不需暴露在公开<code>interface</code>(<code>.h</code>文件)中。</p>
</li>
</ul>
<hr>
<h4 id="创建对象">创建对象</h4>
<p><code>OC</code>创建对象需通过<code>alloc</code>以及<code>init</code>两个消息,<code>alloc</code>的作用是分配内存，<code>init</code>是初始化对象。<!-- raw HTML omitted --><code>init</code>与<code>alloc</code>都是定义在<code>NSObject</code>里的方法，父对象收到这两个信息并做出正确回应后，新对象才创建完毕<!-- raw HTML omitted -->。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">MyObject <span style="color:#f92672">*</span> my <span style="color:#f92672">=</span> [[MyObject alloc] init];
</code></pre></div><p>在<code>OC 2.0</code>里，若创建对象不需要参数，则可以直接使用<code>new</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">MyObject <span style="color:#f92672">*</span> my <span style="color:#f92672">=</span> [MyObject new];
</code></pre></div><hr>
<h4 id="方法">方法</h4>
<p>在<code>OC</code>中类可以声明两种类型的方法：实例方法和类方法。实例方法在类的一个具体实例的范围内执行，即要<!-- raw HTML omitted -->调用实例方法前，需要首先创建类的实例，而类方法不需要创建一个实例<!-- raw HTML omitted -->。</p>
<p>方法声明包括方法类型标识符，返回值类型，一个或多个方法标识关键字，参数类型和名信息，下图展示 <code>insertObject:atIndex</code>: 实例方法的声明。</p>
<p><img src="https://i.loli.net/2019/07/10/5d25fb02633e044676.jpg" alt=""></p>
<ul>
<li>
<p>声明由一个减号<code>-</code>开始，这表明这是一个<!-- raw HTML omitted -->实例方法<!-- raw HTML omitted -->。方法实际的名字(<code>insertObject:atIndex:</code>)是所有方法标识关键的级联，包含了冒号。</p>
</li>
<li>
<p>冒号表明了参数的出现，<!-- raw HTML omitted -->如果方法没有参数，你可以省略第一个(也是唯一的)方法标识关键字后面的冒号<!-- raw HTML omitted -->。</p>
</li>
</ul>
<p>当需要调用一个方法时，即传递消息给对应的对象，这里的消息是指方法标识符以及传递给方法的参数信息。</p>
<ul>
<li>
<p><!-- raw HTML omitted -->发送给对象的所有消息都会动态分发<!-- raw HTML omitted -->，这样有利于实现<code>OC</code>的多态行为。</p>
</li>
<li>
<p><!-- raw HTML omitted -->如果子类定义了和父类具有相同标识符的方法，那么子类首先收到消息，然后选择把收到的消息转发（也可以不转发）给他的父类<!-- raw HTML omitted -->。</p>
</li>
</ul>
<p>消息被<!-- raw HTML omitted -->中括号包括<!-- raw HTML omitted -->。中括号里，接收消息的对象在左边，消息（<!-- raw HTML omitted -->包括消息需要的任何参数<!-- raw HTML omitted -->）在右边。例如，给<code>myArray</code>变量传递消息<code>insertObject:atIndex:</code>消息，需要使用如下的语法：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">[myArray insertObject:anObj atIndex:<span style="color:#ae81ff">0</span>];
</code></pre></div><p>为了避免过多地声明本地变量保存临时结果，<code>OC</code>允许使用嵌套消息，每个嵌套消息的返回值可以作为其他消息的参数。例如，有另外一个对象叫做<code>myAppObject</code>有方法可以访问数组对象，以及插入一个对象到一个数组，就可以将前面的例子写成如下的形式：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">[[myAppObject getArray] insertObject:[myAppObject getObjectToInsert] atIndex:<span style="color:#ae81ff">0</span>];
</code></pre></div><p>消息也可以传递给类本身，当<!-- raw HTML omitted -->给类发消息的时候，指定的方法必须为类方法<!-- raw HTML omitted -->。类方法的典型用途是用做创建新类实例的工厂方法，或者是访问类相关的共享信息的途径。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">NSMutableArray<span style="color:#f92672">*</span>   myArray <span style="color:#f92672">=</span> nil; <span style="color:#75715e">// nil 基本上等同于 NULL
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 创建一个新的数组，并把它赋值给 myArray 变量
</span><span style="color:#75715e"></span>myArray <span style="color:#f92672">=</span> [NSMutableArray arrayWithCapacity:<span style="color:#ae81ff">0</span>];
</code></pre></div><p>上面是一个类方法作为一个工厂方法来使用。<code>arrayWithCapacity</code>是<code>NSMutableArray</code>类的类方法，为类的新实例分配内容并初始化，然后返回。</p>
<hr>
<h4 id="属性">属性</h4>
<p>属性使用一个等式来表示：<code>@property = 成员变量 + getter + setter</code>，即一个属性包含了一个成员变量以及该成员变量的<code>getter</code>和<code>setter</code>方法：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@property</span> <span style="color:#f92672">=</span> <span style="color:#960050;background-color:#1e0010">成员变量</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">getter</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">setter</span>
</code></pre></div><p>为什么<code>OC</code>要添加属性，这就要从成员变量说起。成员变量的写法，一般如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@interface</span> <span style="color:#a6e22e">Person</span> :<span style="color:#a6e22e">NSObject</span>
{ 
    <span style="color:#66d9ef">int</span> _age;    <span style="color:#75715e">//定义成员变量，_下划线开始是苹果的编程规范
</span><span style="color:#75715e"></span>}
<span style="color:#66d9ef">@end</span> 
</code></pre></div><p>成员变量具有如下的特点：</p>
<ul>
<li>
<p>只能通过对象来访问</p>
</li>
<li>
<p>成员变量离不开类，离开了类就不是成员变量</p>
</li>
<li>
<p>成员变量不能在定义的时候同时进行初始化</p>
</li>
<li>
<p>成员变量存储在当前对象对应的堆空间中，不会自动释放，只能手动释放</p>
</li>
<li>
<p>成员变量前加<code>_</code>是苹果的编程规范</p>
</li>
</ul>
<p>在<code>OC</code>中<code>.</code>访问符是为<code>getter</code>和<code>setter</code>服务的，而在<code>OC</code>中成员变量默认是没有<code>getter</code>和<code>setter</code>方法，因此在类外无法直接访问。如果需要访问就要自定义的<code>getter</code>和<code>setter</code>方法，然后通过自定义的<code>getter</code>和<code>setter</code>方法来访问成员变量。</p>
<p>因此，苹果为了大众方便，在<code>iOS 5</code>以后使用了属性<code>@property</code>。定义属性时会自动将<code>getter</code>和<code>setter</code>方法实现了，你无须再手动去实现<code>getter</code>和<code>setter</code>方法。当然了，如果你需要在<code>getter</code>和<code>setter</code>方法中想要做点事情，直接重写就好。</p>
<p>顺带地，<code>@property</code>还<!-- raw HTML omitted -->会生成一个成员变量，变量名就是<code>_属性名</code><!-- raw HTML omitted -->。当然这个名字你也可以修改，是在<code>.m</code>文件中的<code>implements中去定义</code>：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@synthesize</span>  name <span style="color:#f92672">=</span> myName;
</code></pre></div><p><a href="https://www.jianshu.com/p/143125cef4ff">参考文献</a>
<a href="https://blog.csdn.net/Cloudox_/article/details/55100239">参考文献</a></p>
<p>属性提供了一些关键字用以控制<code>setter</code>和<code>getter</code>的实现细节, 这些关键字我们称为属性的属性(<code>attribute</code>)，总共有三类:</p>
<ul>
<li>读写性<code>readonly,readwrite</code>。其中<code>readonly</code>表示只能读取, 不能写入（系统默认是可读写的）</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@property</span> (<span style="color:#66d9ef">readonly</span>)NSString <span style="color:#f92672">*</span>name; <span style="color:#960050;background-color:#1e0010">表示只能读取</span>
<span style="color:#66d9ef">@property</span> (<span style="color:#66d9ef">readwrite</span>)NSString <span style="color:#f92672">*</span>name<span style="color:#960050;background-color:#1e0010">；表示可以读写</span>
</code></pre></div><ul>
<li>原子性控制<code>atomic，nonatomic</code>。其中<code>atomic</code>表示属性对应的<code>setter</code>和<code>getter</code>方法在多线程访问下绝对安全。而<code>nonatomic</code>表示不做线程安全处理，只是普通的<code>setter</code>和<code>getter</code>方法。使用<code>atomic</code>, 需要<!-- raw HTML omitted -->不断地对<code>setter</code>和<code>getter</code>加锁解锁以保证线程安全, 会很占用系统资源, 降低系统性能<!-- raw HTML omitted -->。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@property</span>(<span style="color:#66d9ef">readwrite</span>,<span style="color:#66d9ef">nonatomic</span>)NSString <span style="color:#f92672">*</span>name;<span style="color:#960050;background-color:#1e0010">表示</span>name <span style="color:#960050;background-color:#1e0010">可读写</span>, <span style="color:#960050;background-color:#1e0010">无原子性</span>
</code></pre></div><ul>
<li>
<p>语义设置<code>assign, retain, copy,strong,weak</code>。这5个属性决定了<code>setter</code>方法中是如何赋值的。</p>
<ul>
<li>其中<code>assign</code>实现<code>setter</code>和<code>getter</code>是直接赋值，计数器不会加一，简单的赋值方法，默认赋值方式，适合基本数据类型。相当于说两个对象指向同个内存区，一个地方的变了，其他的也跟着改变。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#66d9ef">@property</span>(<span style="color:#66d9ef">nonatomic</span>, <span style="color:#66d9ef">assign</span>) NSInteger age;
-(<span style="color:#66d9ef">void</span>)<span style="color:#a6e22e">setName:</span>(NSInteger )age {
    _age <span style="color:#f92672">=</span> age;
}
-(NSInteger )<span style="color:#a6e22e">age</span> {
   <span style="color:#66d9ef">return</span> _age;
}
</code></pre></div><ul>
<li>
<p><code>strong</code> : 表示强引用关系，即拥有对象的所有权。</p>
</li>
<li>
<p><code>weak</code> : 表示弱引用，不拥有对象的所有权，当目标对象被销毁之后，属性值会被自动设为<code>nil</code>;</p>
</li>
<li>
<p><code>​copy</code>(拷贝)：把原来的对象拷贝过来，计数器会加一，比如原来对象的地址为<code>0x01</code> ,拷贝过来的对象的地址为<code>0x02</code>。用于希望保持一份传入值的拷贝，而不是值自身的情况，即<!-- raw HTML omitted -->把原来的对象完整的赋值到另外一地方，重新加载一内存区，一个地方变了不影响另一个地方的对象。<!-- raw HTML omitted -->是内容拷贝。</p>
</li>
<li>
<p><code>​retain</code>(保留)：这种方式传递的是指针，原有的对象和被赋值的对象的地址是一样的。释放旧的对象,将旧对象的值赋予输入对象,再提高输入对象的索引计数为1。是指针拷贝。</p>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="设计模式">设计模式</h2>
<p>设计模式的两个目标</p>
<ul>
<li>可复用性：得到较高的生产效率。</li>
<li>可扩展性：当用户的需求发生变化时，做很少的变化就能够满足用户的需求。</li>
</ul>
<h3 id="单例模式">单例模式</h3>
<p>单例设计模式：自始至终一个类只有一个对象实例。<code>Cocoa</code>中主要的单例类有：</p>
<ul>
<li>UIApplication</li>
<li>NSNotificationCenter</li>
<li>NSUserDefaults</li>
<li>NSFileManager</li>
<li>NSBundle</li>
</ul>
<p><code>OC</code>中单例模式：
<img src="http://oqe76o492.bkt.clouddn.com/2018-10-17-15397585820107.jpg" alt="c600"></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#75715e">//singleton.h
</span><span style="color:#75715e"></span><span style="color:#66d9ef">@interface</span> <span style="color:#a6e22e">Singleton</span>:<span style="color:#a6e22e">NSObject</span>
+ (Singleton <span style="color:#f92672">*</span>) <span style="color:#a6e22e">sharedManager</span>
<span style="color:#66d9ef">@property</span> (<span style="color:#66d9ef">nonatomic</span>,<span style="color:#66d9ef">strong</span>) NSString <span style="color:#f92672">*</span> singletonData;
<span style="color:#66d9ef">@end</span>

<span style="color:#75715e">//singleton.m
</span><span style="color:#75715e"></span>@implemention Singleton
<span style="color:#66d9ef">@synthesize</span> singletonData <span style="color:#f92672">=</span> _singletonData;
<span style="color:#66d9ef">static</span> Singleton <span style="color:#f92672">*</span> sharedManager <span style="color:#f92672">=</span> nil
<span style="color:#f92672">+</span> (Singleton <span style="color:#f92672">*</span>) sharedManager{
   <span style="color:#66d9ef">static</span> dispatch_once_t once;
   dispatch_once(<span style="color:#f92672">&amp;</span>once,<span style="color:#f92672">^</span>{
     sharedManager <span style="color:#f92672">=</span> [[self alloc] init];
   });
   <span style="color:#66d9ef">return</span> sharedManager;
}
</code></pre></div><p>单例设计模式使用场景：</p>
<ul>
<li>在整个过程中只需要一个实例保存状态。</li>
<li>无状态对象(只有方法，没有属性）</li>
</ul>
<p>单例模式时，访问对象时，修改状态的时候要十分小心（它就像一个全局变量）。</p>
<h3 id="uiapplication">UIApplication</h3>
<ul>
<li><code>sharedApplication</code>方法：它是创建和获得<code>UIApplication</code>实例的实例方法。</li>
<li><code>openURL</code>:方法：该方法可以打开一些内置的<code>iOS</code>应用，其中包括打开浏览器、打开<code>Google</code>地图、拨打电话、发送短信和发送<code>Email</code>等。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">[[UIApplication sharedApplication] openURL: [NSURL URLWithString:<span style="color:#e6db74">@&#34;http://www.baidu.com&#34;</span>]];
</code></pre></div><hr>
<h3 id="委托模式">委托模式</h3>
<p>委托：<!-- raw HTML omitted -->某个对象指定另一个对象处理某些特定任务（某些方法的实现）<!-- raw HTML omitted -->的设计模式。例如当没空的时候委托别人帮忙买火车票，<!-- raw HTML omitted -->乘车人、乘车日期以及出发地和目的地就是协议「规定」<!-- raw HTML omitted -->（协议通俗的说就是某种规定，如果能执行这种规定就说遵守了某个协议）。</p>
<p><img src="http://oqe76o492.bkt.clouddn.com/2018-10-17-15397621286012.jpg" alt=""></p>
<p>在上面的类图中带空心三角形的实线表示继承；<!-- raw HTML omitted -->带空心三角形的虚线表示实现接口<!-- raw HTML omitted -->；<!-- raw HTML omitted -->带箭头的实线表示单向关联（<code>has</code>）<!-- raw HTML omitted -->。上面的意思是通用类有一个叫做“委托协议”的成员，它被赋值为（绑定到）为一个委托对象实例，而委托对象实现了委托协议中的相关方法。然后通过这个委托对象实例来做相应的动作（完成委托的事情）。</p>
<ol>
<li>
<p>委托需要做的工作有：
1.1 定义协议与协议中的方法
1.2 声明委托变量
1.3 设置代理（委托变量绑定到哪个对象实例）
1.4 通过委托变量调用委托方法</p>
</li>
<li>
<p>代理需要做的工作有:
2.1 遵循协议（在类的定义时声明遵循相应的协议）
2.2 实现委托方法（实现协议中的方法）</p>
</li>
</ol>
<h4 id="场景">场景</h4>
<p>场景：<code>Boss</code>准备举行一场<code>party</code>，准备邀请<code>Atany</code>来参加<code>party</code>，但是<code>Boss</code>没空写<code>email</code>给<code>Atany</code>，于是他委托<code>Henry</code>与<code>Mary</code>来做这件事情。</p>
<p>在<code>YGViewController.h</code>（根控制器，程序第一个界面，类似于<code>Boss</code>）中首先定义协议，接着声明委托变量（<code>Boss</code>并没有实现<code>inviteToMyParty</code>这个方法，他没有自己去邀请）：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#75715e">#import &lt;UIKit/UIKit.h&gt;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">@protocol</span> <span style="color:#a6e22e">InviteDelegate</span>
-(<span style="color:#66d9ef">void</span>)<span style="color:#a6e22e">inviteToMyParty:</span>(NSString <span style="color:#f92672">*</span>)personName;<span style="color:#75715e">//1.1定义协议与方法
</span><span style="color:#75715e"></span><span style="color:#66d9ef">@end</span>

<span style="color:#66d9ef">@interface</span> <span style="color:#a6e22e">YGViewController</span> : <span style="color:#a6e22e">UIViewController</span>
<span style="color:#66d9ef">@property</span> (<span style="color:#66d9ef">assign</span>,<span style="color:#66d9ef">nonatomic</span>) <span style="color:#66d9ef">id</span><span style="color:#f92672">&lt;</span>InviteDelegate<span style="color:#f92672">&gt;</span> delegate;<span style="color:#75715e">//1.2声明委托变量
</span><span style="color:#75715e"></span>- (<span style="color:#66d9ef">IBAction</span>)<span style="color:#a6e22e">ClickByMary:</span>(<span style="color:#66d9ef">id</span>)sender;<span style="color:#75715e">//委托给Mary
</span><span style="color:#75715e"></span>- (<span style="color:#66d9ef">IBAction</span>)<span style="color:#a6e22e">ClickByHenry:</span>(<span style="color:#66d9ef">id</span>)sender;<span style="color:#75715e">//委托给Henry
</span><span style="color:#75715e"></span><span style="color:#66d9ef">@end</span>
</code></pre></div><p>然后再设置代理，最后通过委托变量调用委托方法：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc">- (<span style="color:#66d9ef">IBAction</span>)<span style="color:#a6e22e">ClickByMary:</span>(<span style="color:#66d9ef">id</span>)sender {
    Mary <span style="color:#f92672">*</span>mary <span style="color:#f92672">=</span> [[Mary alloc]init];
    self.delegate <span style="color:#f92672">=</span> mary;<span style="color:#75715e">//1.3设置代理
</span><span style="color:#75715e"></span>    [self.delegate inviteToMyParty:<span style="color:#e6db74">@&#34;atany&#34;</span>];<span style="color:#75715e">//1.4通过委托变量调用委托方法
</span><span style="color:#75715e"></span>}
- (<span style="color:#66d9ef">IBAction</span>)<span style="color:#a6e22e">ClickByHenry:</span>(<span style="color:#66d9ef">id</span>)sender {
    Henry <span style="color:#f92672">*</span>henry <span style="color:#f92672">=</span> [[Henry alloc]init];
    self.delegate <span style="color:#f92672">=</span> henry;<span style="color:#75715e">//1.3设置代理
</span><span style="color:#75715e"></span>    [self.delegate inviteToMyParty:<span style="color:#e6db74">@&#34;atany&#34;</span>];<span style="color:#75715e">//1.4通过委托变量调用委托方法
</span><span style="color:#75715e"></span>}
</code></pre></div><p><code>BOSS</code>可以选择不同的代理（<code>Henry</code>与<code>Mary</code>）来做这件事情（<code>inviteToMyParty</code>），而自己却不用做。以<code>Henry</code>为例，首先遵循协议，然后实现协议中的委托方法：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-objc" data-lang="objc"><span style="color:#75715e">#import &lt;UIKit/UIKit.h&gt;
</span><span style="color:#75715e">#import &#34;YGViewController.h&#34;
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">@interface</span> <span style="color:#a6e22e">Henry</span> : <span style="color:#a6e22e">UIViewController</span> <span style="color:#f92672">&lt;</span>InviteDelegate<span style="color:#f92672">&gt;</span><span style="color:#75715e">//2.1遵循协议
</span><span style="color:#75715e"></span><span style="color:#66d9ef">@end</span>

<span style="color:#f92672">-</span>(<span style="color:#66d9ef">void</span>)inviteToMyParty:(NSString <span style="color:#f92672">*</span>)personName{
    NSString <span style="color:#f92672">*</span>hello <span style="color:#f92672">=</span> [NSString stringWithFormat:<span style="color:#e6db74">@&#34;Hello,%@&#34;</span>,personName];
    NSString <span style="color:#f92672">*</span>str <span style="color:#f92672">=</span> [NSString stringWithFormat:<span style="color:#e6db74">@&#34;Hey Boy,this is Henry,Come to our party Please!!&#34;</span>];
    UIAlertView <span style="color:#f92672">*</span>alert <span style="color:#f92672">=</span> [[UIAlertView alloc]initWithTitle:hello message:str delegate:self cancelButtonTitle:<span style="color:#e6db74">@&#34;OK&#34;</span> otherButtonTitles:nil];
    [alert show];
}
</code></pre></div><hr>
<h3 id="观察者设计模式">观察者设计模式</h3>
<p>观察模式的定义</p>
<p>有很多观察者正在观察对象的变化，当对象发生时会通知所有的观察者</p>
<p><code>KVO</code>是观察对象属性的变化
通知机制观察的是对象的变化</p>
<p>NSNotification 可以通过object（NSObject） 和 userInfo（NSDictionary） 来回传数据</p>
<p>投送通知：postNotification</p>
<p>KVO要搞清楚谁是观察者，谁是被观察者</p>
<p>模态视图：关闭不能通过故事板，只能通过代码实现</p>
<h2 id="runtime">runtime</h2>
<blockquote>
<p>runtime是一套存<code>C</code>语言的<code>API</code>，<code>OC</code>代码最终都会被编译器转为运行时代码，通过消息机制决定函数的调用方式。</p>
</blockquote>
<h3 id="消息机制的基本原理">消息机制的基本原理</h3>
<p>在OC语言中，对象方法调用都是类似<code>[receiver selector]</code>的形式，其本质：<!-- raw HTML omitted -->让对象在运行时发送消息的过程<!-- raw HTML omitted -->。</p>
<p>方法调用<code>[receiver selector]</code>分为两个过程：</p>
<ul>
<li>
<p>编译阶段。<code>[receiver selector]</code>方法被编译器转化，分为两种情况</p>
<ol>
<li>不带参数的方法被编译为<code>objc_msgSend(receiver,selector)</code></li>
<li>带参数的方法被编译为<code>objc_msgSend(receiver,selector,org1,org2,...)</code></li>
</ol>
</li>
<li>
<p>运行阶段：消息接收者<code>receiver</code>寻找对应的<code>selector</code>，也分为两种情况</p>
<ol>
<li>接收者能找到对应的<code>selector</code>，直接执行<code>receiver</code>对象的<code>selector</code>方法</li>
<li>接收者找不到对应的<code>selector</code>，消息被转发或者临时向接收者添加这个<code>selector</code>对应的实现内容，否则崩溃。</li>
</ol>
</li>
</ul>
<p>总而言之，OC调用方法<code>[receiver selector]</code>，<!-- raw HTML omitted -->编译阶段确定了要向那个接收者发送<code>message</code>消息<!-- raw HTML omitted -->，<!-- raw HTML omitted -->但是接收者如何响应决定于运行时的判断<!-- raw HTML omitted -->。</p>

    </div>
    <footer class="post-footer">
        
 
<div class="post-tags">     
     
    <a href="https://iihui.github.io/tags/oc" rel="tag" title="OC">#OC#</a>
    
    <a href="https://iihui.github.io/tags/ios" rel="tag" title="iOS">#iOS#</a>
    
</div>



        <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="https://iihui.github.io/post/oc-tour/" rel="next" title="OC 入门">
        <i class="fa fa-chevron-left"></i> OC 入门
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="https://iihui.github.io/post/post/swift-method/" rel="prev" title="swift中的方法">
        swift中的方法 <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
        <div class="post-nav">
    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
        <div style="float:left;margin-top:0px;">
            <img src="https://i.loli.net/2020/02/09/SvhUdz4XJsOr9Vk.jpg" width="128px" height="128px"/>
            <div style="text-align:center;">谢谢支持!</div>
        </div>
        <div>
            <p style="margin-top:10px;">
                标题：OC 入门
                <br />作者：阿呆<a target="_blank" href="https://iihui.github.io/"></a>
                
                <br />地址：https://iihui.github.io/post/post/oc-tour/
                <br />声明：自由转载-非商用-保持署名（创作共享4.0许可证）
            </p>
        </div>
    </div>
    <div class="clear"></div>
</div>
        
        
        




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

  <ul class="sidebar-nav motion-element">
    <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
      文章目录
    </li>
    <li class="sidebar-nav-overview" data-target="site-overview">
      站点概览
    </li>
  </ul>

    <section class="site-overview sidebar-panel ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="https://i.loli.net/2020/02/07/dVFzrvZkHRNq2lL.jpg"
        alt="" />
    <p class="site-author-name" itemprop="name"></p>
    <p class="site-description motion-element" itemprop="description"> 
        coder &amp; cook</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="https://iihui.github.io/post/">
        <span class="site-state-item-count">272</span>
        <span class="site-state-item-name">日志</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="https://iihui.github.io/categories/">      
         
        <span class="site-state-item-count">15</span>
        
        <span class="site-state-item-name">分类</span>
        
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="https://iihui.github.io/tags/">
         
        <span class="site-state-item-count">29</span>
        
        <span class="site-state-item-name">标签</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://coolshell.cn" target="_blank" title="皓 大">
            <i class="fa fa-fw fa-globe"></i>
            皓 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ruanyifeng.com" target="_blank" title="阮 大">
            <i class="fa fa-fw fa-globe"></i>
            阮 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://juejin.im/" target="_blank" title="掘 金">
            <i class="fa fa-fw fa-globe"></i>
            掘 金
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ideamsg.com" target="_blank" title="灵 感">
            <i class="fa fa-fw fa-globe"></i>
            灵 感
        </a>
        </span>
    
</div>


      

      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
    <div class="post-toc">
        <div class="post-toc-content"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#文件扩展名">文件扩展名</a></li>
        <li><a href="#语法">语法</a>
          <ul>
            <li><a href="#调用方法">调用方法</a></li>
            <li><a href="#字符串">字符串</a></li>
            <li><a href="#类">类</a>
              <ul>
                <li><a href="#interface">Interface</a></li>
                <li><a href="#implementation">Implementation</a></li>
                <li><a href="#创建对象">创建对象</a></li>
                <li><a href="#方法">方法</a></li>
                <li><a href="#属性">属性</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#设计模式">设计模式</a>
          <ul>
            <li><a href="#单例模式">单例模式</a></li>
            <li><a href="#uiapplication">UIApplication</a></li>
            <li><a href="#委托模式">委托模式</a>
              <ul>
                <li><a href="#场景">场景</a></li>
              </ul>
            </li>
            <li><a href="#观察者设计模式">观察者设计模式</a></li>
          </ul>
        </li>
        <li><a href="#runtime">runtime</a>
          <ul>
            <li><a href="#消息机制的基本原理">消息机制的基本原理</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
    </div>
</section>

  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
  2017 - 2020</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">Keep It Simple</span>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span id="scrollpercent"><span>0</span>%</span>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="https://iihui.github.io/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="https://iihui.github.io/js/utils.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/motion.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/affix.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/schemes/pisces.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/scrollspy.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/post-details.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/toc.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/bootstrap.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
</body>
</html>