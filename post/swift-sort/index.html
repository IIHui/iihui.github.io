<!DOCTYPE HTML>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /> 
    <title>基本内排序算法Swift实现 - Keep It Simple</title>
    <meta name="keywords" content="博客,思考,读书,笔记,技术,分享">
    
    <meta property="og:title" content="基本内排序算法Swift实现">
    <meta property="og:site_name" content="Keep It Simple">
    <meta property="og:image" content="/img/author.jpg"> 
    <meta name="title" content="基本内排序算法Swift实现 - Keep It Simple" />
    <meta name="description" content="Swift | Go | C&#43;&#43; "> 
    <link rel="shortcut icon" href="https://iihui.github.io/img/favicon.ico" />
    <link rel="apple-touch-icon" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" href="https://iihui.github.io/img/apple-touch-icon.png" />
    <link href="https://iihui.github.io/js/vendor/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/main.css" rel="stylesheet" type="text/css" />
    <link href="https://iihui.github.io/css/syntax.css" rel="stylesheet" type="text/css" />

    <script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
     fancybox: true, 
    motion: true
  };
</script>

    <link href="https://cdn.bootcss.com/highlight.js/9.12.0/styles/monokai-sublime.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/objectivec.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/clojure.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/cpp.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/kotlin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/yaml.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">
<div class="container one-collumn sidebar-position-left page-home  ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-meta  custom-logo ">

  <div class="custom-logo-site-title">
    <a href="https://iihui.github.io/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Keep It Simple</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">靡不有初，鲜克有终</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
    <ul id="menu" class="menu">
      
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/tags/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-tag"></i> <br />标签
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/post/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E7%BE%8E%E9%A3%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-fire"></i> <br />美食
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E5%90%8E%E6%9C%9F/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-edit"></i> <br />后期
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/categories/%E6%97%85%E8%A1%8C/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-leaf"></i> <br />旅行
          </a>
        </li>
      
        <li class="menu-item ">
          <a href="https://iihui.github.io/about/" rel="section">
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于
          </a>
        </li>
      
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger"> <i class="menu-item-icon fa fa-search fa-fw"></i> <br /> 搜索</a>
      </li>
    </ul>
    <div class="site-search">
      <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
</nav>
<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
		<!-- src = "http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"> <\!--  -\-> -->
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">

    
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
</head>
<body>

</body>
</html>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
<section id="posts" class="posts-expand">
  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link" href="https://iihui.github.io/post/swift-sort/" itemprop="url">
        基本内排序算法Swift实现
        </a>
      </h1>
      <div class="post-meta">
      <span class="post-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-o"></i>
</span>
<span class="post-meta-item-text">创建: </span>
<time itemprop="dateCreated" datetime="2016-03-22T13:04:35+08:00" content="2018-12-31">
    2018-12-31
</time>
</span>
&nbsp; | &nbsp;
<span class="post-updated-time">
<span class="post-meta-item-icon">
    <i class="fa fa-calendar-check-o"></i>
</span>
<span class="post-meta-item-text">更新: </span>
<time itemprop="dateUpdated" content="2018-12-31">
    2018-12-31
</time>
</span> 
      

  <span class="post-category" >
  &nbsp; | &nbsp;
  <span class="post-meta-item-icon">
    <i class="fa fa-folder-o"></i>
  </span>
  <span class="post-meta-item-text">分类: </span>
  
    <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
      <a href="https://iihui.github.io/categories/%E7%AE%97%E6%B3%95" itemprop="url" rel="index">
        <span itemprop="name">算法</span>
      </a>
      &nbsp; 
    </span>
  
</span>


      <span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-file-word-o"></i>
</span>
<span class="post-meta-item-text">字数: </span>
<span class="leancloud-visitors-count">3769</span>
&nbsp; | &nbsp;
<span class="post-meta-item-icon">
    <i class="fa fa-coffee"></i>
</span>
<span class="post-meta-item-text">阅读: </span>
<span class="leancloud-visitors-count">8 分钟</span>
</span>
      </div>
    </header>
    <div class="post-body" itemprop="articleBody">
    <blockquote>
<p>排序就是重新排列表中的元素，使表中的元素满足按关键字递增或者递减的排列过程。排序算法分为内排序和外排序。内排序是指排序期间元素全部放在内存中的排序；而外排序是指在排序期间元素太多，不能同时全部存放在内存中，必须在排序过程中根据要求，不断在内，外存之间移动的排序。内排序可归纳为插入排序，选择排序，交换排序、归并排序，计数排序，基数排序等。</p>
</blockquote>
<h1 id="插入排序">插入排序</h1>
<h2 id="直接插入排序">直接插入排序</h2>
<p>直接插入排序是在<font color=red>有序的基础上</font>进行排序。对于数组来说<font color=Blue>第一个元素默认是有序</font>的，从第二个元素开始，在前面已经有序的元素中找到当前元素应该在的位置进行插入：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//直接插入排序，时间复杂度为O(n^2)，空间复杂度为O(1)，稳定的排序算法</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">insertSort</span>&lt;T: Comparable&gt;(data: [T]) -&gt; [T] {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> j: Int
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span> ..<span style="color:#f92672">&lt;</span> result.count {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> tmp = result[i]
</span></span><span style="display:flex;"><span>        j = i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> result[j] <span style="color:#f92672">&gt;</span> tmp {
</span></span><span style="display:flex;"><span>                result[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] = result[j]
</span></span><span style="display:flex;"><span>                j <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        result[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] = tmp
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>直接插入排序是<font color=red>稳定</font>的排序算法</li>
<li>时间复杂度为$O(n^2)$</li>
<li>空间复杂度为$O(1)$</li>
</ul>
<hr>
<h2 id="折半插入排序">折半插入排序</h2>
<p>折半插入排序，在查找当前元素应该插入的位置时，利用<font color=red>前面元素已经有序</font>的特点，以二分法进行查找：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//二分插入排序,时间复杂度为O(nlog(n))，空间复杂度为O(1)，不稳定的排序算法,例子为(2,2,2)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">binarySort</span>&lt;T: Comparable&gt;(data: [T]) -&gt; [T] {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> start, end, mid: Int
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span> ..<span style="color:#f92672">&lt;</span> result.count {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> tmp = result[i]
</span></span><span style="display:flex;"><span>        start = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        end = i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> start <span style="color:#f92672">&lt;=</span> end {
</span></span><span style="display:flex;"><span>            mid = start <span style="color:#f92672">+</span> (end <span style="color:#f92672">-</span> start) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> result[mid] == result[i] {
</span></span><span style="display:flex;"><span>                end = mid
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> result[mid] <span style="color:#f92672">&gt;</span> result[i] {
</span></span><span style="display:flex;"><span>                end = mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                start = mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#66d9ef">in</span> stride(from: i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, through: end <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, by: <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>            result[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] = result[j]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        result[end <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] = tmp
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>是<font color=red>不稳定的</font>排序算法，例如<code>(1,1,1,1,1)</code></li>
<li>时间复杂度为$O(n^2)$，二分查找插入位置，因为<font color=red>不是查找相等值</font>，而是基于比较查插入合适的位置，所以必须查到最后一个元素才知道插入位置。</li>
<li>空间复杂度为$O(1)$</li>
</ul>
<hr>
<h2 id="shell排序">Shell排序</h2>
<p>希尔排序是先将待排序的表分割为若干形如$L[i,i+d,i+2d,..i+kd]$的子表，分别进行直接插入排序，当整个表中元素已呈基本有序时，再对全体进行一次直接插入排序。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//shell排序，时间复杂度O(nlog^k(n)),空间复杂度为O(1),不稳定的排序算法，例子为(2,2,1)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">shellSort</span>&lt;T: Comparable&gt;(data: [T]) -&gt; [T] {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> step = result.count <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> step <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">self</span>.assistShellSort(data: &amp;result, step: step)
</span></span><span style="display:flex;"><span>        step <span style="color:#f92672">/=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">assistShellSort</span>&lt;T: Comparable&gt;(data: <span style="color:#66d9ef">inout</span> [T], step: Int) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">guard</span> step <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> j = <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span> ..<span style="color:#f92672">&lt;</span> data.count {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> tmp = data[i]
</span></span><span style="display:flex;"><span>        j = i <span style="color:#f92672">-</span> step
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> j <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> data[j] <span style="color:#f92672">&gt;</span> tmp {
</span></span><span style="display:flex;"><span>                data[j <span style="color:#f92672">+</span> step] = data[j]
</span></span><span style="display:flex;"><span>                j <span style="color:#f92672">-=</span> step
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        data[j <span style="color:#f92672">+</span> step] = tmp
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>是<font color=red>不稳定的</font>排序算法，例如<code>(2,1,1)</code></li>
<li>空间复杂度为$O(1)$</li>
</ul>
<hr>
<h1 id="选择排序">选择排序</h1>
<h2 id="简单选择排序">简单选择排序</h2>
<p>简单选择排序，首先从数组所有元素中找到最小的元素，然后将其与第一个元素进行交换，这样第一个元素就变成了最小元素；然后从第二个元素开始找剩下元素中最小的那一个，并将这个最小元素与第二个元素进行交换，如此第二个元素就变成第二小的元素，依次类推：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//选择排序，时间复杂度为O(n^2),空间复杂度为O(1),不稳定的排序算法，例子为(2,2,1)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">selectSort</span>&lt;T: Comparable&gt;(data: [T]) -&gt; [T] {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> index: Int
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span> ..<span style="color:#f92672">&lt;</span> result.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> {
</span></span><span style="display:flex;"><span>        index = i
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#66d9ef">in</span> i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> ..<span style="color:#f92672">&lt;</span> result.count {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> result[j] <span style="color:#f92672">&lt;</span> result[index] {
</span></span><span style="display:flex;"><span>                index = j
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> index <span style="color:#f92672">!=</span> i {
</span></span><span style="display:flex;"><span>            (result[index], result[i]) = (result[i], result[index])
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><font color=red>不稳定</font>的排序算法，例如<code>2,2,1</code></li>
<li>时间复杂度为$O(n^2)$</li>
<li>空间复杂度为$O(1)$</li>
</ul>
<hr>
<h2 id="堆排序">堆排序</h2>
<p>堆排序算法，是先将数组排成大顶堆（也可以是小顶堆）。然后将堆顶元素（当前最大）和数组的最后一个元素进行交换，那么此时堆顶到数组的倒数第二个元素之间的堆可能就不再满足堆的定义，需要调整。调整好之后，堆顶元素即为堆顶到数组的倒数第二个元素之间最大的元素，此时将堆顶元素和倒数第二个元素交换，此时又可能不满足堆的定义了，因此再调整堆，如此继续，直到处理完所有数据。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//堆排序，时间复杂度为O(nlog(n))，空间复杂度为O(1)，不稳定的排序算法，例子为(2,2,1)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">heapSort</span>&lt;T: Comparable&gt;(data: [T]) -&gt; [T] {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = data
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//首先排序为大顶堆</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> stride(from: (result.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>, through: <span style="color:#ae81ff">0</span>, by: <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">self</span>.adjustHeap(data: &amp;result, start: i, end: result.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//然后交换，再重新调整为大顶堆</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> stride(from: result.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, through: <span style="color:#ae81ff">1</span>, by: <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        (result[<span style="color:#ae81ff">0</span>], result[i]) = (result[i], result[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">self</span>.adjustHeap(data: &amp;result, start: <span style="color:#ae81ff">0</span>, end: i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//辅助函数，默认除了第一个元素不满足大顶堆，所以要调整第一个元素到合适位置</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">adjustHeap</span>&lt;T: Comparable&gt;(data: <span style="color:#66d9ef">inout</span> [T], start: Int, end: Int)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> parent = start, child = <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> start <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> child <span style="color:#f92672">&lt;=</span> end {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> child <span style="color:#f92672">&lt;</span> end, data[child] <span style="color:#f92672">&lt;</span> data[child <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] {
</span></span><span style="display:flex;"><span>            child <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> data[parent] <span style="color:#f92672">&lt;</span> data[child] {
</span></span><span style="display:flex;"><span>            (data[parent], data[child]) = (data[child], data[parent])
</span></span><span style="display:flex;"><span>            parent = child
</span></span><span style="display:flex;"><span>            child = <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> parent <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>是<font color=red>不稳定的</font>排序算法,例如<code>(1,2,2)</code></li>
<li>时间复杂度为$O(nlog(n))$</li>
<li>空间复杂度为$O(1)$</li>
</ul>
<hr>
<h1 id="交换排序">交换排序</h1>
<blockquote>
<p>交换排序，就是根据序列中两个元素关键字的比较结果来对换这两个记录在序列中的位置。</p>
</blockquote>
<h2 id="冒泡排序">冒泡排序</h2>
<p>冒泡排序假设待排序表长为<code>n</code>，从后往前（或从前往后）两两比较相邻元素的值，若为逆序$A[i-1]&gt;A[i]$，则交换它们，直到序列比较完。称之为一趟冒泡，结果将最小的元素交换到待排序列的第一个位置（关键字最小的元素如气泡一般逐渐往上漂浮，直到水面，这就是冒泡排序的名字的由来）。下一趟冒泡时，前一趟确定的最小元素不再参与比较，待排序减少一个元素，每趟冒泡的结果把序列中的最小元素放到序列的最终位置，&hellip;，这样最多做$n-1$趟冒泡就能把所有元素排好序。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//交换排序，时间复杂度为O(n^2),空间复杂度为O(1),稳定的排序算法</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">bubbleSort</span>&lt;T: Comparable&gt;(data: [T]) -&gt; [T] {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> flag = <span style="color:#66d9ef">false</span> <span style="color:#75715e">//用于标识本趟是否有交换</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span> ..<span style="color:#f92672">&lt;</span> result.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> {
</span></span><span style="display:flex;"><span>        flag = <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span> ..<span style="color:#f92672">&lt;</span> result.count <span style="color:#f92672">-</span> i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 大数沉底</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> result[j] <span style="color:#f92672">&gt;</span> result[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] {
</span></span><span style="display:flex;"><span>                (result[j], result[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) = (result[j <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>], result[j])
</span></span><span style="display:flex;"><span>                flag = <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> flag == <span style="color:#66d9ef">false</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>是<font color=red>稳定的</font>排序算法</li>
<li>时间复杂度为$O(n^2)$</li>
<li>空间复杂度为$O(1)$</li>
</ul>
<hr>
<h2 id="快速排序">快速排序</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//快速排序，时间复杂度为O(nlog(n))，空间复杂度为log(n),不稳定的排序算法，例子(2,2,1)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">quickSort</span>&lt;T: Comparable&gt;(data: <span style="color:#66d9ef">inout</span> [T], start: Int, end: Int) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">guard</span> start <span style="color:#f92672">&lt;</span> end <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> pivot = assistQuickSort(data: &amp;data, start: start, end: end)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> pivot <span style="color:#f92672">&gt;</span> start {
</span></span><span style="display:flex;"><span>        quickSort(data: &amp;data, start: start, end: pivot <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> end <span style="color:#f92672">&gt;</span> pivot {
</span></span><span style="display:flex;"><span>        quickSort(data: &amp;data, start: pivot <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, end: end)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//在start...end之间随机抽取一个数字，并将其放置其最终的位置</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">assistQuickSort</span>&lt;T: Comparable&gt;(data: <span style="color:#66d9ef">inout</span> [T], start: Int, end: Int) -&gt; Int {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> index = Int.randomIntNumber(lower: start, upper: end <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    (data[end], data[index]) = (data[index], data[end])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> small = start <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> start ..<span style="color:#f92672">&lt;</span> end {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> data[i] <span style="color:#f92672">&lt;</span> data[end] {
</span></span><span style="display:flex;"><span>            small <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> small <span style="color:#f92672">!=</span> i {
</span></span><span style="display:flex;"><span>                (data[small], data[i]) = (data[i], data[small])
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    small <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    (data[small], data[end]) = (data[end], data[small])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> small
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">extension</span> <span style="color:#a6e22e">Int</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//返回的结果： [lower,upper) 之间的半开半闭区间的数。</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">randomIntNumber</span>(lower: Int = <span style="color:#ae81ff">0</span>, upper: Int = Int(UInt32.max)) -&gt; Int {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> lower <span style="color:#f92672">+</span> Int(arc4random_uniform(UInt32(upper <span style="color:#f92672">-</span> lower)))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//生成某个区间的随机数</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">randomIntNumber</span>(range: Range&lt;Int&gt;) -&gt; Int {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> randomIntNumber(lower: range.lowerBound, upper: range.upperBound)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li>
<p>是<font color=red>不稳定</font>的排序算法，例如<code>(3,2,2)</code>时，<code>Pivot</code>为<code>0</code></p>
</li>
<li>
<p>时间复杂度为$O(nlog(n))$</p>
</li>
<li>
<p>空间复杂度为$O(log(n))$</p>
</li>
<li>
<p>平均条件下，最快的排序算法</p>
</li>
</ul>
<hr>
<h1 id="归并排序">归并排序</h1>
<blockquote>
<p>归并的含义是将两个或者两个以上的有序表组合成一个新的有序表。假定待排序表含有<code>n</code>个记录，则可以视为<code>n</code>个有序子表，每个表的长度为<code>1</code>，然后两两归并，得到$\biggl\lceil\frac{n}{2}\biggr\rceil$个长度为<code>2</code>或<code>1</code>的有序表，再两两归并，&hellip;，如此重复，直到合并成一个长度为<code>n</code>的有序表为止，这种排序方法称为二路归并排序。</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//归并排序，时间复杂度为O(nlog(n)),空间复杂度为(O(n),稳定的排序算法</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mergeSort</span>&lt;T: Comparable&gt;(data: [T]) -&gt; [T] {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> assist = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">self</span>.mergeSort(data: &amp;result, assist: &amp;assist, start: <span style="color:#ae81ff">0</span>, end: result.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mergeSort</span>&lt;T: Comparable&gt;(data: <span style="color:#66d9ef">inout</span> [T], assist: <span style="color:#66d9ef">inout</span> [T], start: Int, en
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> start <span style="color:#f92672">&lt;</span> end {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> mid = start <span style="color:#f92672">+</span> (end <span style="color:#f92672">-</span> start) <span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        mergeSort(data: &amp;data, assist: &amp;assist, start: start, end: mid)
</span></span><span style="display:flex;"><span>        mergeSort(data: &amp;data, assist: &amp;assist, start: mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, end: end)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> index = start, i = start, j = mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;=</span> mid <span style="color:#f92672">&amp;&amp;</span> j <span style="color:#f92672">&lt;=</span> end {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> data[i] <span style="color:#f92672">&lt;</span> data[j] {
</span></span><span style="display:flex;"><span>                assist[index] = data[i]
</span></span><span style="display:flex;"><span>                i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                assist[index] = data[j]
</span></span><span style="display:flex;"><span>                j <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;=</span> mid {
</span></span><span style="display:flex;"><span>            assist[index] = data[i]
</span></span><span style="display:flex;"><span>            index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> j <span style="color:#f92672">&lt;=</span> mid {
</span></span><span style="display:flex;"><span>            assist[index] = data[j]
</span></span><span style="display:flex;"><span>            index <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            j <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        data = assist
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mergeSort</span>(data:<span style="color:#66d9ef">inout</span> Array&lt;Int&gt;){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> assist = data
</span></span><span style="display:flex;"><span>    mergeSort(data: &amp;data, assist: &amp;assist,start: <span style="color:#ae81ff">0</span>,end: data.count<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mergeSort</span>(data:<span style="color:#66d9ef">inout</span> Array&lt;Int&gt;,assist:<span style="color:#66d9ef">inout</span> Array&lt;Int&gt;,start:Int,end:Int){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> start == end{
</span></span><span style="display:flex;"><span>        assist[start] = data[start]
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> length = (end <span style="color:#f92672">-</span> start)<span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    mergeSort(data: &amp;data, assist: &amp;assist, start: start, end: start <span style="color:#f92672">+</span> length)
</span></span><span style="display:flex;"><span>    mergeSort(data: &amp;data, assist: &amp;assist, start: start <span style="color:#f92672">+</span> length <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, end: end)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> i=start, j = start <span style="color:#f92672">+</span> length <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>,k = start
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;=</span> start <span style="color:#f92672">+</span> length <span style="color:#f92672">&amp;&amp;</span> j <span style="color:#f92672">&lt;=</span> end{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> data[i] <span style="color:#f92672">&lt;=</span> data[j]{
</span></span><span style="display:flex;"><span>            assist[k] = data[i]
</span></span><span style="display:flex;"><span>            i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>            assist[k] = data[j]
</span></span><span style="display:flex;"><span>            j <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        k <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;=</span> start <span style="color:#f92672">+</span> length {
</span></span><span style="display:flex;"><span>        assist[k...(k <span style="color:#f92672">+</span> (start <span style="color:#f92672">+</span> length <span style="color:#f92672">-</span> i))] = data[i...start<span style="color:#f92672">+</span>length]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> j <span style="color:#f92672">&lt;=</span> end {
</span></span><span style="display:flex;"><span>        assist[k...(k <span style="color:#f92672">+</span> (end <span style="color:#f92672">-</span> j))] = data[j...end]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    data = assist
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<h1 id="计数排序">计数排序</h1>
<p>计数排序是一种<font color=red>非比较性质的</font>排序算法，元素从未排序状态变为已排序状态的过程，是由额外空间的辅助和元素本身的值决定的。计数排序过程中不存在元素之间的比较和交换操作，根据元素本身的值，将每个元素出现的次数记录到辅助空间后，通过对辅助空间内数据的计算，即可确定每一个元素最终的位置。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//计数排序，时间复杂度为O(n+K),空间复杂度为O(n+K),稳定的排序算法</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">countSort</span>(data: [Int]) -&gt; [Int]? {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">guard</span> <span style="color:#66d9ef">let</span> arr = preCountSort(data: data), <span style="color:#66d9ef">let</span> max = arr.max() <span style="color:#66d9ef">else</span> 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> countArr = [Int](repeating: <span style="color:#ae81ff">0</span>, count: max <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> item <span style="color:#66d9ef">in</span> arr {
</span></span><span style="display:flex;"><span>        countArr[item] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span> ..<span style="color:#f92672">&lt;</span> countArr.count {
</span></span><span style="display:flex;"><span>        countArr[i] <span style="color:#f92672">+=</span> countArr[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> result = [Int](repeating: <span style="color:#ae81ff">0</span>, count: arr.count)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> stride(from: arr.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, through: <span style="color:#ae81ff">0</span>, by: <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        result[countArr[arr[i]] <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] = arr[i]
</span></span><span style="display:flex;"><span>        countArr[arr[i]] <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> realResult = postCountSort(data: data, result: result)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> realResult
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">preCountSort</span>(data: [Int]) -&gt; [Int]? {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">guard</span> <span style="color:#66d9ef">let</span> min = data.min() <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> min <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> adder = abs(min)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> result = data.map {
</span></span><span style="display:flex;"><span>            $0 <span style="color:#f92672">+</span> adder
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> result
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> data
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">postCountSort</span>(data: [Int], result: [Int]) -&gt; [Int]?
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">guard</span> data.count == result.count, <span style="color:#66d9ef">let</span> min = data.min() <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> realResult = result
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> min <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>        realResult = result.map {
</span></span><span style="display:flex;"><span>            $0 <span style="color:#f92672">+</span> min
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> realResult
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><a href="https://www.jianshu.com/p/86c2375246d7">参考资料</a></p>
<hr>
<h1 id="基数排序">基数排序</h1>
<p>基数排序(<code>Radix Sort</code>)是桶排序的扩展，它的基本思想是：将<font color=red>整数按位数切割成不同的数字，然后按每个位数分别比较</font>。具体做法是：将所有待比较数值统一为同样的数位长度，数位较短的数前面补零。然后，从最低位开始，依次进行一次排序。这样从最低位排序一直到最高位排序完成以后,待排序序列就变成一个有序序列。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#75715e">//十进制的基数排序</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">radixSort</span>(data: [Int]) -&gt; [Int]? {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">guard</span> <span style="color:#66d9ef">var</span> arr = preRadixSort(data: data), <span style="color:#66d9ef">let</span> max = arr.max() <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> assist = <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> assist <span style="color:#f92672">&lt;=</span> max {
</span></span><span style="display:flex;"><span>        inRadixSort(data: &amp;arr, assist: assist, radix: <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>        assist <span style="color:#f92672">*=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> arr
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">preRadixSort</span>(data: [Int]) -&gt; [Int]? {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> item <span style="color:#66d9ef">in</span> data {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> item <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> data
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">inRadixSort</span>(data: <span style="color:#66d9ef">inout</span> [Int], assist: Int, radix: Int) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> countArr = [Int](repeating: <span style="color:#ae81ff">0</span>, count: <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> item <span style="color:#66d9ef">in</span> data {
</span></span><span style="display:flex;"><span>        countArr[(item <span style="color:#f92672">/</span> assist) <span style="color:#f92672">%</span> radix] <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> tmpArr = data
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span> ..<span style="color:#f92672">&lt;</span> countArr.count {
</span></span><span style="display:flex;"><span>        countArr[i] <span style="color:#f92672">+=</span> countArr[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> stride(from: data.count <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, through: <span style="color:#ae81ff">0</span>, by: <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>        tmpArr[countArr[(data[i] <span style="color:#f92672">/</span> assist) <span style="color:#f92672">%</span> radix] <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>] = data[i]
</span></span><span style="display:flex;"><span>        countArr[(data[i] <span style="color:#f92672">/</span> assist) <span style="color:#f92672">%</span> radix] <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    data = tmpArr
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="总结">总结</h1>
<p><img src="https://i.loli.net/2020/02/18/WkMXiSd8AcNrmLD.jpg" alt="-c"></p>
<hr>

    </div>
    <footer class="post-footer">
        
 
<div class="post-tags">     
     
    <a href="https://iihui.github.io/tags/%e7%ae%97%e6%b3%95" rel="tag" title="算法">#算法#</a>
    
</div>



        <div class="post-nav">
    <div class="post-nav-next post-nav-item">
    
        <a href="https://iihui.github.io/post/swift-for-in/" rel="next" title="Swift中for循环">
        <i class="fa fa-chevron-left"></i> Swift中for循环
        </a>
    
    </div>

    <div class="post-nav-prev post-nav-item">
    
        <a href="https://iihui.github.io/post/ios-framework/" rel="prev" title="Framework">
        Framework <i class="fa fa-chevron-right"></i>
        </a>
    
    </div>
</div>
      
        <div class="post-nav">
    <div style="border: 1px dashed #e0e0e0; padding: 10px 10px 10px 10px; background-color: #fffeee; background-repeat: no-repeat; background-attachment: scroll; background-position: 1% 50%; -moz-background-size: auto auto; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;">
        <div style="float:left;margin-top:0px;">
            <img src="https://i.loli.net/2020/02/09/SvhUdz4XJsOr9Vk.jpg" width="128px" height="128px"/>
            <div style="text-align:center;">谢谢支持!</div>
        </div>
        <div>
            <p style="margin-top:10px;">
                标题：基本内排序算法Swift实现
                <br />作者：阿呆<a target="_blank" href="https://iihui.github.io/"></a>
                
                <br />地址：https://iihui.github.io/post/swift-sort/
                <br />声明：自由转载-非商用-保持署名（创作共享4.0许可证）
            </p>
        </div>
    </div>
    <div class="clear"></div>
</div>
        
        
        




    </footer>
  </article>
</section>

          </div>
        </div>
        <div class="sidebar-toggle">
  <div class="sidebar-toggle-line-wrap">
    <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
    <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
  </div>
</div>
<aside id="sidebar" class="sidebar">
  <div class="sidebar-inner">

  <ul class="sidebar-nav motion-element">
    <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
      文章目录
    </li>
    <li class="sidebar-nav-overview" data-target="site-overview">
      站点概览
    </li>
  </ul>

    <section class="site-overview sidebar-panel ">
      <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
        src="https://i.loli.net/2020/02/07/dVFzrvZkHRNq2lL.jpg"
        alt="" />
    <p class="site-author-name" itemprop="name"></p>
    <p class="site-description motion-element" itemprop="description"> 
        coder &amp; cook</p>
</div>
      <nav class="site-state motion-element">
    <div class="site-state-item site-state-posts">
      <a href="https://iihui.github.io/post/">
        <span class="site-state-item-count">141</span>
        <span class="site-state-item-name">日志</span>
      </a>
    </div>
    <div class="site-state-item site-state-categories">    
        <a href="https://iihui.github.io/categories/">      
         
        <span class="site-state-item-count">17</span>
        
        <span class="site-state-item-name">分类</span>
        
        </a>
    </div>

    <div class="site-state-item site-state-tags">
        <a href="https://iihui.github.io/tags/">
         
        <span class="site-state-item-count">29</span>
        
        <span class="site-state-item-name">标签</span>
        </a>
    </div>
</nav>
      
      
<div class="links-of-author motion-element">
    
        <span class="links-of-author-item">
        <a href="https://coolshell.cn" target="_blank" title="皓 大">
            <i class="fa fa-fw fa-globe"></i>
            皓 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ruanyifeng.com" target="_blank" title="阮 大">
            <i class="fa fa-fw fa-globe"></i>
            阮 大
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="https://juejin.im/" target="_blank" title="掘 金">
            <i class="fa fa-fw fa-globe"></i>
            掘 金
        </a>
        </span>
    
        <span class="links-of-author-item">
        <a href="http://www.ideamsg.com" target="_blank" title="灵 感">
            <i class="fa fa-fw fa-globe"></i>
            灵 感
        </a>
        </span>
    
</div>


      

      <div class="links-of-blogroll motion-element inline">
<script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=&amp;m=0&amp;s=220&amp;c=ff0000&amp;cr1=ffffff&amp;f=arial&amp;l=33&amp;bv=35" async="async"></script>
</div>

    </section>
    
<section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
    <div class="post-toc">
        <div class="post-toc-content"><nav id="TableOfContents">
  <ul>
    <li><a href="#插入排序">插入排序</a>
      <ul>
        <li><a href="#直接插入排序">直接插入排序</a></li>
        <li><a href="#折半插入排序">折半插入排序</a></li>
        <li><a href="#shell排序">Shell排序</a></li>
      </ul>
    </li>
    <li><a href="#选择排序">选择排序</a>
      <ul>
        <li><a href="#简单选择排序">简单选择排序</a></li>
        <li><a href="#堆排序">堆排序</a></li>
      </ul>
    </li>
    <li><a href="#交换排序">交换排序</a>
      <ul>
        <li><a href="#冒泡排序">冒泡排序</a></li>
        <li><a href="#快速排序">快速排序</a></li>
      </ul>
    </li>
    <li><a href="#归并排序">归并排序</a></li>
    <li><a href="#计数排序">计数排序</a></li>
    <li><a href="#基数排序">基数排序</a></li>
    <li><a href="#总结">总结</a></li>
  </ul>
</nav></div>
    </div>
</section>

  </div>
</aside>

      </div>
    </main>
   
    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  <span itemprop="copyrightYear">  &copy; 
  2017 - 2022</span>
  <span class="with-love"><i class="fa fa-heart"></i></span>
  <span class="author" itemprop="copyrightHolder">Keep It Simple</span>
</div>




      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
      <span id="scrollpercent"><span>0</span>%</span>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery/index.js?v=2.1.3"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/fastclick/lib/fastclick.min.js?v=1.0.6"></script> 
<script type="text/javascript" src="https://iihui.github.io/js/vendor/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.min.js?v=1.2.1"></script>
<script type="text/javascript" src="https://iihui.github.io/js/vendor/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="https://iihui.github.io/js/vendor/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>

<script src="https://iihui.github.io/js/vendor/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>

<script type="text/javascript" src="https://iihui.github.io/js/utils.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/motion.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/affix.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/schemes/pisces.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/scrollspy.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/post-details.js"></script>
<script type="text/javascript" src="https://iihui.github.io/js/toc.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/bootstrap.js"></script>

<script type="text/javascript" src="https://iihui.github.io/js/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'] ],
      displayMath: [ ['$$','$$'] ],
      processEscapes: true
    },
    "HTML-CSS": { fonts: ["TeX"] }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML' async></script>
</body>
</html>